!function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=4)}([function(t,e,i){t.exports=i.p+"tiles_stonebrick.2511e79759189b7c9249a61dd24743ee.png"},function(t,e,i){t.exports=i.p+"tiles_cavebrick.2658550fb4722231ea6f3468ae79dc56.png"},function(t,e,i){t.exports=i.p+"sprites.9cd92ffd5ad9d4978aad47f3d40eb83e.png"},function(t,e,i){},function(t,e,i){"use strict";i.r(e);i(3);var n=i(0),a=i.n(n),r=i(1),s=i.n(r),o=i(2),l=i.n(o);function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e,i){return e&&c(t.prototype,e),i&&c(t,i),t}var d=function(t,e,i){return Math.max(e,Math.min(i,t))},p=function(t){return~t>>>0},f=function(t,e,i){var n=(1<<i)-1;return t<<(e%=i)&n|(t&n)>>i-e},v=function(t,e){var i,n=null;i=function(a){null===n&&(n=a);var r=(a-n)/t;r<1?(e(r),window.requestAnimationFrame(i)):e(1)},window.requestAnimationFrame(i)},y=function(t){for(var e=0,i=1779033703^t.length;e<t.length;e++)i=(i=Math.imul(i^t.charCodeAt(e),3432918353))<<13|i>>>19;return function(){return i=Math.imul(i^i>>>16,2246822507),i=Math.imul(i^i>>>13,3266489909),(i^=i>>>16)>>>0}},m=function(){function t(e){h(this,t),this.state=e}return u(t,[{key:"next",value:function(){var t=this.state+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967295}}]),t}(),g=function(){function t(e){h(this,t),void 0!==e&&(e=parseInt(e,36)),e||(e=(new Date).toISOString(),e=y(e)()),this.generator=new m(e)}return u(t,[{key:"next",value:function(){return this.generator.next()}},{key:"getState",value:function(){return this.generator.state.toString(36)}}]),t}(),x=function(t){return new Promise(function(e,i){var n=new Image;n.addEventListener("load",function(){return e(n)}),n.addEventListener("error",function(t){return i(t)}),n.src=t})},w=function(t,e){try{return new OffscreenCanvas(t,e)}catch(n){var i=document.createElement("canvas");return i.width=t,i.height=e,i}};function S(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var b=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=e,this.height=i,this.cells=new Array(this.width*this.height).fill(0)}var e,i,n;return e=t,(i=[{key:"reset",value:function(){this.cells=new Array(this.width*this.height).fill(0)}},{key:"within",value:function(t,e){return t>=0&&t<this.width&&e>=0&&e<this.height}},{key:"set",value:function(t,e,i){t=d(t,0,this.width-1),e=d(e,0,this.height-1),this.cells[e*this.width+t]=i}},{key:"get",value:function(t,e){return t=d(t,0,this.width-1),e=d(e,0,this.height-1),this.cells[e*this.width+t]}},{key:"getDefault",value:function(t,e,i){return this.within(t,e)?this.cells[e*this.width+t]:i}},{key:"fill",value:function(t,e,i,n,a){t=d(t,0,this.width-1),e=d(e,0,this.height-1),i=d(i,0,this.width-t),n=d(n,0,this.height-e);for(var r=0;r<n;++r)for(var s=0;s<i;++s)this.set(t+s,e+r,a)}}])&&S(e.prototype,i),n&&S(e,n),t}();function k(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var I=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=e,this.height=i,this.posIndex={},this.typeIndex={}}var e,i,n;return e=t,(i=[{key:"reset",value:function(){this.posIndex={},this.typeIndex={}}},{key:"within",value:function(t,e){return t>=0&&t<this.width&&e>=0&&e<this.height}},{key:"add",value:function(t){var e="".concat(t.x," ").concat(t.y);this.posIndex[e]=t,void 0===this.typeIndex[t.type]&&(this.typeIndex[t.type]=[]),this.typeIndex[t.type].push(t)}},{key:"clear",value:function(t,e){var i=this.get(t,e);if(null!==i){var n=this.typeIndex[i.type].indexOf(i);n>-1&&this.typeIndex[i.type].splice(n,1);var a="".concat(i.x," ").concat(i.y);delete this.posIndex[a]}}},{key:"set",value:function(t,e,i){i.x=d(t,0,this.width-1),i.y=d(e,0,this.height-1),this.clear(t,e),this.add(i)}},{key:"get",value:function(t,e){t=d(t,0,this.width-1),e=d(e,0,this.height-1);var i="".concat(t," ").concat(e),n=this.posIndex[i];return void 0!==n?n:null}},{key:"find",value:function(t){return void 0===this.typeIndex[t]?[]:this.typeIndex[t].slice()}},{key:"remove",value:function(t){this.clear(t.x,t.y)}},{key:"list",value:function(){return Object.values(this.posIndex)}}])&&k(e.prototype,i),n&&k(e,n),t}(),M={NorthDoor:Math.pow(2,0),NorthWall:Math.pow(2,1),EastDoor:Math.pow(2,2),EastWall:Math.pow(2,3),SouthDoor:Math.pow(2,4),SouthWall:Math.pow(2,5),WestDoor:Math.pow(2,6),WestWall:Math.pow(2,7),ALL:256};M.North=M.NorthDoor|M.NorthWall,M.East=M.EastDoor|M.EastWall,M.South=M.SouthDoor|M.SouthWall,M.West=M.WestDoor|M.WestWall,M.DOOR_MASK=M.NorthDoor|M.EastDoor|M.SouthDoor|M.WestDoor,M.WALL_MASK=M.NorthWall|M.EastWall|M.SouthWall|M.WestWall;var D=[{x:0,y:-1},{x:0,y:-1},{x:1,y:0},{x:1,y:0},{x:0,y:1},{x:0,y:1},{x:-1,y:0},{x:-1,y:0}],G=function(t,e,i){return{x:t+D[i].x,y:e+D[i].y}},C=function(t){return f(t,4,8)},E=function(t,e,i){var n=i|f(i,1,8);return e=C(e)&n,t&p(n)|e},O=function t(e,i,n,a,r,s){var o=r=C(r);s>0&&(o=function(t,e){var i=Math.floor(t.next()*M.ALL),n=Math.floor(t.next()*M.ALL),a=i&M.DOOR_MASK|e&M.DOOR_MASK;return(n&M.WALL_MASK|e&M.WALL_MASK)&p(f(a,1,8))|a}(i,r)),o=function(t,e,i,n){for(var a=0;a<8;a+=2){var r=1<<a,s=1<<a+1,o=G(e,i,a);if(t.within(o.x,o.y)){var l=t.get(o.x,o.y);0!==l&&(n=E(n,l,r))}else n&=p(r|s)}return n}(e,n,a,o),e.set(n,a,o);for(var l=0;l<8;l++){var h=1<<l,c=G(n,a,l);if(e.within(c.x,c.y)){var u=e.get(c.x,c.y);0!=(o&h)&&h!==r&&0===u&&t(e,i,c.x,c.y,h,s-1)}}};function L(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var W=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.xDown=null,this.yDown=null,this.element=e,this.onSwipe=i,this.element.addEventListener("touchstart",this.handleTouchStart.bind(this),!1),this.element.addEventListener("touchmove",this.handleTouchMove.bind(this),!1)}var e,i,n;return e=t,(i=[{key:"handleTouchStart",value:function(t){this.xDown=t.touches[0].clientX,this.yDown=t.touches[0].clientY}},{key:"handleTouchMove",value:function(t){if(this.xDown&&this.yDown&&this.onSwipe){var e=t.touches[0].clientX,i=t.touches[0].clientY;this.xDiff=this.xDown-e,this.yDiff=this.yDown-i,Math.abs(this.xDiff)>Math.abs(this.yDiff)?this.xDiff>0?this.onSwipe(t,"SwipeLeft"):this.onSwipe(t,"SwipeRight"):(this.yDiff>0?this.onSwipe(t,"SwipeUp"):this.onSwipe(t,"SwipeDown"),t.preventDefault()),this.xDown=null,this.yDown=null}}}])&&L(e.prototype,i),n&&L(e,n),t}();function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){return!e||"object"!==z(e)&&"function"!=typeof e?P(t):e}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function q(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function H(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function R(t,e,i){return e&&N(t.prototype,e),i&&N(t,i),t}var K=function(){function t(){H(this,t)}return R(t,[{key:"update",value:function(t){}},{key:"collect",value:function(t){}}]),t}(),B=function(t){function e(t){var i;return H(this,e),i=A(this,j(e).call(this)),Object.assign(P(i),t),i.spriteIndex=e.spriteIndex,i.type=e.type,i.sequenceIndex=0,i}return T(e,K),R(e,[{key:"update",value:function(t){this.sequenceIndex=parseInt(6*t)%3}}]),e}();q(B,"type","player"),q(B,"spriteIndex",0);var U=function(t){function e(){var t;return H(this,e),(t=A(this,j(e).call(this))).spriteIndex=e.spriteIndex,t.sequenceIndex=0,t.type=e.type,t}return T(e,K),R(e,[{key:"collect",value:function(t){return t.gemsCollected+=1,!0}}]),e}();q(U,"type","gem"),q(U,"spriteIndex",1);var Y=function(t){function e(){var t;return H(this,e),(t=A(this,j(e).call(this))).spriteIndex=e.spriteIndex,t.sequenceIndex=0,t.type=e.type,t.stamina=30,t}return T(e,K),R(e,[{key:"collect",value:function(t){return t.stamina=Math.min(t.maxStamina,t.stamina+this.stamina),!0}}]),e}();q(Y,"type","food"),q(Y,"spriteIndex",2);var F=function(t){function e(){var t;return H(this,e),(t=A(this,j(e).call(this))).spriteIndex=e.spriteIndex,t.sequenceIndex=0,t.type=e.type,t}return T(e,K),R(e,[{key:"collect",value:function(t){return t.health+=1,!0}}]),e}();q(F,"type","heart"),q(F,"spriteIndex",3);var J=function(t){function e(){var t;return H(this,e),(t=A(this,j(e).call(this))).spriteIndex=e.spriteIndex,t.sequenceIndex=0,t.type=e.type,t.counter=0,t.damage=1,t}return T(e,K),R(e,[{key:"update",value:function(){this.counter++,this.sequenceIndex=this.counter%3}},{key:"collect",value:function(t){return 1===this.sequenceIndex&&(t.health-=this.damage),!1}}]),e}();q(J,"type","spiketrap"),q(J,"spriteIndex",4);var V=function(t){function e(){var t;return H(this,e),(t=A(this,j(e).call(this))).type=e.type,t.spriteIndex=e.spriteIndex,t.sequenceIndex=0,t}return T(e,K),R(e,[{key:"collect",value:function(t){return t.coins+=1,!0}}]),e}();q(V,"type","coin"),q(V,"spriteIndex",6);var X=function(t){function e(){var t;return H(this,e),(t=A(this,j(e).call(this))).type=e.type,t.spriteIndex=e.spriteIndex,t.sequenceIndex=1,t}return T(e,K),R(e,[{key:"collect",value:function(t){return!0}}]),e}();q(X,"type","merchantexit"),q(X,"spriteIndex",5);var Q=function(t){function e(){var t;return H(this,e),(t=A(this,j(e).call(this))).type=e.type,t.spriteIndex=e.spriteIndex,t.sequenceIndex=1,t.cost=1e3,t}return T(e,K),R(e,[{key:"collect",value:function(t){if(t.gemsCollected>=this.cost)return t.coins+=1,t.gemsCollected-=this.cost,!0}}]),e}();q(Q,"type","merchantcoin"),q(Q,"spriteIndex",6);var Z=function(t){function e(){var t;return H(this,e),(t=A(this,j(e).call(this))).type=e.type,t.spriteIndex=e.spriteIndex,t.sequenceIndex=1,t.cost=5,t}return T(e,K),R(e,[{key:"collect",value:function(t){if(t.coins>=this.cost)return t.coins-=this.cost,t.initHealth+=1,t.health=t.initHealth,!0}}]),e}();q(Z,"type","merchantheart"),q(Z,"spriteIndex",3);var $=function(t){function e(){var t;return H(this,e),(t=A(this,j(e).call(this))).type=e.type,t.spriteIndex=e.spriteIndex,t.sequenceIndex=1,t.cost=2,t}return T(e,K),R(e,[{key:"collect",value:function(t){if(t.coins>=this.cost)return t.coins-=this.cost,t.maxStamina+=10,t.stamina=t.maxStamina,!0}}]),e}();q($,"type","merchantfood"),q($,"spriteIndex",2);var tt=function(t,e,i,n){var a=t.get(i,n)*(t.getDefault(i,n-1,1)|t.getDefault(i+1,n,1)<<1|t.getDefault(i,n+1,1)<<2|t.getDefault(i-1,n,1)<<3);return!(e.next()<.25)||3!==a&&9!==a&&11!==a?a:a-1},et=function(t,e,i,n){var a=new b(t.width,t.height);a.fill(0,0,a.width,a.height,1);for(var r=0,s=e.height;r<s;r++)for(var o=0,l=e.width;o<l;o++){var h=e.get(o,r);if(0!==h){var c=Math.floor(i/3),u=o*i,d=r*i;a.fill(u+1,d+1,i-2,i-2,0),0!=(h&M.NorthDoor)&&a.fill(u+1+c,d,c,1,0),0!=(h&M.NorthWall)&&a.fill(u+1,d,i-2,1,0),0!=(h&M.EastDoor)&&a.fill(u+i-1,d+1+c,1,c,0),0!=(h&M.EastWall)&&a.fill(u+i-1,d+1,1,i-2,0),0!=(h&M.SouthDoor)&&a.fill(u+1+c,d+i-1,c,1,0),0!=(h&M.SouthWall)&&a.fill(u+1,d+i-1,i-2,1,0),0!=(h&M.WestDoor)&&a.fill(u,d+1+c,1,c,0),0!=(h&M.WestWall)&&a.fill(u,d+1,1,i-2,0)}}for(var p=0,f=t.height;p<f;p++)for(var v=0,y=t.width;v<y;v++)t.set(v,p,tt(a,n,v,p))};function it(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var nt,at=5,rt=8,st=(nt=Math.round(4+window.devicePixelRatio))-nt%2,ot=new g(window.location.hash.substr(1)),lt=0,ht=function(t,e,i,n,a){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];t.drawImage(e,8*i,8*r,8,8,n,a,s?-8:8,8)},ct={offset:{x:0,y:-1},mask:M.North},ut={offset:{x:1,y:0},mask:M.East},dt={offset:{x:0,y:1},mask:M.South},pt={offset:{x:-1,y:0},mask:M.West},ft=function(){function t(e){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=this.loadState();Object.assign(this,n),this.gameState=lt,this.canvas=e,this.canvas.width=window.innerWidth-4,this.canvas.height=window.innerHeight-4,this.widthScaled=this.canvas.width/st,this.heightScaled=this.canvas.height/st,this.ctx=this.canvas.getContext("2d"),this.bgCanvas=w(this.canvas.width,this.canvas.height),this.mazeGrid=new b(parseInt(this.widthScaled/at/rt),parseInt(this.heightScaled/at/rt)),this.entityGrid=new I(this.mazeGrid.width,this.mazeGrid.height),this.tileGrid=new b(this.mazeGrid.width*at,this.mazeGrid.height*at),window.addEventListener("keydown",function(t){return i.handleInput(t,t.key)}),this.canvas.addEventListener("click",function(t){return i.handleInput(t,"click")}),this.swipeHandler=new W(e,function(t,e){return i.handleInput(t,e)}),Promise.all([x(a.a),x(s.a),x(l.a)]).then(function(t){i.tiles=[t[0],t[1]],i.sprites=t[2],i.reset()})}var e,i,n;return e=t,(i=[{key:"playerBaseState",value:function(){return{pos:{x:0,y:0},initHealth:3,health:3,maxStamina:100,stamina:100,gemsCollected:0,coins:0,levelsCompleted:0}}},{key:"baseState",value:function(){return{player:new B(this.playerBaseState()),stats:{maxGemsCollected:0,deaths:0,levelsCompleted:0,totalMoves:0}}}},{key:"loadState",value:function(){var t=localStorage.getItem("state"),e=this.baseState();if(t)try{var i=JSON.parse(t),n=Object.assign({},e);return Object.assign(n.player,i.player),Object.assign(n.stats,i.stats),n}catch(t){return e}return e}},{key:"saveState",value:function(){var t={player:{pos:this.player.pos,initHealth:this.player.initHealth,health:this.player.health,maxStamina:this.player.maxStamina,stamina:this.player.stamina,gemsCollected:this.player.gemsCollected,levelsCompleted:this.player.levelsCompleted,coins:this.player.coins},stats:{maxGemsCollected:this.stats.maxGemsCollected,deaths:this.stats.deaths,levelsCompleted:this.stats.levelsCompleted,totalMoves:this.stats.totalMoves}};localStorage.setItem("state",JSON.stringify(t))}},{key:"statAverageMovesPerLevel",value:function(){return this.stats.totalMoves>0&&this.stats.levelsCompleted>0?Math.round(this.stats.totalMoves/this.stats.levelsCompleted,2):0}},{key:"reset",value:function(t){this.gameState=lt,t&&window.history.pushState(null,null,"#"+ot.getState()),this.mazeGrid.reset(),this.entityGrid.reset(),this.tileGrid.reset(),this.gameState=1,this.player.levelsCompleted>0&&this.player.levelsCompleted%50==0?(this.gameState|=2,this.generateMerchantLevel()):this.generateMazeLevel(),this.drawMaze(this.bgCanvas.getContext("2d")),this.draw()}},{key:"generateMerchantLevel",value:function(){var t=parseInt(this.mazeGrid.width/2),e=parseInt(this.mazeGrid.height/2);this.mazeGrid.set(t,e,M.NorthWall|M.EastWall|M.SouthDoor|M.WestWall),this.mazeGrid.set(t,e-1,M.SouthWall),this.mazeGrid.set(t,e+1,M.NorthDoor),this.mazeGrid.set(t-1,e,M.EastWall),this.mazeGrid.set(t+1,e,M.WestWall),et(this.tileGrid,this.mazeGrid,at,ot),this.player.pos={x:t,y:e,dir:1},this.entityGrid.set(t,e-1,new Q),this.entityGrid.set(t-1,e,new Z),this.entityGrid.set(t+1,e,new $),this.entityGrid.set(t,e+1,new X)}},{key:"generateMazeLevel",value:function(){var t=parseInt(this.mazeGrid.width/2),e=parseInt(this.mazeGrid.height/2);O(this.mazeGrid,ot,t,e,M.DOOR_MASK,12),et(this.tileGrid,this.mazeGrid,at,ot),this.player.pos={x:t,y:e,dir:1},this.generateEntities(U,3,12),this.generateEntities(Y,1,5),this.generateEntities(J,1,5),this.generateEntities(F,.2),this.generateEntities(V,.05)}},{key:"generateEntities",value:function(t,e,i){var n;n=void 0===i?ot.next()<e?1:0:e+Math.round(ot.next()*(i-e));for(var a=0,r=1e3;a<n&&r>0;){r--;var s=parseInt(ot.next()*this.mazeGrid.width),o=parseInt(ot.next()*this.mazeGrid.height);0!==this.mazeGrid.get(s,o)&&null===this.entityGrid.get(s,o)&&(this.entityGrid.set(s,o,new t),a++)}}},{key:"playerMoveBy",value:function(t){var e=this,i=this.player.pos,n=i.x,a=i.y;this.player.pos.dir=t.x>=0?1:-1,v(500,function(i){e.player.pos.x=n+t.x*i,e.player.pos.y=a+t.y*i,e.player.update(i),1===i&&(e.player.stamina-=4,e.checkEntities(),e.endMove()),e.draw()})}},{key:"playerMove",value:function(t){var e={x:this.player.pos.x+t.offset.x,y:this.player.pos.y+t.offset.y},i=this.mazeGrid.get(this.player.pos.x,this.player.pos.y),n=0!=(this.mazeGrid.get(e.x,e.y)&C(t.mask));0!=(i&t.mask)&&n&&this.playerMoveBy(t.offset)}},{key:"playerRest",value:function(){this.player.stamina-=2,this.checkEntities(),this.endMove(),this.draw()}},{key:"checkEntities",value:function(){for(var t=this.entityGrid.list(),e=0;e<t.length;e++)t[e].update();var i=this.entityGrid.get(this.player.pos.x,this.player.pos.y);i&&i.collect(this.player)&&this.entityGrid.remove(i)}},{key:"endMove",value:function(){0!=(2&this.gameState)?this.endMoveMerchant():this.endMoveMaze()}},{key:"endMoveMerchant",value:function(){var t=this;this.saveState(),0===this.entityGrid.find("merchantexit").length&&(this.player.levelsCompleted+=1,this.stats.levelsCompleted+=1,this.fadeOut(this.ctx,500,function(){return t.reset(!0)}))}},{key:"endMoveMaze",value:function(){var t=this,e=!1;if(this.stats.maxGemsCollected=Math.max(this.stats.maxGemsCollected,this.player.gemsCollected),this.stats.totalMoves+=1,0===this.entityGrid.find("gem").length&&(this.player.levelsCompleted+=1,this.stats.levelsCompleted+=1,this.player.stamina=Math.min(this.player.stamina+40,100),e=!0),this.player.stamina<=0&&this.player.health>0&&(this.player.stamina=20,this.player.health-=1),this.player.health<=0){this.stats.deaths+=1;var i=this.player.coins;Object.assign(this.player,this.playerBaseState()),this.player.coins=i,this.player.health=this.player.initHealth,this.player.stamina=this.player.maxStamina,e=!0,this.showDeathScreen(this)}this.saveState(),e&&this.fadeOut(this.ctx,500,function(){return t.reset(!0)})}},{key:"fadeOut",value:function(t,e,i){var n=this;this.gameState=lt,v(e,function(e){t.save(),t.scale(st,st),t.fillStyle="rgba(0, 0, 0, 0.1)",t.fillRect(0,0,n.widthScaled,n.heightScaled),n.ctx.restore(),1===e&&i()})}},{key:"handleInput",value:function(t,e){if(0!=(1&this.gameState))switch(e){case"SwipeUp":case"ArrowUp":this.playerMove(ct),t.preventDefault();break;case"SwipeDown":case"ArrowDown":this.playerMove(dt),t.preventDefault();break;case"SwipeLeft":case"ArrowLeft":this.playerMove(pt),t.preventDefault();break;case"SwipeRight":case"ArrowRight":this.playerMove(ut),t.preventDefault();break;case"click":case" ":this.playerRest(),t.preventDefault()}}},{key:"draw",value:function(){this.ctx.drawImage(this.bgCanvas,0,0),this.drawEntities(this.ctx),this.drawPlayer(this.ctx),this.drawHUD(this.ctx)}},{key:"drawMaze",value:function(t){var e=Math.round(ot.next()),i=this.tiles[e];t.save(),t.imageSmoothingEnabled=!1,t.scale(st,st);var n=4*rt-1;t.drawImage(i,n,n,1,1,0,0,this.widthScaled,this.heightScaled);for(var a=0,r=this.tileGrid.height;a<r;a++)for(var s=0,o=this.tileGrid.width;s<o;s++)this.drawTile(t,i,s,a,this.tileGrid.get(s,a));t.restore()}},{key:"drawTile",value:function(t,e,i,n,a){var r=a%4*rt,s=Math.floor(a/4)*rt;t.drawImage(e,r,s,rt,rt,i*rt,n*rt,rt,rt)}},{key:"drawPlayer",value:function(t){var e=at*rt,i=.5*e-4;t.save(),t.imageSmoothingEnabled=!1,t.scale(st,st),t.translate(this.player.pos.x*e+i,this.player.pos.y*e+i),t.scale(this.player.pos.dir,1),ht(t,this.sprites,B.spriteIndex,0,0,this.player.sequenceIndex,this.player.pos.dir<0),t.restore()}},{key:"drawEntities",value:function(t){var e=at*rt,i=.5*e-4,n=this.entityGrid.list();t.save(),t.imageSmoothingEnabled=!1,t.scale(st,st);for(var a=0,r=n.length;a<r;a++){var s=n[a].spriteIndex,o=n[a].sequenceIndex;this.entityVisible(n[a])||(s=5,o=0),ht(t,this.sprites,s,n[a].x*e+i,n[a].y*e+i,o)}t.restore()}},{key:"entityVisible",value:function(t){var e=[ct,ut,dt,pt],i=parseInt(this.player.pos.x),n=parseInt(this.player.pos.y);if(t.x===i&&t.y===n)return!0;for(var a=this.mazeGrid.get(i,n),r=0;r<4;r++)if(0!=(a&e[r].mask)){var s=parseInt(this.player.pos.x)+e[r].offset.x,o=parseInt(this.player.pos.y)+e[r].offset.y;if(t.x===s&&t.y===o)return!0}return!1}},{key:"drawHUD",value:function(t){var e=this.widthScaled-10,i=e*this.player.stamina/this.player.maxStamina-2,n=this.heightScaled-5;t.save(),t.imageSmoothingEnabled=!1,t.scale(st,st),t.fillStyle="rgba(68, 36, 52, 1)",t.fillRect(5,n,e,5),t.fillStyle="rgba(210, 125, 44, 1)",t.fillRect(6,n+1,i,3),t.font="bold 8px serif",t.textAlign="end";var a="".concat(this.player.gemsCollected);t.fillText(a,this.widthScaled-16,this.heightScaled-9),ht(t,this.sprites,U.spriteIndex,this.widthScaled-8-5,this.heightScaled-16);var r="".concat(this.player.coins);t.fillText(r,this.widthScaled-43,this.heightScaled-9),ht(t,this.sprites,V.spriteIndex,this.widthScaled-8-32,this.heightScaled-16);for(var s=5,o=0;o<this.player.health;o++,s+=10)ht(t,this.sprites,F.spriteIndex,s,this.heightScaled-16);t.restore()}}])&&it(e.prototype,i),n&&it(e,n),t}(),vt=document.createElement("canvas");document.body.appendChild(vt),window.game=new ft(vt);var yt,mt=document.createElement("div");yt=function(t){t.preventDefault(),mt.style.display="none",mt.removeEventListener("click",yt)},mt.classList.add("start-screen"),mt.addEventListener("click",yt),mt.innerHTML='\n<div class="inner">\n<div class="title">Collect Gems</div>\n<div>\n  Press arrow keys to move, Space to wait a turn.<br/>\n  Or swipe to move, tap to wait a turn.<br/>\n  Click or tap to start<br/>\n</div>\n<table class="stats small">\n<tr><td>Max gems collected:</td><td>'.concat(game.stats.maxGemsCollected,"</td></tr>\n<tr><td>Deaths:</td><td>").concat(game.stats.deaths,"</td></tr>\n<tr><td>Levels completed:</td><td>").concat(game.stats.levelsCompleted,"</td></tr>\n<tr><td>Average moves per level:</td><td>").concat(game.statAverageMovesPerLevel(),"</td></tr>\n</table>\n</div>\n"),document.body.appendChild(mt);var gt=document.createElement("div");gt.classList.add("death-screen","hide"),gt.innerHTML='\n<div>\n  <div class="title">You died</div>\n  <div>Click or tap to continue.</div>\n  <table class="stats small">\n  <tr><td>Max gems collected:</td><td class="maxGemsCollected"></td></tr>\n  <tr><td>Deaths:</td><td class="deaths"></td></tr>\n  <tr><td>Levels completed:</td><td class="levelsCompleted"></td></tr>\n  <tr><td>Average moves per level:</td><td class="averageMovesPerLevel"></td></tr>\n  </table>\n</div>\n',gt.addEventListener("click",function(t){t.preventDefault(),gt.classList.add("hide")}),document.body.appendChild(gt),game.showDeathScreen=function(t){gt.querySelector(".maxGemsCollected").innerHTML=t.stats.maxGemsCollected,gt.querySelector(".deaths").innerHTML=t.stats.deaths,gt.querySelector(".levelsCompleted").innerHTML=t.stats.levelsCompleted,gt.querySelector(".averageMovesPerLevel").innerHTML=t.statAverageMovesPerLevel(),gt.classList.remove("hide")}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL3RpbGVzX3N0b25lYnJpY2sucG5nIiwid2VicGFjazovLy8uL2Fzc2V0cy90aWxlc19jYXZlYnJpY2sucG5nIiwid2VicGFjazovLy8uL2Fzc2V0cy9zcHJpdGVzLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyaWQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VudGl0eUdyaWQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21hemVnZW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N3aXBlLmpzIiwid2VicGFjazovLy8uL3NyYy9lbnRpdHkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RpbGVmaWxsLmpzIiwid2VicGFjazovLy8uL3NyYy9nYW1lLmpzIiwid2VicGFjazovLy8uL3NyYy9tYWluLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY2xhbXAiLCJ2YWwiLCJtaW4iLCJtYXgiLCJNYXRoIiwibm90Iiwicm90bCIsInNoaWZ0Q291bnQiLCJzaXplIiwic2l6ZU1hc2siLCJyb3V0aW5lIiwiZHVyYXRpb25NcyIsImZyYW1lRm4iLCJmcmFtZUZuV3JhcHBlciIsImluaXRpYWwiLCJ0aW1lc3RhbXAiLCJkZWx0YSIsIndpbmRvdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInhtdXIzIiwic3RyIiwiaCIsImxlbmd0aCIsImltdWwiLCJjaGFyQ29kZUF0IiwiTXVsYmVycnkzMiIsInNlZWQiLCJ0aGlzIiwic3RhdGUiLCJSYW5kb20iLCJpbml0U2VlZCIsInVuZGVmaW5lZCIsInBhcnNlSW50IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZ2VuZXJhdG9yIiwibmV4dCIsInRvU3RyaW5nIiwibG9hZEltYWdlIiwic3JjIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJpbWciLCJJbWFnZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJlcnIiLCJvZmZzY3JlZW5DYW52YXMiLCJ3aWR0aCIsImhlaWdodCIsIk9mZnNjcmVlbkNhbnZhcyIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIkdyaWQiLCJjZWxscyIsIkFycmF5IiwiZmlsbCIsIngiLCJ5IiwiZGVmYXVsdFZhbHVlIiwid2l0aGluIiwieDEiLCJ5MSIsInciLCJzZXQiLCJFbnRpdHlHcmlkIiwicG9zSW5kZXgiLCJ0eXBlSW5kZXgiLCJlbnRpdHkiLCJwb3NLZXkiLCJ0eXBlIiwicHVzaCIsImV4aXN0aW5nIiwiaW5kZXhPZiIsInNwbGljZSIsImNsZWFyIiwiYWRkIiwiZW50aXR5VHlwZSIsInNsaWNlIiwidmFsdWVzIiwiRmVhdHVyZSIsIk5vcnRoRG9vciIsIk5vcnRoV2FsbCIsIkVhc3REb29yIiwiRWFzdFdhbGwiLCJTb3V0aERvb3IiLCJTb3V0aFdhbGwiLCJXZXN0RG9vciIsIldlc3RXYWxsIiwiQUxMIiwiTm9ydGgiLCJFYXN0IiwiU291dGgiLCJXZXN0IiwiRE9PUl9NQVNLIiwiV0FMTF9NQVNLIiwiT0ZGU0VUIiwib2Zmc2V0IiwiZGlyIiwic2hpZnRGZWF0dXJlIiwiZmVhdHVyZXMiLCJtZXJnZUZlYXR1cmVzIiwiYSIsImIiLCJtYXNrIiwiZ2VuZXJhdGVNYXplIiwiZ3JpZCIsInJhbmRvbSIsInByZXZpb3VzIiwiaXRlciIsInJhbmRvbURvb3JzIiwiZmxvb3IiLCJyYW5kb21XYWxscyIsImRvb3JzIiwiZ2VuZXJhdGVGZWF0dXJlcyIsImRpcjEiLCJleGlzdGluZ0ZlYXR1cmVzIiwibWVyZ2VBZGphY2VudCIsIlN3aXBlIiwiZWxlbWVudCIsIm9uU3dpcGUiLCJ4RG93biIsInlEb3duIiwiaGFuZGxlVG91Y2hTdGFydCIsImhhbmRsZVRvdWNoTW92ZSIsImV2ZW50IiwidG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwieFVwIiwieVVwIiwieERpZmYiLCJ5RGlmZiIsImFicyIsInByZXZlbnREZWZhdWx0IiwiRW50aXR5IiwicGxheWVyIiwiUGxheWVyIiwiaW5pdCIsImFzc2lnbiIsInNwcml0ZUluZGV4Iiwic2VxdWVuY2VJbmRleCIsIkdlbSIsImdlbXNDb2xsZWN0ZWQiLCJGb29kIiwic3RhbWluYSIsIm1heFN0YW1pbmEiLCJIZWFydCIsImhlYWx0aCIsIlNwaWtlVHJhcCIsImNvdW50ZXIiLCJkYW1hZ2UiLCJDb2luIiwiY29pbnMiLCJNZXJjaGFudEV4aXQiLCJNZXJjaGFudENvaW4iLCJjb3N0IiwiTWVyY2hhbnRIZWFydCIsImluaXRIZWFsdGgiLCJNZXJjaGFudEZvb2QiLCJjb21wdXRlVGlsZSIsInRpbGUiLCJnZXREZWZhdWx0IiwidGlsZUZpbGwiLCJ0aWxlR3JpZCIsIm1hemVHcmlkIiwicm9vbVNpemUiLCJ0bXBHcmlkIiwibXkiLCJtaCIsIm14IiwibXciLCJkb29yU2l6ZSIsInR4IiwidHkiLCJ0aCIsInR3IiwidiIsIlJPT01fU0laRSIsIlRJTEVfU0laRSIsIlNDQUxFIiwicm91bmQiLCJkZXZpY2VQaXhlbFJhdGlvIiwibG9jYXRpb24iLCJoYXNoIiwic3Vic3RyIiwiR0FNRV9TVEFURV9CVVNZIiwiZHJhd1Nwcml0ZSIsImN0eCIsInNwcml0ZVNoZWV0IiwiZmxpcCIsImRyYXdJbWFnZSIsIk1vdmVOb3J0aCIsIk1vdmVFYXN0IiwiTW92ZVNvdXRoIiwiTW92ZVdlc3QiLCJHYW1lIiwibG9hZFN0YXRlIiwiZ2FtZVN0YXRlIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0Iiwid2lkdGhTY2FsZWQiLCJoZWlnaHRTY2FsZWQiLCJnZXRDb250ZXh0IiwiYmdDYW52YXMiLCJlbnRpdHlHcmlkIiwiZSIsImhhbmRsZUlucHV0Iiwic3dpcGVIYW5kbGVyIiwic3dpcGVEaXIiLCJhbGwiLCJUaWxlc1N0b25lQnJpY2siLCJUaWxlc0NhdmVCcmljayIsIlNwcml0ZXNJbWFnZSIsInRoZW4iLCJpbWFnZXMiLCJ0aWxlcyIsInNwcml0ZXMiLCJyZXNldCIsInBvcyIsImxldmVsc0NvbXBsZXRlZCIsInBsYXllckJhc2VTdGF0ZSIsInN0YXRzIiwibWF4R2Vtc0NvbGxlY3RlZCIsImRlYXRocyIsInRvdGFsTW92ZXMiLCJzdGF0ZVJhdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJiYXNlU3RhdGUiLCJsb2FkZWRTdGF0ZSIsIkpTT04iLCJwYXJzZSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJuZXdIYXNoIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsImdldFN0YXRlIiwiZ2VuZXJhdGVNZXJjaGFudExldmVsIiwiZ2VuZXJhdGVNYXplTGV2ZWwiLCJkcmF3TWF6ZSIsImRyYXciLCJjZW50ZXJYIiwiY2VudGVyWSIsImdlbmVyYXRlRW50aXRpZXMiLCJjb3VudCIsImNvdW50UGxhY2VkIiwibG9vcEd1YXJkIiwiZGVsdGFWZWN0b3IiLCJpbml0WCIsImluaXRZIiwidXBkYXRlIiwiY2hlY2tFbnRpdGllcyIsImVuZE1vdmUiLCJ0YXJnZXQiLCJyb29tRnJvbSIsImNhbk1vdmVUbyIsInBsYXllck1vdmVCeSIsImVudGl0aWVzIiwibGlzdCIsImNvbGxlY3QiLCJyZW1vdmUiLCJlbmRNb3ZlTWVyY2hhbnQiLCJlbmRNb3ZlTWF6ZSIsInNhdmVTdGF0ZSIsImZpbmQiLCJmYWRlT3V0Iiwic2hvd0RlYXRoU2NyZWVuIiwiZHVyYXRpb24iLCJjYkVuZE9mRmFkZSIsInNhdmUiLCJzY2FsZSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwicmVzdG9yZSIsImlucHV0IiwicGxheWVyTW92ZSIsInBsYXllclJlc3QiLCJkcmF3RW50aXRpZXMiLCJkcmF3UGxheWVyIiwiZHJhd0hVRCIsInZhcmlhbnRJbmRleCIsInZhcmlhbnRJbWciLCJpbWFnZVNtb290aGluZ0VuYWJsZWQiLCJsYXN0VGlsZU9mZnNldCIsImRyYXdUaWxlIiwidGlsZVNldCIsInRpbGVJZCIsInN4Iiwic3kiLCJvZmZzZXRNdWx0IiwiU1BSSVRFX1NJWkUiLCJ0cmFuc2xhdGUiLCJlbnRpdHlWaXNpYmxlIiwicHgiLCJweSIsIml3IiwiZm9udCIsInRleHRBbGlnbiIsImdlbVRleHQiLCJmaWxsVGV4dCIsImNvaW5UZXh0IiwiYm9keSIsImFwcGVuZENoaWxkIiwiZ2FtZSIsImhpZGVTdGFydFNjcmVlbiIsInN0YXJ0U2NyZWVuIiwic3R5bGUiLCJkaXNwbGF5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsImlubmVySFRNTCIsInN0YXRBdmVyYWdlTW92ZXNQZXJMZXZlbCIsImRlYXRoU2NyZWVuIiwicXVlcnlTZWxlY3RvciJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxPQUFPLE1BR3ZCLEdBRkExQixFQUFvQmtCLEVBQUVPLEdBQ3RCWCxPQUFPQyxlQUFlVSxFQUFJLFVBQVcsQ0FBRVQsWUFBWSxFQUFNSyxNQUFPQSxJQUN0RCxFQUFQRSxHQUE0QixpQkFBVEYsRUFBbUIsSUFBSSxJQUFJTSxLQUFPTixFQUFPckIsRUFBb0JVLEVBQUVlLEVBQUlFLEVBQUssU0FBU0EsR0FBTyxPQUFPTixFQUFNTSxJQUFRQyxLQUFLLEtBQU1ELElBQzlJLE9BQU9GLEdBSVJ6QixFQUFvQjZCLEVBQUksU0FBUzFCLEdBQ2hDLElBQUlTLEVBQVNULEdBQVVBLEVBQU9xQixXQUM3QixXQUF3QixPQUFPckIsRUFBZ0IsU0FDL0MsV0FBOEIsT0FBT0EsR0FFdEMsT0FEQUgsRUFBb0JVLEVBQUVFLEVBQVEsSUFBS0EsR0FDNUJBLEdBSVJaLEVBQW9CYSxFQUFJLFNBQVNpQixFQUFRQyxHQUFZLE9BQU9qQixPQUFPa0IsVUFBVUMsZUFBZTFCLEtBQUt1QixFQUFRQyxJQUd6Ry9CLEVBQW9Ca0MsRUFBSSxHQUlqQmxDLEVBQW9CQSxFQUFvQm1DLEVBQUksRyxrQkNsRnJEaEMsRUFBT0QsUUFBVSxJQUEwQix5RCxnQkNBM0NDLEVBQU9ELFFBQVUsSUFBMEIsd0QsZ0JDQTNDQyxFQUFPRCxRQUFVLElBQTBCLGdELDRhQ0FwQyxJQUFNa0MsRUFBUSxTQUFVQyxFQUFLQyxFQUFLQyxHQUN2QyxPQUFPQyxLQUFLRCxJQUFJRCxFQUFLRSxLQUFLRixJQUFJQyxFQUFLRixLQUd4QkksRUFBTSxTQUFVcEIsR0FHM0IsT0FBUUEsSUFBVSxHQUdQcUIsRUFBTyxTQUFVTCxFQUFLTSxFQUFZQyxHQUc3QyxJQUFJQyxHQUFZLEdBQUtELEdBQVEsRUFDN0IsT0FDR1AsSUFISE0sR0FBMEJDLEdBR0ZDLEdBQ25CUixFQUFNUSxJQUFjRCxFQUFPRCxHQU1yQkcsRUFBVSxTQUFVQyxFQUFZQyxHQUMzQyxJQUNJQyxFQURBQyxFQUFVLEtBRWRELEVBQWlCLFNBQVNFLEdBQ1IsT0FBWkQsSUFBa0JBLEVBQVVDLEdBQ2hDLElBQUlDLEdBQVNELEVBQVlELEdBQVdILEVBQ2hDSyxFQUFRLEdBQ1ZKLEVBQVFJLEdBQ1JDLE9BQU9DLHNCQUFzQkwsSUFHN0JELEVBQVEsSUFHWkssT0FBT0Msc0JBQXNCTCxJQUtsQk0sRUFBUSxTQUFVQyxHQUM3QixJQUFLLElBQUlwRCxFQUFJLEVBQUdxRCxFQUFJLFdBQWFELEVBQUlFLE9BQVF0RCxFQUFJb0QsRUFBSUUsT0FBUXRELElBRXpEcUQsR0FERkEsRUFBSWpCLEtBQUttQixLQUFLRixFQUFJRCxFQUFJSSxXQUFXeEQsR0FBSSxjQUMxQixHQUFLcUQsSUFBTSxHQUN4QixPQUFPLFdBR0wsT0FGQUEsRUFBSWpCLEtBQUttQixLQUFLRixFQUFJQSxJQUFNLEdBQUksWUFDNUJBLEVBQUlqQixLQUFLbUIsS0FBS0YsRUFBSUEsSUFBTSxHQUFJLGFBQ3BCQSxHQUFLQSxJQUFNLE1BQVEsSUFLbEJJLEVBQWIsV0FDRSxXQUFZQyxHQUFNLFVBQ2hCQyxLQUFLQyxNQUFRRixFQUZqQix5Q0FLSSxJQUFJeEMsRUFBSXlDLEtBQUtDLE9BQVMsV0FHdEIsT0FGQTFDLEVBQUlrQixLQUFLbUIsS0FBS3JDLEVBQUlBLElBQU0sR0FBUSxFQUFKQSxNQUM1QkEsR0FBS0EsRUFBSWtCLEtBQUttQixLQUFLckMsRUFBSUEsSUFBTSxFQUFPLEdBQUpBLElBQ25CQSxJQUFNLE1BQVEsR0FBSyxlQVJwQyxLQWFhMkMsRUFBYixXQUNFLFdBQVlDLEdBQVUsZUFDSEMsSUFBYkQsSUFDRkEsRUFBV0UsU0FBU0YsRUFBVSxLQUUzQkEsSUFDSEEsR0FBWSxJQUFJRyxNQUFRQyxjQUN4QkosRUFBV1gsRUFBTVcsRUFBTlgsSUFFYlEsS0FBS1EsVUFBWSxJQUFJVixFQUFXSyxHQVRwQyx5Q0FZSSxPQUFPSCxLQUFLUSxVQUFVQyxTQVoxQixpQ0FlSSxPQUFPVCxLQUFLUSxVQUFVUCxNQUFNUyxTQUFTLFFBZnpDLEtBbUJhQyxFQUFZLFNBQVVDLEdBQ2pDLE9BQU8sSUFBSUMsUUFBUSxTQUFDQyxFQUFTQyxHQUMzQixJQUFNQyxFQUFNLElBQUlDLE1BQ2hCRCxFQUFJRSxpQkFBaUIsT0FBUSxrQkFBTUosRUFBUUUsS0FDM0NBLEVBQUlFLGlCQUFpQixRQUFTLFNBQUNDLEdBQUQsT0FBU0osRUFBT0ksS0FDOUNILEVBQUlKLElBQU1BLEtBSURRLEVBQWtCLFNBQVNDLEVBQU9DLEdBQzdDLElBQ0ksT0FBTyxJQUFJQyxnQkFBZ0JGLEVBQU9DLEdBRXRDLFNBQ0ksSUFBTUUsRUFBU0MsU0FBU0MsY0FBYyxVQUd0QyxPQUZBRixFQUFPSCxNQUFRQSxFQUNmRyxFQUFPRixPQUFTQSxFQUNURSxJLDBLQ3BHUUcsRSxXQUNuQixXQUFZTixFQUFPQyxJLDRGQUFRLFNBQ3pCdEIsS0FBS3FCLE1BQVFBLEVBQ2JyQixLQUFLc0IsT0FBU0EsRUFDZHRCLEtBQUs0QixNQUFRLElBQUlDLE1BQU03QixLQUFLcUIsTUFBUXJCLEtBQUtzQixRQUFRUSxLQUFLLEcsdURBSXREOUIsS0FBSzRCLE1BQVEsSUFBSUMsTUFBTTdCLEtBQUtxQixNQUFRckIsS0FBS3NCLFFBQVFRLEtBQUssSyw2QkFHaERDLEVBQUdDLEdBQ1QsT0FBT0QsR0FBSyxHQUFLQSxFQUFJL0IsS0FBS3FCLE9BQVNXLEdBQUssR0FBS0EsRUFBSWhDLEtBQUtzQixTLDBCQUduRFMsRUFBR0MsRUFBRzFFLEdBQ1R5RSxFQUFJMUQsRUFBTTBELEVBQUcsRUFBRy9CLEtBQUtxQixNQUFRLEdBQzdCVyxFQUFJM0QsRUFBTTJELEVBQUcsRUFBR2hDLEtBQUtzQixPQUFTLEdBQzlCdEIsS0FBSzRCLE1BQU1JLEVBQUloQyxLQUFLcUIsTUFBUVUsR0FBS3pFLEksMEJBRzlCeUUsRUFBR0MsR0FHTixPQUZBRCxFQUFJMUQsRUFBTTBELEVBQUcsRUFBRy9CLEtBQUtxQixNQUFRLEdBQzdCVyxFQUFJM0QsRUFBTTJELEVBQUcsRUFBR2hDLEtBQUtzQixPQUFTLEdBQ3ZCdEIsS0FBSzRCLE1BQU1JLEVBQUloQyxLQUFLcUIsTUFBUVUsSyxpQ0FHMUJBLEVBQUdDLEVBQUdDLEdBQ2YsT0FBS2pDLEtBQUtrQyxPQUFPSCxFQUFHQyxHQUdiaEMsS0FBSzRCLE1BQU1JLEVBQUloQyxLQUFLcUIsTUFBUVUsR0FGMUJFLEksMkJBS05FLEVBQUlDLEVBQUlDLEVBQUczQyxFQUFHcEMsR0FDakI2RSxFQUFLOUQsRUFBTThELEVBQUksRUFBR25DLEtBQUtxQixNQUFRLEdBQy9CZSxFQUFLL0QsRUFBTStELEVBQUksRUFBR3BDLEtBQUtzQixPQUFTLEdBQ2hDZSxFQUFJaEUsRUFBTWdFLEVBQUcsRUFBR3JDLEtBQUtxQixNQUFRYyxHQUM3QnpDLEVBQUlyQixFQUFNcUIsRUFBRyxFQUFHTSxLQUFLc0IsT0FBU2MsR0FDOUIsSUFBSyxJQUFJSixFQUFJLEVBQUdBLEVBQUl0QyxJQUFLc0MsRUFDdkIsSUFBSyxJQUFJRCxFQUFJLEVBQUdBLEVBQUlNLElBQUtOLEVBQ3ZCL0IsS0FBS3NDLElBQUlILEVBQUtKLEVBQUdLLEVBQUtKLEVBQUcxRSxRLDBNQ3pDWmlGLEUsV0FDbkIsV0FBWWxCLEVBQU9DLEksNEZBQVEsU0FDekJ0QixLQUFLcUIsTUFBUUEsRUFDYnJCLEtBQUtzQixPQUFTQSxFQUNkdEIsS0FBS3dDLFNBQVcsR0FDaEJ4QyxLQUFLeUMsVUFBWSxHLHVEQUlqQnpDLEtBQUt3QyxTQUFXLEdBQ2hCeEMsS0FBS3lDLFVBQVksSyw2QkFHWlYsRUFBR0MsR0FDUixPQUFPRCxHQUFLLEdBQUtBLEVBQUkvQixLQUFLcUIsT0FBU1csR0FBSyxHQUFLQSxFQUFJaEMsS0FBS3NCLFMsMEJBR3BEb0IsR0FDRixJQUFNQyxFQUFTLEdBQUgsT0FBTUQsRUFBT1gsRUFBYixZQUFrQlcsRUFBT1YsR0FDckNoQyxLQUFLd0MsU0FBU0csR0FBVUQsT0FDWXRDLElBQWhDSixLQUFLeUMsVUFBVUMsRUFBT0UsUUFDeEI1QyxLQUFLeUMsVUFBVUMsRUFBT0UsTUFBUSxJQUVoQzVDLEtBQUt5QyxVQUFVQyxFQUFPRSxNQUFNQyxLQUFLSCxLLDRCQUc3QlgsRUFBR0MsR0FDUCxJQUFNYyxFQUFXOUMsS0FBSzlDLElBQUk2RSxFQUFHQyxHQUM3QixHQUFpQixPQUFiYyxFQUFtQixDQUNyQixJQUFNekcsRUFBSTJELEtBQUt5QyxVQUFVSyxFQUFTRixNQUFNRyxRQUFRRCxHQUM1Q3pHLEdBQUssR0FBRzJELEtBQUt5QyxVQUFVSyxFQUFTRixNQUFNSSxPQUFPM0csRUFBRyxHQUNwRCxJQUFNc0csRUFBUyxHQUFILE9BQU1HLEVBQVNmLEVBQWYsWUFBb0JlLEVBQVNkLFVBQ2xDaEMsS0FBS3dDLFNBQVNHLE0sMEJBSXJCWixFQUFHQyxFQUFHVSxHQUNSQSxFQUFPWCxFQUFJMUQsRUFBTTBELEVBQUcsRUFBRy9CLEtBQUtxQixNQUFRLEdBQ3BDcUIsRUFBT1YsRUFBSTNELEVBQU0yRCxFQUFHLEVBQUdoQyxLQUFLc0IsT0FBUyxHQUNyQ3RCLEtBQUtpRCxNQUFNbEIsRUFBR0MsR0FDZGhDLEtBQUtrRCxJQUFJUixLLDBCQUdQWCxFQUFHQyxHQUNMRCxFQUFJMUQsRUFBTTBELEVBQUcsRUFBRy9CLEtBQUtxQixNQUFRLEdBQzdCVyxFQUFJM0QsRUFBTTJELEVBQUcsRUFBR2hDLEtBQUtzQixPQUFTLEdBQzlCLElBQU1xQixFQUFTLEdBQUgsT0FBTVosRUFBTixZQUFXQyxHQUNqQlUsRUFBUzFDLEtBQUt3QyxTQUFTRyxHQUM3QixZQUFldkMsSUFBWHNDLEVBQ0tBLEVBRUYsTywyQkFHSlMsR0FDSCxZQUFtQy9DLElBQS9CSixLQUFLeUMsVUFBVVUsR0FDVixHQUVGbkQsS0FBS3lDLFVBQVVVLEdBQVlDLFUsNkJBRzdCVixHQUNMMUMsS0FBS2lELE1BQU1QLEVBQU9YLEVBQUdXLEVBQU9WLEssNkJBSTVCLE9BQU9qRixPQUFPc0csT0FBT3JELEtBQUt3QyxlLGdDQzdEakJjLEVBQVUsQ0FDckJDLFVBQVcsS0FBRixJQUFFLEVBQUssR0FDaEJDLFVBQVcsS0FBRixJQUFFLEVBQUssR0FDaEJDLFNBQVUsS0FBRixJQUFFLEVBQUssR0FDZkMsU0FBVSxLQUFGLElBQUUsRUFBSyxHQUNmQyxVQUFXLEtBQUYsSUFBRSxFQUFLLEdBQ2hCQyxVQUFXLEtBQUYsSUFBRSxFQUFLLEdBQ2hCQyxTQUFVLEtBQUYsSUFBRSxFQUFLLEdBQ2ZDLFNBQVUsS0FBRixJQUFFLEVBQUssR0FDZkMsSUFBSyxLQUVQVCxFQUFRVSxNQUFRVixFQUFRQyxVQUFZRCxFQUFRRSxVQUM1Q0YsRUFBUVcsS0FBT1gsRUFBUUcsU0FBV0gsRUFBUUksU0FDMUNKLEVBQVFZLE1BQVFaLEVBQVFLLFVBQVlMLEVBQVFNLFVBQzVDTixFQUFRYSxLQUFPYixFQUFRTyxTQUFXUCxFQUFRUSxTQUMxQ1IsRUFBUWMsVUFBWWQsRUFBUUMsVUFBWUQsRUFBUUcsU0FBV0gsRUFBUUssVUFBWUwsRUFBUU8sU0FDdkZQLEVBQVFlLFVBQVlmLEVBQVFFLFVBQVlGLEVBQVFJLFNBQVdKLEVBQVFNLFVBQVlOLEVBQVFRLFNBR3ZGLElBQU1RLEVBQVMsQ0FDYixDQUFFdkMsRUFBRyxFQUFHQyxHQUFJLEdBQUssQ0FBRUQsRUFBRyxFQUFHQyxHQUFJLEdBQUssQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQUssQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQzdELENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUFLLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUFLLENBQUVELEdBQUksRUFBR0MsRUFBRyxHQUFLLENBQUVELEdBQUksRUFBR0MsRUFBRyxJQUd6RHVDLEVBQVMsU0FBVXhDLEVBQUdDLEVBQUd3QyxHQUM3QixNQUFPLENBQUV6QyxFQUFHQSxFQUFJdUMsRUFBT0UsR0FBS3pDLEVBQUdDLEVBQUdBLEVBQUlzQyxFQUFPRSxHQUFLeEMsSUFHdkN5QyxFQUFlLFNBQVVDLEdBQ3BDLE9BQU8vRixFQUFLK0YsRUFBVSxFQUFHLElBR3JCQyxFQUFnQixTQUFVQyxFQUFHQyxFQUFHTCxHQUdwQyxJQUFJTSxFQUFPTixFQUFNN0YsRUFBSzZGLEVBQUssRUFBRyxHQUU5QixPQURBSyxFQUFJSixFQUFhSSxHQUFLQyxFQUNkRixFQUFJbEcsRUFBSW9HLEdBQVFELEdBbUNiRSxFQUFlLFNBQWZBLEVBQXlCQyxFQUFNQyxFQUFRbEQsRUFBR0MsRUFBR2tELEVBQVVDLEdBRWxFLElBQUlULEVBREpRLEVBQVdULEVBQWFTLEdBRXBCQyxFQUFPLElBQ1RULEVBaEJxQixTQUFVTyxFQUFRQyxHQUN6QyxJQUFJRSxFQUFjM0csS0FBSzRHLE1BQU1KLEVBQU94RSxPQUFTNkMsRUFBUVMsS0FDakR1QixFQUFjN0csS0FBSzRHLE1BQU1KLEVBQU94RSxPQUFTNkMsRUFBUVMsS0FDakR3QixFQUFTSCxFQUFjOUIsRUFBUWMsVUFBY2MsRUFBVzVCLEVBQVFjLFVBTXBFLE9BTGFrQixFQUFjaEMsRUFBUWUsVUFBY2EsRUFBVzVCLEVBQVFlLFdBSXBEM0YsRUFBSUMsRUFBSzRHLEVBQU8sRUFBRyxJQUNSQSxFQU9kQyxDQUFpQlAsRUFBUUMsSUFHdENSLEVBdkNvQixTQUFVTSxFQUFNakQsRUFBR0MsRUFBRzBDLEdBQzFDLElBQUssSUFBSXJJLEVBQUksRUFBR0EsRUFBSSxFQUFHQSxHQUFLLEVBQUcsQ0FDN0IsSUFBSW1JLEVBQU0sR0FBS25JLEVBQ1hvSixFQUFPLEdBQU1wSixFQUFJLEVBQ2pCUyxFQUFJeUgsRUFBT3hDLEVBQUdDLEVBQUczRixHQUdyQixHQUFLMkksRUFBSzlDLE9BQU9wRixFQUFFaUYsRUFBR2pGLEVBQUVrRixHQUduQixDQUNILElBQUkwRCxFQUFtQlYsRUFBSzlILElBQUlKLEVBQUVpRixFQUFHakYsRUFBRWtGLEdBQ2QsSUFBckIwRCxJQUNGaEIsRUFBV0MsRUFBY0QsRUFBVWdCLEVBQWtCbEIsU0FMdkRFLEdBQVloRyxFQUFJOEYsRUFBTWlCLEdBUzFCLE9BQU9mLEVBc0JJaUIsQ0FBY1gsRUFBTWpELEVBQUdDLEVBQUcwQyxHQUNyQ00sRUFBSzFDLElBQUlQLEVBQUdDLEVBQUcwQyxHQUdmLElBQUssSUFBSXJJLEVBQUksRUFBR0EsRUFBSSxFQUFHQSxJQUFLLENBQzFCLElBQUltSSxFQUFNLEdBQUtuSSxFQUNYUyxFQUFJeUgsRUFBT3hDLEVBQUdDLEVBQUczRixHQUNyQixHQUFLMkksRUFBSzlDLE9BQU9wRixFQUFFaUYsRUFBR2pGLEVBQUVrRixHQUF4QixDQUdBLElBQUkwRCxFQUFtQlYsRUFBSzlILElBQUlKLEVBQUVpRixFQUFHakYsRUFBRWtGLEdBQ0QsSUFBcEIwQyxFQUFXRixJQUNUQSxJQUFRVSxHQUNVLElBQXJCUSxHQUVmWCxFQUFhQyxFQUFNQyxFQUFRbkksRUFBRWlGLEVBQUdqRixFQUFFa0YsRUFBR3dDLEVBQUtXLEVBQU8sTSwwS0NyR2xDUyxFLFdBQ25CLFdBQVlDLEVBQVNDLEksNEZBQVMsU0FDNUI5RixLQUFLK0YsTUFBUSxLQUNiL0YsS0FBS2dHLE1BQVEsS0FDYmhHLEtBQUs2RixRQUFVQSxFQUNmN0YsS0FBSzhGLFFBQVVBLEVBQ2Y5RixLQUFLNkYsUUFBUTNFLGlCQUNYLGFBQWNsQixLQUFLaUcsaUJBQWlCcEksS0FBS21DLE9BQU8sR0FDbERBLEtBQUs2RixRQUFRM0UsaUJBQ1gsWUFBYWxCLEtBQUtrRyxnQkFBZ0JySSxLQUFLbUMsT0FBTyxHLGdFQUdqQ21HLEdBQ2ZuRyxLQUFLK0YsTUFBUUksRUFBTUMsUUFBUSxHQUFHQyxRQUM5QnJHLEtBQUtnRyxNQUFRRyxFQUFNQyxRQUFRLEdBQUdFLFUsc0NBR2hCSCxHQUNkLEdBQUtuRyxLQUFLK0YsT0FBVS9GLEtBQUtnRyxPQUFVaEcsS0FBSzhGLFFBQXhDLENBSUEsSUFBSVMsRUFBTUosRUFBTUMsUUFBUSxHQUFHQyxRQUN2QkcsRUFBTUwsRUFBTUMsUUFBUSxHQUFHRSxRQUUzQnRHLEtBQUt5RyxNQUFRekcsS0FBSytGLE1BQVFRLEVBQzFCdkcsS0FBSzBHLE1BQVExRyxLQUFLZ0csTUFBUVEsRUFFdEIvSCxLQUFLa0ksSUFBSTNHLEtBQUt5RyxPQUFTaEksS0FBS2tJLElBQUkzRyxLQUFLMEcsT0FDbkMxRyxLQUFLeUcsTUFBUSxFQUNmekcsS0FBSzhGLFFBQVFLLEVBQU8sYUFHcEJuRyxLQUFLOEYsUUFBUUssRUFBTyxlQUlsQm5HLEtBQUswRyxNQUFRLEVBQ2YxRyxLQUFLOEYsUUFBUUssRUFBTyxXQUdwQm5HLEtBQUs4RixRQUFRSyxFQUFPLGFBRXRCQSxFQUFNUyxrQkFHUjVHLEtBQUsrRixNQUFRLEtBQ2IvRixLQUFLZ0csTUFBUSxXLGkwQ0MvQ1hhLEUsMkVBQ0d4SCxNLDhCQUNDeUgsUSxLQUdHQyxFQUFiLFlBR0UsV0FBWUMsR0FBTSx1QkFDaEIsMEJBQ0FqSyxPQUFPa0ssT0FBUCxLQUFvQkQsR0FDcEIsRUFBS0UsWUFBY0gsRUFBT0csWUFDMUIsRUFBS3RFLEtBQU9tRSxFQUFPbkUsS0FDbkIsRUFBS3VFLGNBQWdCLEVBTEwsRUFIcEIsV0FBNEJOLEdBQTVCLGtDQVVTeEgsR0FDTFcsS0FBS21ILGNBQWdCOUcsU0FBaUIsRUFBUmhCLEdBQWEsTUFYL0MsSyxFQUFhMEgsRSxPQUNHLFUsRUFESEEsRSxjQUVVLEdBYWhCLElBQU1LLEVBQWIsWUFHRSxhQUFjLHdCQUNaLDJCQUNLRixZQUFjRSxFQUFJRixZQUN2QixFQUFLQyxjQUFnQixFQUNyQixFQUFLdkUsS0FBT3dFLEVBQUl4RSxLQUpKLEVBSGhCLFdBQXlCaUUsR0FBekIsbUNBU1dDLEdBRVAsT0FEQUEsRUFBT08sZUFBaUIsR0FDakIsTUFYWCxLLEVBQWFELEUsT0FDRyxPLEVBREhBLEUsY0FFVSxHQWFoQixJQUFNRSxFQUFiLFlBR0UsYUFBYyx3QkFDWiwyQkFDS0osWUFBY0ksRUFBS0osWUFDeEIsRUFBS0MsY0FBZ0IsRUFDckIsRUFBS3ZFLEtBQU8wRSxFQUFLMUUsS0FDakIsRUFBSzJFLFFBQVUsR0FMSCxFQUhoQixXQUEwQlYsR0FBMUIsbUNBVVdDLEdBRVAsT0FEQUEsRUFBT1MsUUFBVTlJLEtBQUtGLElBQUl1SSxFQUFPVSxXQUFZVixFQUFPUyxRQUFVdkgsS0FBS3VILFVBQzVELE1BWlgsSyxFQUFhRCxFLE9BQ0csUSxFQURIQSxFLGNBRVUsR0FjaEIsSUFBTUcsRUFBYixZQUdFLGFBQWUsd0JBQ2IsMkJBQ0tQLFlBQWNPLEVBQU1QLFlBQ3pCLEVBQUtDLGNBQWdCLEVBQ3JCLEVBQUt2RSxLQUFPNkUsRUFBTTdFLEtBSkwsRUFIakIsV0FBMkJpRSxHQUEzQixtQ0FTV0MsR0FFUCxPQURBQSxFQUFPWSxRQUFVLEdBQ1YsTUFYWCxLLEVBQWFELEUsT0FDRyxTLEVBREhBLEUsY0FFVSxHQWFoQixJQUFNRSxFQUFiLFlBR0UsYUFBYyx3QkFDWiwyQkFDS1QsWUFBY1MsRUFBVVQsWUFDN0IsRUFBS0MsY0FBZ0IsRUFDckIsRUFBS3ZFLEtBQU8rRSxFQUFVL0UsS0FDdEIsRUFBS2dGLFFBQVUsRUFDZixFQUFLQyxPQUFTLEVBTkYsRUFIaEIsV0FBK0JoQixHQUEvQixvQ0FZSTdHLEtBQUs0SCxVQUNMNUgsS0FBS21ILGNBQWdCbkgsS0FBSzRILFFBQVUsSUFieEMsOEJBZVdkLEdBR1AsT0FGMkIsSUFBdkI5RyxLQUFLbUgsZ0JBQ1BMLEVBQU9ZLFFBQVUxSCxLQUFLNkgsU0FDakIsTUFsQlgsSyxFQUFhRixFLE9BQ0csYSxFQURIQSxFLGNBRVUsR0FvQmhCLElBRU1HLEVBQWIsWUFHRSxhQUFlLHdCQUNiLDJCQUNLbEYsS0FBT2tGLEVBQUtsRixLQUNqQixFQUFLc0UsWUFBY1ksRUFBS1osWUFDeEIsRUFBS0MsY0FBZ0IsRUFKUixFQUhqQixXQUEwQk4sR0FBMUIsbUNBU1VDLEdBRU4sT0FEQUEsRUFBT2lCLE9BQVMsR0FDVCxNQVhYLEssRUFBYUQsRSxPQUNHLFEsRUFESEEsRSxjQUVVLEdBYWhCLElBQU1FLEVBQWIsWUFHRSxhQUFjLHdCQUNaLDJCQUNLcEYsS0FBT29GLEVBQWFwRixLQUN6QixFQUFLc0UsWUFBY2MsRUFBYWQsWUFDaEMsRUFBS0MsY0FBZ0IsRUFKVCxFQUhoQixXQUFrQ04sR0FBbEMsbUNBU1VDLEdBQ04sT0FBTyxNQVZYLEssRUFBYWtCLEUsT0FDRyxnQixFQURIQSxFLGNBRVUsR0FZaEIsSUFBTUMsRUFBYixZQUdFLGFBQWMsd0JBQ1osMkJBQ0tyRixLQUFPcUYsRUFBYXJGLEtBQ3pCLEVBQUtzRSxZQUFjZSxFQUFhZixZQUNoQyxFQUFLQyxjQUFnQixFQUNyQixFQUFLZSxLQUFPLElBTEEsRUFIaEIsV0FBa0NyQixHQUFsQyxtQ0FVVUMsR0FDTixHQUFJQSxFQUFPTyxlQUFpQnJILEtBQUtrSSxLQUcvQixPQUZBcEIsRUFBT2lCLE9BQVMsRUFDaEJqQixFQUFPTyxlQUFpQnJILEtBQUtrSSxNQUN0QixNQWRiLEssRUFBYUQsRSxPQUNHLGdCLEVBREhBLEUsY0FFVSxHQWlCaEIsSUFBTUUsRUFBYixZQUdFLGFBQWMsd0JBQ1osMkJBQ0t2RixLQUFPdUYsRUFBY3ZGLEtBQzFCLEVBQUtzRSxZQUFjaUIsRUFBY2pCLFlBQ2pDLEVBQUtDLGNBQWdCLEVBQ3JCLEVBQUtlLEtBQU8sRUFMQSxFQUhoQixXQUFtQ3JCLEdBQW5DLG1DQVVVQyxHQUNOLEdBQUlBLEVBQU9pQixPQUFTL0gsS0FBS2tJLEtBSXZCLE9BSEFwQixFQUFPaUIsT0FBUy9ILEtBQUtrSSxLQUNyQnBCLEVBQU9zQixZQUFjLEVBQ3JCdEIsRUFBT1ksT0FBU1osRUFBT3NCLFlBQ2hCLE1BZmIsSyxFQUFhRCxFLE9BQ0csaUIsRUFESEEsRSxjQUVVLEdBa0JoQixJQUFNRSxFQUFiLFlBR0UsYUFBYyx3QkFDWiwyQkFDS3pGLEtBQU95RixFQUFhekYsS0FDekIsRUFBS3NFLFlBQWNtQixFQUFhbkIsWUFDaEMsRUFBS0MsY0FBZ0IsRUFDckIsRUFBS2UsS0FBTyxFQUxBLEVBSGhCLFdBQWtDckIsR0FBbEMsbUNBVVVDLEdBQ04sR0FBSUEsRUFBT2lCLE9BQVMvSCxLQUFLa0ksS0FJdkIsT0FIQXBCLEVBQU9pQixPQUFTL0gsS0FBS2tJLEtBQ3JCcEIsRUFBT1UsWUFBYyxHQUNyQlYsRUFBT1MsUUFBVVQsRUFBT1UsWUFDakIsTUFmYixLLEVBQWFhLEUsT0FDRyxnQixFQURIQSxFLGNBRVUsR0M3SnZCLElBQU1DLEdBQWMsU0FBVXRELEVBQU1DLEVBQVFsRCxFQUFHQyxHQUM3QyxJQUNNdUcsRUFERXZELEVBQUs5SCxJQUFJNkUsRUFBR0MsSUFFbEJnRCxFQUFLd0QsV0FBV3pHLEVBQUdDLEVBQUksRUFBRyxHQUN4QmdELEVBQUt3RCxXQUFXekcsRUFBSSxFQUFHQyxFQUFHLElBQU0sRUFDaENnRCxFQUFLd0QsV0FBV3pHLEVBQUdDLEVBQUksRUFBRyxJQUFNLEVBQ2hDZ0QsRUFBS3dELFdBQVd6RyxFQUFJLEVBQUdDLEVBQUcsSUFBTSxHQUdwQyxRQURjaUQsRUFBT3hFLE9BQVMsTUFDTCxJQUFUOEgsR0FBdUIsSUFBVEEsR0FBdUIsS0FBVEEsRUFHckNBLEVBRkVBLEVBQU8sR0FLTEUsR0FBVyxTQUFVQyxFQUFVQyxFQUFVQyxFQUFVM0QsR0FDOUQsSUFFSTRELEVBQVUsSUFBSWxILEVBQUsrRyxFQUFTckgsTUFBT3FILEVBQVNwSCxRQUNoRHVILEVBQVEvRyxLQUFLLEVBQUcsRUFBRytHLEVBQVF4SCxNQUFPd0gsRUFBUXZILE9BRi9CLEdBR1gsSUFBSyxJQUFJd0gsRUFBSyxFQUFHQyxFQUFLSixFQUFTckgsT0FBUXdILEVBQUtDLEVBQUlELElBQzlDLElBQUssSUFBSUUsRUFBSyxFQUFHQyxFQUFLTixFQUFTdEgsTUFBTzJILEVBQUtDLEVBQUlELElBQU0sQ0FDbkQsSUFBSXRFLEVBQVdpRSxFQUFTekwsSUFBSThMLEVBQUlGLEdBQ2hDLEdBQWlCLElBQWJwRSxFQUFKLENBQ0EsSUFBSXdFLEVBQVd6SyxLQUFLNEcsTUFBTXVELEVBQVcsR0FDakNPLEVBQUtILEVBQUtKLEVBQ1ZRLEVBQUtOLEVBQUtGLEVBQ2RDLEVBQVEvRyxLQUFLcUgsRUFBSyxFQUFHQyxFQUFLLEVBQ3hCUixFQUFXLEVBQUdBLEVBQVcsRUFabkIsR0FjK0IsSUFBbENsRSxFQUFXcEIsRUFBUUMsWUFDdEJzRixFQUFRL0csS0FBS3FILEVBQUssRUFBSUQsRUFBVUUsRUFDOUJGLEVBQVUsRUFoQk4sR0FtQitCLElBQWxDeEUsRUFBV3BCLEVBQVFFLFlBQ3RCcUYsRUFBUS9HLEtBQUtxSCxFQUFLLEVBQUdDLEVBQ25CUixFQUFXLEVBQUcsRUFyQlYsR0F3QjhCLElBQWpDbEUsRUFBV3BCLEVBQVFHLFdBQ3RCb0YsRUFBUS9HLEtBQUtxSCxFQUFLUCxFQUFXLEVBQUdRLEVBQUssRUFBSUYsRUFDdkMsRUFBR0EsRUExQkMsR0E2QjhCLElBQWpDeEUsRUFBV3BCLEVBQVFJLFdBQ3RCbUYsRUFBUS9HLEtBQUtxSCxFQUFLUCxFQUFXLEVBQUdRLEVBQUssRUFDbkMsRUFBR1IsRUFBVyxFQS9CVixHQWtDK0IsSUFBbENsRSxFQUFXcEIsRUFBUUssWUFDdEJrRixFQUFRL0csS0FBS3FILEVBQUssRUFBSUQsRUFBVUUsRUFBS1IsRUFBVyxFQUM5Q00sRUFBVSxFQXBDTixHQXVDK0IsSUFBbEN4RSxFQUFXcEIsRUFBUU0sWUFDdEJpRixFQUFRL0csS0FBS3FILEVBQUssRUFBR0MsRUFBS1IsRUFBVyxFQUNuQ0EsRUFBVyxFQUFHLEVBekNWLEdBNEM4QixJQUFqQ2xFLEVBQVdwQixFQUFRTyxXQUN0QmdGLEVBQVEvRyxLQUFLcUgsRUFBSUMsRUFBSyxFQUFJRixFQUN4QixFQUFHQSxFQTlDQyxHQWlEOEIsSUFBakN4RSxFQUFXcEIsRUFBUVEsV0FDdEIrRSxFQUFRL0csS0FBS3FILEVBQUlDLEVBQUssRUFDcEIsRUFBR1IsRUFBVyxFQW5EVixJQXdEWixJQUFLLElBQUk1RyxFQUFJLEVBQUdxSCxFQUFLWCxFQUFTcEgsT0FBUVUsRUFBSXFILEVBQUlySCxJQUM1QyxJQUFLLElBQUlELEVBQUksRUFBR3VILEVBQUtaLEVBQVNySCxNQUFPVSxFQUFJdUgsRUFBSXZILElBQzNDMkcsRUFBU3BHLElBQUlQLEVBQUdDLEVBQUdzRyxHQUFZTyxFQUFTNUQsRUFBUWxELEVBQUdDLEssdUtDL0R6RCxJQUNNdUgsR0FJQUMsR0FBWSxFQUNaQyxHQUFZLEVBRVpDLElBUEFILEdBQUk5SyxLQUFLa0wsTUFBTSxFQUFJckssT0FBT3NLLG1CQUNsQkwsR0FBSSxFQVFadEUsR0FBUyxJQUFJL0UsRUFBT1osT0FBT3VLLFNBQVNDLEtBQUtDLE9BQU8sSUFDaERDLEdBQWtCLEVBSWxCQyxHQUFhLFNBQVVDLEVBQUtDLEVBQWFqRCxFQUFhbkYsRUFBR0MsR0FBZ0MsSUFBN0JtRixFQUE2Qix1REFBZixFQUFHaUQsRUFBWSx3REFDN0ZGLEVBQUlHLFVBQVVGLEVBVEksRUFVaEJqRCxFQVZnQixFQVVXQyxFQVZYLElBWWhCcEYsRUFBR0MsRUFDSG9JLEdBYmdCLFFBZ0JkRSxHQUFZLENBQUUvRixPQUFRLENBQUV4QyxFQUFHLEVBQUdDLEdBQUksR0FBSzhDLEtBQU14QixFQUFRVSxPQUNyRHVHLEdBQVcsQ0FBRWhHLE9BQVEsQ0FBRXhDLEVBQUcsRUFBR0MsRUFBRyxHQUFLOEMsS0FBTXhCLEVBQVFXLE1BQ25EdUcsR0FBWSxDQUFFakcsT0FBUSxDQUFFeEMsRUFBRyxFQUFHQyxFQUFHLEdBQUs4QyxLQUFNeEIsRUFBUVksT0FDcER1RyxHQUFXLENBQUVsRyxPQUFRLENBQUV4QyxHQUFJLEVBQUdDLEVBQUcsR0FBSzhDLEtBQU14QixFQUFRYSxNQUVyQ3VHLEcsV0FDbkIsV0FBWWxKLEdBQVEsWSw0RkFBQSxTQUlsQixJQUFNdkIsRUFBUUQsS0FBSzJLLFlBQ25CNU4sT0FBT2tLLE9BQU9qSCxLQUFNQyxHQUNwQkQsS0FBSzRLLFVBQVlaLEdBQ2pCaEssS0FBS3dCLE9BQVNBLEVBQ2R4QixLQUFLd0IsT0FBT0gsTUFBUS9CLE9BQU91TCxXQUFhLEVBQ3hDN0ssS0FBS3dCLE9BQU9GLE9BQVNoQyxPQUFPd0wsWUFBYyxFQUMxQzlLLEtBQUsrSyxZQUFjL0ssS0FBS3dCLE9BQU9ILE1BQVFxSSxHQUN2QzFKLEtBQUtnTCxhQUFlaEwsS0FBS3dCLE9BQU9GLE9BQVNvSSxHQUN6QzFKLEtBQUtrSyxJQUFNbEssS0FBS3dCLE9BQU95SixXQUFXLE1BQ2xDakwsS0FBS2tMLFNBQVc5SixFQUFnQnBCLEtBQUt3QixPQUFPSCxNQUFPckIsS0FBS3dCLE9BQU9GLFFBQy9EdEIsS0FBSzJJLFNBQVcsSUFBSWhILEVBQ2xCdEIsU0FBU0wsS0FBSytLLFlBQWN2QixHQUFZQyxJQUN4Q3BKLFNBQVNMLEtBQUtnTCxhQUFleEIsR0FBWUMsS0FDM0N6SixLQUFLbUwsV0FBYSxJQUFJNUksRUFBV3ZDLEtBQUsySSxTQUFTdEgsTUFBT3JCLEtBQUsySSxTQUFTckgsUUFDcEV0QixLQUFLMEksU0FBVyxJQUFJL0csRUFDbEIzQixLQUFLMkksU0FBU3RILE1BQVFtSSxHQUFXeEosS0FBSzJJLFNBQVNySCxPQUFTa0ksSUFDMURsSyxPQUFPNEIsaUJBQWlCLFVBQVcsU0FBQ2tLLEdBQUQsT0FBTyxFQUFLQyxZQUFZRCxFQUFHQSxFQUFFeE4sT0FDaEVvQyxLQUFLd0IsT0FBT04saUJBQWlCLFFBQVMsU0FBQ2tLLEdBQUQsT0FBTyxFQUFLQyxZQUFZRCxFQUFHLFdBQ2pFcEwsS0FBS3NMLGFBQWUsSUFBSTFGLEVBQU1wRSxFQUFRLFNBQUM0SixFQUFHRyxHQUFKLE9BQWlCLEVBQUtGLFlBQVlELEVBQUdHLEtBRTNFMUssUUFBUTJLLElBQUksQ0FDVjdLLEVBQVU4SyxLQUNWOUssRUFBVStLLEtBQ1YvSyxFQUFVZ0wsT0FFVEMsS0FBSyxTQUFDQyxHQUNMLEVBQUtDLE1BQVEsQ0FBQ0QsRUFBTyxHQUFJQSxFQUFPLElBQ2hDLEVBQUtFLFFBQVVGLEVBQU8sR0FDdEIsRUFBS0csVSxpRUFLVCxNQUFPLENBQ0xDLElBQUssQ0FBQ2xLLEVBQUcsRUFBR0MsRUFBRyxHQUNmb0csV0FBWSxFQUNaVixPQUFRLEVBQ1JGLFdBQVksSUFDWkQsUUFBUyxJQUNURixjQUFlLEVBQ2ZVLE1BQU8sRUFDUG1FLGdCQUFpQixLLGtDQUtuQixNQUFPLENBQ0xwRixPQUFRLElBQUlDLEVBQU8vRyxLQUFLbU0sbUJBQ3hCQyxNQUFPLENBQ0xDLGlCQUFrQixFQUNsQkMsT0FBUSxFQUNSSixnQkFBaUIsRUFDakJLLFdBQVksTSxrQ0FNaEIsSUFBTUMsRUFBV0MsYUFBYUMsUUFBUSxTQUNoQ0MsRUFBWTNNLEtBQUsyTSxZQUN2QixHQUFJSCxFQUNGLElBQ0UsSUFBTUksRUFBY0MsS0FBS0MsTUFBTU4sR0FDekJ2TSxFQUFRbEQsT0FBT2tLLE9BQU8sR0FBSTBGLEdBR2hDLE9BRkE1UCxPQUFPa0ssT0FBT2hILEVBQU02RyxPQUFROEYsRUFBWTlGLFFBQ3hDL0osT0FBT2tLLE9BQU9oSCxFQUFNbU0sTUFBT1EsRUFBWVIsT0FDaENuTSxFQUVULFNBQ0UsT0FBTzBNLEVBR1gsT0FBT0EsSSxrQ0FJUCxJQUFNMU0sRUFBUSxDQUNaNkcsT0FBUSxDQUNObUYsSUFBS2pNLEtBQUs4RyxPQUFPbUYsSUFDakI3RCxXQUFZcEksS0FBSzhHLE9BQU9zQixXQUN4QlYsT0FBUTFILEtBQUs4RyxPQUFPWSxPQUNwQkYsV0FBWXhILEtBQUs4RyxPQUFPVSxXQUN4QkQsUUFBU3ZILEtBQUs4RyxPQUFPUyxRQUNyQkYsY0FBZXJILEtBQUs4RyxPQUFPTyxjQUMzQjZFLGdCQUFpQmxNLEtBQUs4RyxPQUFPb0YsZ0JBQzdCbkUsTUFBTy9ILEtBQUs4RyxPQUFPaUIsT0FFckJxRSxNQUFPLENBQ0xDLGlCQUFrQnJNLEtBQUtvTSxNQUFNQyxpQkFDN0JDLE9BQVF0TSxLQUFLb00sTUFBTUUsT0FDbkJKLGdCQUFpQmxNLEtBQUtvTSxNQUFNRixnQkFDNUJLLFdBQVl2TSxLQUFLb00sTUFBTUcsYUFHM0JFLGFBQWFNLFFBQVEsUUFBU0YsS0FBS0csVUFBVS9NLE0saURBSTdDLE9BQUlELEtBQUtvTSxNQUFNRyxXQUFhLEdBQUt2TSxLQUFLb00sTUFBTUYsZ0JBQWtCLEVBQ3JEek4sS0FBS2tMLE1BQU0zSixLQUFLb00sTUFBTUcsV0FBYXZNLEtBQUtvTSxNQUFNRixnQkFBaUIsR0FDakUsSSw0QkFHSGUsR0FDSmpOLEtBQUs0SyxVQUFZWixHQUNiaUQsR0FDRjNOLE9BQU80TixRQUFRQyxVQUFVLEtBQU0sS0FBTSxJQUFNbEksR0FBT21JLFlBRXBEcE4sS0FBSzJJLFNBQVNxRCxRQUNkaE0sS0FBS21MLFdBQVdhLFFBQ2hCaE0sS0FBSzBJLFNBQVNzRCxRQUNkaE0sS0FBSzRLLFVBcElnQixFQXFJakI1SyxLQUFLOEcsT0FBT29GLGdCQUFrQixHQUFNbE0sS0FBSzhHLE9BQU9vRixnQkFBa0IsSUFBUSxHQUM1RWxNLEtBQUs0SyxXQXJJaUIsRUFzSXRCNUssS0FBS3FOLHlCQUdMck4sS0FBS3NOLG9CQUVQdE4sS0FBS3VOLFNBQVN2TixLQUFLa0wsU0FBU0QsV0FBVyxPQUN2Q2pMLEtBQUt3TixTLDhDQUlMLElBQU1DLEVBQVVwTixTQUFTTCxLQUFLMkksU0FBU3RILE1BQVEsR0FDekNxTSxFQUFVck4sU0FBU0wsS0FBSzJJLFNBQVNySCxPQUFTLEdBQ2hEdEIsS0FBSzJJLFNBQVNyRyxJQUFJbUwsRUFBU0MsRUFDekJwSyxFQUFRRSxVQUFZRixFQUFRSSxTQUFXSixFQUFRSyxVQUFZTCxFQUFRUSxVQUNyRTlELEtBQUsySSxTQUFTckcsSUFBSW1MLEVBQVNDLEVBQVUsRUFBR3BLLEVBQVFNLFdBQ2hENUQsS0FBSzJJLFNBQVNyRyxJQUFJbUwsRUFBU0MsRUFBVSxFQUFHcEssRUFBUUMsV0FDaER2RCxLQUFLMkksU0FBU3JHLElBQUltTCxFQUFVLEVBQUdDLEVBQVNwSyxFQUFRSSxVQUNoRDFELEtBQUsySSxTQUFTckcsSUFBSW1MLEVBQVUsRUFBR0MsRUFBU3BLLEVBQVFRLFVBQ2hEMkUsR0FBU3pJLEtBQUswSSxTQUFVMUksS0FBSzJJLFNBQVVhLEdBQVd2RSxJQUNsRGpGLEtBQUs4RyxPQUFPbUYsSUFBTSxDQUFFbEssRUFBRzBMLEVBQVN6TCxFQUFHMEwsRUFBU2xKLElBQUssR0FDakR4RSxLQUFLbUwsV0FBVzdJLElBQUltTCxFQUFTQyxFQUFVLEVBQUcsSUFBSXpGLEdBQzlDakksS0FBS21MLFdBQVc3SSxJQUFJbUwsRUFBVSxFQUFHQyxFQUFTLElBQUl2RixHQUM5Q25JLEtBQUttTCxXQUFXN0ksSUFBSW1MLEVBQVUsRUFBR0MsRUFBUyxJQUFJckYsR0FDOUNySSxLQUFLbUwsV0FBVzdJLElBQUltTCxFQUFTQyxFQUFVLEVBQUcsSUFBSTFGLEssMENBSTlDLElBQU15RixFQUFVcE4sU0FBU0wsS0FBSzJJLFNBQVN0SCxNQUFRLEdBQ3pDcU0sRUFBVXJOLFNBQVNMLEtBQUsySSxTQUFTckgsT0FBUyxHQUNoRHlELEVBQWEvRSxLQUFLMkksU0FBVTFELEdBQVF3SSxFQUFTQyxFQUFTcEssRUFBUWMsVUF2Sy9DLElBd0tmcUUsR0FBU3pJLEtBQUswSSxTQUFVMUksS0FBSzJJLFNBQVVhLEdBQVd2RSxJQUNsRGpGLEtBQUs4RyxPQUFPbUYsSUFBTSxDQUFFbEssRUFBRzBMLEVBQVN6TCxFQUFHMEwsRUFBU2xKLElBQUssR0FDakR4RSxLQUFLMk4saUJBQWlCdkcsRUFBSyxFQUFHLElBQzlCcEgsS0FBSzJOLGlCQUFpQnJHLEVBQU0sRUFBRyxHQUMvQnRILEtBQUsyTixpQkFBaUJoRyxFQUFXLEVBQUcsR0FDcEMzSCxLQUFLMk4saUJBQWlCbEcsRUFBTyxJQUM3QnpILEtBQUsyTixpQkFBaUI3RixFQUFNLE8sdUNBR2JwRixFQUFRbkUsRUFBS0MsR0FDNUIsSUFBSW9QLEVBR0ZBLE9BRlV4TixJQUFSNUIsRUFFT3lHLEdBQU94RSxPQUFTbEMsRUFBTyxFQUFJLEVBSTVCQSxFQUFNRSxLQUFLa0wsTUFBTTFFLEdBQU94RSxRQUFVakMsRUFBTUQsSUFJbEQsSUFGQSxJQUFJc1AsRUFBYyxFQUNkQyxFQUFZLElBQ1RELEVBQWNELEdBQVNFLEVBQVksR0FBRyxDQUMzQ0EsSUFDQSxJQUFNL0wsRUFBSTFCLFNBQVM0RSxHQUFPeEUsT0FBU1QsS0FBSzJJLFNBQVN0SCxPQUMzQ1csRUFBSTNCLFNBQVM0RSxHQUFPeEUsT0FBU1QsS0FBSzJJLFNBQVNySCxRQUNqQixJQUE1QnRCLEtBQUsySSxTQUFTekwsSUFBSTZFLEVBQUdDLElBQ1UsT0FBOUJoQyxLQUFLbUwsV0FBV2pPLElBQUk2RSxFQUFHQyxLQUMxQmhDLEtBQUttTCxXQUFXN0ksSUFBSVAsRUFBR0MsRUFBRyxJQUFJVSxHQUM5Qm1MLFEsbUNBS09FLEdBQWEsYUFDTy9OLEtBQUs4RyxPQUFPbUYsSUFBaEMrQixFQURhLEVBQ2hCak0sRUFBYWtNLEVBREcsRUFDTmpNLEVBQ2xCaEMsS0FBSzhHLE9BQU9tRixJQUFJekgsSUFBTXVKLEVBQVloTSxHQUFLLEVBQUksR0FBSyxFQUNoRGhELEVBQVEsSUFBSyxTQUFDTSxHQUNaLEVBQUt5SCxPQUFPbUYsSUFBSWxLLEVBQUlpTSxFQUFRRCxFQUFZaE0sRUFBSTFDLEVBQzVDLEVBQUt5SCxPQUFPbUYsSUFBSWpLLEVBQUlpTSxFQUFRRixFQUFZL0wsRUFBSTNDLEVBQzVDLEVBQUt5SCxPQUFPb0gsT0FBTzdPLEdBQ0wsSUFBVkEsSUFDRixFQUFLeUgsT0FBT1MsU0FBVyxFQUN2QixFQUFLNEcsZ0JBQ0wsRUFBS0MsV0FFUCxFQUFLWixXLGlDQUlFaEosR0FDVCxJQUFNNkosRUFBUyxDQUNidE0sRUFBRy9CLEtBQUs4RyxPQUFPbUYsSUFBSWxLLEVBQUl5QyxFQUFJRCxPQUFPeEMsRUFDbENDLEVBQUdoQyxLQUFLOEcsT0FBT21GLElBQUlqSyxFQUFJd0MsRUFBSUQsT0FBT3ZDLEdBRTlCc00sRUFBV3RPLEtBQUsySSxTQUFTekwsSUFBSThDLEtBQUs4RyxPQUFPbUYsSUFBSWxLLEVBQUcvQixLQUFLOEcsT0FBT21GLElBQUlqSyxHQUVoRXVNLEVBQWtELElBRHpDdk8sS0FBSzJJLFNBQVN6TCxJQUFJbVIsRUFBT3RNLEVBQUdzTSxFQUFPck0sR0FDdEJ5QyxFQUFhRCxFQUFJTSxPQUNDLElBQXpCd0osRUFBVzlKLEVBQUlNLE9BQ2pCeUosR0FDakJ2TyxLQUFLd08sYUFBYWhLLEVBQUlELFUsbUNBS3hCdkUsS0FBSzhHLE9BQU9TLFNBQVcsRUFDdkJ2SCxLQUFLbU8sZ0JBQ0xuTyxLQUFLb08sVUFDTHBPLEtBQUt3TixTLHNDQUtMLElBREEsSUFBTWlCLEVBQVd6TyxLQUFLbUwsV0FBV3VELE9BQ3hCclMsRUFBSSxFQUFHQSxFQUFJb1MsRUFBUzlPLE9BQVF0RCxJQUNuQ29TLEVBQVNwUyxHQUFHNlIsU0FFZCxJQUFNeEwsRUFBUzFDLEtBQUttTCxXQUFXak8sSUFBSThDLEtBQUs4RyxPQUFPbUYsSUFBSWxLLEVBQUcvQixLQUFLOEcsT0FBT21GLElBQUlqSyxHQUNsRVUsR0FDRUEsRUFBT2lNLFFBQVEzTyxLQUFLOEcsU0FDdEI5RyxLQUFLbUwsV0FBV3lELE9BQU9sTSxLLGdDQUtvQixJQXZQdkIsRUF1UG5CMUMsS0FBSzRLLFdBQ1I1SyxLQUFLNk8sa0JBRUw3TyxLQUFLOE8sZ0Isd0NBSVMsV0FDaEI5TyxLQUFLK08sWUFDK0MsSUFBaEQvTyxLQUFLbUwsV0FBVzZELEtBQUssZ0JBQWdCclAsU0FDdkNLLEtBQUs4RyxPQUFPb0YsaUJBQW1CLEVBQy9CbE0sS0FBS29NLE1BQU1GLGlCQUFtQixFQUM5QmxNLEtBQUtpUCxRQUFRalAsS0FBS2tLLElBQUssSUFBSyxrQkFBTSxFQUFLOEIsT0FBTSxRLG9DQUluQyxXQUNSQSxHQUFRLEVBZ0JaLEdBZkFoTSxLQUFLb00sTUFBTUMsaUJBQW1CNU4sS0FBS0QsSUFDakN3QixLQUFLb00sTUFBTUMsaUJBQ1hyTSxLQUFLOEcsT0FBT08sZUFDZHJILEtBQUtvTSxNQUFNRyxZQUFjLEVBQ2tCLElBQXZDdk0sS0FBS21MLFdBQVc2RCxLQUFLLE9BQU9yUCxTQUU5QkssS0FBSzhHLE9BQU9vRixpQkFBbUIsRUFDL0JsTSxLQUFLb00sTUFBTUYsaUJBQW1CLEVBQzlCbE0sS0FBSzhHLE9BQU9TLFFBQVU5SSxLQUFLRixJQUFJeUIsS0FBSzhHLE9BQU9TLFFBQVUsR0FBSSxLQUN6RHlFLEdBQVEsR0FFTmhNLEtBQUs4RyxPQUFPUyxTQUFXLEdBQUt2SCxLQUFLOEcsT0FBT1ksT0FBUyxJQUNuRDFILEtBQUs4RyxPQUFPUyxRQUFVLEdBQ3RCdkgsS0FBSzhHLE9BQU9ZLFFBQVUsR0FFcEIxSCxLQUFLOEcsT0FBT1ksUUFBVSxFQUFHLENBRTNCMUgsS0FBS29NLE1BQU1FLFFBQVUsRUFFckIsSUFBTXZFLEVBQVEvSCxLQUFLOEcsT0FBT2lCLE1BQzFCaEwsT0FBT2tLLE9BQU9qSCxLQUFLOEcsT0FBUTlHLEtBQUttTSxtQkFDaENuTSxLQUFLOEcsT0FBT2lCLE1BQVFBLEVBQ3BCL0gsS0FBSzhHLE9BQU9ZLE9BQVMxSCxLQUFLOEcsT0FBT3NCLFdBQ2pDcEksS0FBSzhHLE9BQU9TLFFBQVV2SCxLQUFLOEcsT0FBT1UsV0FDbEN3RSxHQUFRLEVBQ1JoTSxLQUFLa1AsZ0JBQWdCbFAsTUFFdkJBLEtBQUsrTyxZQUNEL0MsR0FDRmhNLEtBQUtpUCxRQUFRalAsS0FBS2tLLElBQUssSUFBSyxrQkFBTSxFQUFLOEIsT0FBTSxPLDhCQUl6QzlCLEVBQUtpRixFQUFVQyxHQUFhLFdBQ2xDcFAsS0FBSzRLLFVBQVlaLEdBQ2pCakwsRUFBUW9RLEVBQVUsU0FBQzlQLEdBQ2pCNkssRUFBSW1GLE9BQ0puRixFQUFJb0YsTUFBTTVGLEdBQU9BLElBQ2pCUSxFQUFJcUYsVUFBWSxxQkFDaEJyRixFQUFJc0YsU0FBUyxFQUFHLEVBQUcsRUFBS3pFLFlBQWEsRUFBS0MsY0FDMUMsRUFBS2QsSUFBSXVGLFVBQ0ssSUFBVnBRLEdBQWErUCxRLGtDQUlUaEUsRUFBR3NFLEdBQ2IsR0FBNEMsSUF4VHZCLEVBd1RoQjFQLEtBQUs0SyxXQUdWLE9BQVE4RSxHQUNOLElBQUssVUFDTCxJQUFLLFVBQ0gxUCxLQUFLMlAsV0FBV3JGLElBQ2hCYyxFQUFFeEUsaUJBQ0YsTUFDRixJQUFLLFlBQ0wsSUFBSyxZQUNINUcsS0FBSzJQLFdBQVduRixJQUNoQlksRUFBRXhFLGlCQUNGLE1BQ0YsSUFBSyxZQUNMLElBQUssWUFDSDVHLEtBQUsyUCxXQUFXbEYsSUFDaEJXLEVBQUV4RSxpQkFDRixNQUNGLElBQUssYUFDTCxJQUFLLGFBQ0g1RyxLQUFLMlAsV0FBV3BGLElBQ2hCYSxFQUFFeEUsaUJBQ0YsTUFDRixJQUFLLFFBQ0wsSUFBSyxJQUNINUcsS0FBSzRQLGFBQ0x4RSxFQUFFeEUsb0IsNkJBTU41RyxLQUFLa0ssSUFBSUcsVUFBVXJLLEtBQUtrTCxTQUFVLEVBQUcsR0FDckNsTCxLQUFLNlAsYUFBYTdQLEtBQUtrSyxLQUN2QmxLLEtBQUs4UCxXQUFXOVAsS0FBS2tLLEtBQ3JCbEssS0FBSytQLFFBQVEvUCxLQUFLa0ssTywrQkFHWEEsR0FDUCxJQUFNOEYsRUFBZXZSLEtBQUtrTCxNQUFNMUUsR0FBT3hFLFFBQ2pDd1AsRUFBYWpRLEtBQUs4TCxNQUFNa0UsR0FDOUI5RixFQUFJbUYsT0FDSm5GLEVBQUlnRyx1QkFBd0IsRUFDNUJoRyxFQUFJb0YsTUFBTTVGLEdBQU9BLElBRWpCLElBQU15RyxFQUE2QixFQUFaMUcsR0FBZ0IsRUFDdkNTLEVBQUlHLFVBQVU0RixFQUNaRSxFQUFnQkEsRUFBZ0IsRUFBRyxFQUNuQyxFQUFHLEVBQUduUSxLQUFLK0ssWUFBYS9LLEtBQUtnTCxjQUMvQixJQUFLLElBQUloSixFQUFJLEVBQUdxSCxFQUFLckosS0FBSzBJLFNBQVNwSCxPQUFRVSxFQUFJcUgsRUFBSXJILElBQ2pELElBQUssSUFBSUQsRUFBSSxFQUFHdUgsRUFBS3RKLEtBQUswSSxTQUFTckgsTUFBT1UsRUFBSXVILEVBQUl2SCxJQUNoRC9CLEtBQUtvUSxTQUFTbEcsRUFBSytGLEVBQVlsTyxFQUFHQyxFQUFHaEMsS0FBSzBJLFNBQVN4TCxJQUFJNkUsRUFBR0MsSUFHOURrSSxFQUFJdUYsWSwrQkFHR3ZGLEVBQUttRyxFQUFTdE8sRUFBR0MsRUFBR3NPLEdBQzNCLElBQU1DLEVBQU1ELEVBQVMsRUFBSzdHLEdBQ3BCK0csRUFBSy9SLEtBQUs0RyxNQUFNaUwsRUFBUyxHQUFLN0csR0FDcENTLEVBQUlHLFVBQVVnRyxFQUNaRSxFQUFJQyxFQUFJL0csR0FBV0EsR0FDbkIxSCxFQUFJMEgsR0FBV3pILEVBQUl5SCxHQUNuQkEsR0FBV0EsTSxpQ0FHSlMsR0FDVCxJQUFNdUcsRUFBYWpILEdBQVlDLEdBQ3pCbEYsRUFBc0IsR0FBYmtNLEVBQW1CQyxFQUNsQ3hHLEVBQUltRixPQUNKbkYsRUFBSWdHLHVCQUF3QixFQUM1QmhHLEVBQUlvRixNQUFNNUYsR0FBT0EsSUFDakJRLEVBQUl5RyxVQUNGM1EsS0FBSzhHLE9BQU9tRixJQUFJbEssRUFBSTBPLEVBQWFsTSxFQUNqQ3ZFLEtBQUs4RyxPQUFPbUYsSUFBSWpLLEVBQUl5TyxFQUFhbE0sR0FDbkMyRixFQUFJb0YsTUFBTXRQLEtBQUs4RyxPQUFPbUYsSUFBSXpILElBQUssR0FDL0J5RixHQUFXQyxFQUFLbEssS0FBSytMLFFBQVNoRixFQUFPRyxZQUFhLEVBQUcsRUFDbkRsSCxLQUFLOEcsT0FBT0ssY0FBZW5ILEtBQUs4RyxPQUFPbUYsSUFBSXpILElBQU0sR0FDbkQwRixFQUFJdUYsWSxtQ0FHT3ZGLEdBQ1gsSUFBTXVHLEVBQWFqSCxHQUFZQyxHQUN6QmxGLEVBQXNCLEdBQWJrTSxFQUFtQkMsRUFDNUJqQyxFQUFXek8sS0FBS21MLFdBQVd1RCxPQUNqQ3hFLEVBQUltRixPQUNKbkYsRUFBSWdHLHVCQUF3QixFQUM1QmhHLEVBQUlvRixNQUFNNUYsR0FBT0EsSUFDakIsSUFBSyxJQUFJck4sRUFBSSxFQUFHeUIsRUFBSTJRLEVBQVM5TyxPQUFRdEQsRUFBSXlCLEVBQUd6QixJQUFLLENBQy9DLElBQUk2SyxFQUFjdUgsRUFBU3BTLEdBQUc2SyxZQUMxQkMsRUFBZ0JzSCxFQUFTcFMsR0FBRzhLLGNBQzNCbkgsS0FBSzRRLGNBQWNuQyxFQUFTcFMsTUFDL0I2SyxFRnZWYyxFRXdWZEMsRUFBZ0IsR0FFbEI4QyxHQUFXQyxFQUFLbEssS0FBSytMLFFBQVM3RSxFQUM1QnVILEVBQVNwUyxHQUFHMEYsRUFBSTBPLEVBQWFsTSxFQUM3QmtLLEVBQVNwUyxHQUFHMkYsRUFBSXlPLEVBQWFsTSxFQUFRNEMsR0FFekMrQyxFQUFJdUYsWSxvQ0FHUS9NLEdBQ1osSUFBTWpHLEVBQUksQ0FBQzZOLEdBQVdDLEdBQVVDLEdBQVdDLElBQ3JDb0csRUFBS3hRLFNBQVNMLEtBQUs4RyxPQUFPbUYsSUFBSWxLLEdBQzlCK08sRUFBS3pRLFNBQVNMLEtBQUs4RyxPQUFPbUYsSUFBSWpLLEdBQ3BDLEdBQUlVLEVBQU9YLElBQU04TyxHQUFNbk8sRUFBT1YsSUFBTThPLEVBQ2xDLE9BQU8sRUFHVCxJQURBLElBQU0zVCxFQUFJNkMsS0FBSzJJLFNBQVN6TCxJQUFJMlQsRUFBSUMsR0FDdkJ6VSxFQUFJLEVBQUdBLEVBQUksRUFBR0EsSUFDckIsR0FBd0IsSUFBbkJjLEVBQUlWLEVBQUVKLEdBQUd5SSxNQUFhLENBQ3pCLElBQU0vQyxFQUFJMUIsU0FBU0wsS0FBSzhHLE9BQU9tRixJQUFJbEssR0FBS3RGLEVBQUVKLEdBQUdrSSxPQUFPeEMsRUFDOUNDLEVBQUkzQixTQUFTTCxLQUFLOEcsT0FBT21GLElBQUlqSyxHQUFLdkYsRUFBRUosR0FBR2tJLE9BQU92QyxFQUNwRCxHQUFJVSxFQUFPWCxJQUFNQSxHQUFLVyxFQUFPVixJQUFNQSxFQUNqQyxPQUFPLEVBSWIsT0FBTyxJLDhCQUdEa0ksR0FDTixJQUNNN0gsRUFBSXJDLEtBQUsrSyxZQUFjLEdBQ3ZCZ0csRUFBSzFPLEVBQUlyQyxLQUFLOEcsT0FBT1MsUUFBVXZILEtBQUs4RyxPQUFPVSxXQUFhLEVBRXhEeEYsRUFBSWhDLEtBQUtnTCxhQUpMLEVBS1ZkLEVBQUltRixPQUNKbkYsRUFBSWdHLHVCQUF3QixFQUM1QmhHLEVBQUlvRixNQUFNNUYsR0FBT0EsSUFDakJRLEVBQUlxRixVQUFZLHNCQUNoQnJGLEVBQUlzRixTQUFTLEVBQUd4TixFQUFHSyxFQVRULEdBVVY2SCxFQUFJcUYsVUFBWSx3QkFDaEJyRixFQUFJc0YsU0FBUyxFQUFHeE4sRUFBSSxFQUFHK08sRUFSWnJSLEdBU1h3SyxFQUFJOEcsS0FBTyxpQkFDWDlHLEVBQUkrRyxVQUFZLE1BQ2hCLElBQU1DLEVBQVUsR0FBSCxPQUFNbFIsS0FBSzhHLE9BQU9PLGVBQy9CNkMsRUFBSWlILFNBQVNELEVBQVNsUixLQUFLK0ssWUFBYyxHQUFJL0ssS0FBS2dMLGFBQWUsR0FDakVmLEdBQVdDLEVBQUtsSyxLQUFLK0wsUUFBUzNFLEVBQUlGLFlBQ2hDbEgsS0FBSytLLFlBMWNTLEVBMGNtQixFQUFHL0ssS0FBS2dMLGFBQWUsSUFDMUQsSUFBTW9HLEVBQVcsR0FBSCxPQUFNcFIsS0FBSzhHLE9BQU9pQixPQUNoQ21DLEVBQUlpSCxTQUFTQyxFQUFVcFIsS0FBSytLLFlBQWMsR0FBSS9LLEtBQUtnTCxhQUFlLEdBQ2xFZixHQUFXQyxFQUFLbEssS0FBSytMLFFBQVNqRSxFQUFLWixZQUNqQ2xILEtBQUsrSyxZQTljUyxFQThjbUIsR0FBSS9LLEtBQUtnTCxhQUFlLElBQzNELElBQUssSUFBSWpKLEVBQUksRUFBRzFGLEVBQUksRUFBR0EsRUFBSTJELEtBQUs4RyxPQUFPWSxPQUFRckwsSUFBTTBGLEdBQUsyTyxHQUN4RHpHLEdBQVdDLEVBQUtsSyxLQUFLK0wsUUFBU3RFLEVBQU1QLFlBQ2xDbkYsRUFBRy9CLEtBQUtnTCxhQUFlLElBRTNCZCxFQUFJdUYsZSxrQ0NyZUZqTyxHQUFTQyxTQUFTQyxjQUFjLFVBQ3RDRCxTQUFTNFAsS0FBS0MsWUFBWTlQLElBQzFCbEMsT0FBT2lTLEtBQU8sSUFBSTdHLEdBQUtsSixJQUd2QixJQUNJZ1EsR0FERUMsR0FBY2hRLFNBQVNDLGNBQWMsT0FFM0M4UCxHQUFrQixTQUFDcEcsR0FDakJBLEVBQUV4RSxpQkFDRjZLLEdBQVlDLE1BQU1DLFFBQVUsT0FDNUJGLEdBQVlHLG9CQUFvQixRQUFTSixLQUUzQ0MsR0FBWUksVUFBVTNPLElBQUksZ0JBQzFCdU8sR0FBWXZRLGlCQUFpQixRQUFTc1EsSUFDdENDLEdBQVlLLFVBQVosNFJBU3NDUCxLQUFLbkYsTUFBTUMsaUJBVGpELCtDQVUwQmtGLEtBQUtuRixNQUFNRSxPQVZyQyx5REFXb0NpRixLQUFLbkYsTUFBTUYsZ0JBWC9DLGdFQVkyQ3FGLEtBQUtRLDJCQVpoRCxrQ0FnQkF0USxTQUFTNFAsS0FBS0MsWUFBWUcsSUFFMUIsSUFBTU8sR0FBY3ZRLFNBQVNDLGNBQWMsT0FDM0NzUSxHQUFZSCxVQUFVM08sSUFBSSxlQUFnQixRQUMxQzhPLEdBQVlGLFVBQVosd2FBWUFFLEdBQVk5USxpQkFBaUIsUUFBUyxTQUFDa0ssR0FDckNBLEVBQUV4RSxpQkFDRm9MLEdBQVlILFVBQVUzTyxJQUFJLFVBRTVCekIsU0FBUzRQLEtBQUtDLFlBQVlVLElBQzFCVCxLQUFLckMsZ0JBQWtCLFNBQUNxQyxHQUN0QlMsR0FBWUMsY0FBYyxxQkFBcUJILFVBQVlQLEVBQUtuRixNQUFNQyxpQkFDdEUyRixHQUFZQyxjQUFjLFdBQVdILFVBQVlQLEVBQUtuRixNQUFNRSxPQUM1RDBGLEdBQVlDLGNBQWMsb0JBQW9CSCxVQUFZUCxFQUFLbkYsTUFBTUYsZ0JBQ3JFOEYsR0FBWUMsY0FBYyx5QkFBeUJILFVBQVlQLEVBQUtRLDJCQUNwRUMsR0FBWUgsVUFBVWpELE9BQU8iLCJmaWxlIjoibWFpbi5jYWU3NWM4ZGI0N2I1YjgwODJkNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA0KTtcbiIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcInRpbGVzX3N0b25lYnJpY2suMjUxMWU3OTc1OTE4OWI3YzkyNDlhNjFkZDI0NzQzZWUucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwidGlsZXNfY2F2ZWJyaWNrLjI2NTg1NTBmYjQ3MjIyMzFlYTZmMzQ2OGFlNzlkYzU2LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcInNwcml0ZXMuOWNkOTJmZmQ1YWQ5ZDQ5NzhhYWQ0N2YzZDQwZWI4M2UucG5nXCI7IiwiZXhwb3J0IGNvbnN0IGNsYW1wID0gZnVuY3Rpb24gKHZhbCwgbWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCB2YWwpKVxufVxuXG5leHBvcnQgY29uc3Qgbm90ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gIC8vIGphdmFzY3JpcHQgYml0d2lzZSBub3QgKH52YWx1ZSkgcmVzdWx0cyBpbiBzaWduIGJpdCBmbGlwXG4gIC8vIG1ha2luZyB2YWx1ZSBhIHNpZ25lZCB2YWx1ZSwgbWFrZSBpdCB1bnNpZ25lZFxuICByZXR1cm4gfnZhbHVlID4+PiAwXG59XG5cbmV4cG9ydCBjb25zdCByb3RsID0gZnVuY3Rpb24gKHZhbCwgc2hpZnRDb3VudCwgc2l6ZSkge1xuICAvLyByb3RhdGUgYml0cyBsZWZ0IGJ5IHNoaWZ0Q291bnQgYW5kIHdyYXAgYXQgc2l6ZVxuICBzaGlmdENvdW50ID0gc2hpZnRDb3VudCAlIHNpemVcbiAgbGV0IHNpemVNYXNrID0gKDEgPDwgc2l6ZSkgLSAxXG4gIHJldHVybiAoXG4gICAgKHZhbCA8PCBzaGlmdENvdW50KSAmIHNpemVNYXNrXG4gICAgfCAodmFsICYgc2l6ZU1hc2spID4+IChzaXplIC0gc2hpZnRDb3VudClcbiAgKVxufVxuXG4vLyBmdW5jdGlvbiBmcmFtZUZuKGRlbHRhKVxuLy8gZGVsdGEgaXMgYSBkb3VibGUgZnJvbSAwIHRvIDFcbmV4cG9ydCBjb25zdCByb3V0aW5lID0gZnVuY3Rpb24gKGR1cmF0aW9uTXMsIGZyYW1lRm4pIHtcbiAgbGV0IGluaXRpYWwgPSBudWxsXG4gIGxldCBmcmFtZUZuV3JhcHBlcjtcbiAgZnJhbWVGbldyYXBwZXIgPSBmdW5jdGlvbih0aW1lc3RhbXApIHtcbiAgICBpZiAoaW5pdGlhbCA9PT0gbnVsbCkgaW5pdGlhbCA9IHRpbWVzdGFtcFxuICAgIGxldCBkZWx0YSA9ICh0aW1lc3RhbXAgLSBpbml0aWFsKSAvIGR1cmF0aW9uTXNcbiAgICBpZiAoZGVsdGEgPCAxKSB7XG4gICAgICBmcmFtZUZuKGRlbHRhKVxuICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZUZuV3JhcHBlcilcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBmcmFtZUZuKDEpXG4gICAgfVxuICB9XG4gIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnJhbWVGbldyYXBwZXIpXG59XG5cblxuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTIxMjk1L3NlZWRpbmctdGhlLXJhbmRvbS1udW1iZXItZ2VuZXJhdG9yLWluLWphdmFzY3JpcHRcbmV4cG9ydCBjb25zdCB4bXVyMyA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGggPSAxNzc5MDMzNzAzIF4gc3RyLmxlbmd0aDsgaSA8IHN0ci5sZW5ndGg7IGkrKylcbiAgICBoID0gTWF0aC5pbXVsKGggXiBzdHIuY2hhckNvZGVBdChpKSwgMzQzMjkxODM1MyksXG4gICAgICBoID0gaCA8PCAxMyB8IGggPj4+IDE5O1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGggPSBNYXRoLmltdWwoaCBeIGggPj4+IDE2LCAyMjQ2ODIyNTA3KTtcbiAgICBoID0gTWF0aC5pbXVsKGggXiBoID4+PiAxMywgMzI2NjQ4OTkwOSk7XG4gICAgcmV0dXJuIChoIF49IGggPj4+IDE2KSA+Pj4gMDtcbiAgfVxufVxuXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81MjEyOTUvc2VlZGluZy10aGUtcmFuZG9tLW51bWJlci1nZW5lcmF0b3ItaW4tamF2YXNjcmlwdFxuZXhwb3J0IGNsYXNzIE11bGJlcnJ5MzIge1xuICBjb25zdHJ1Y3RvcihzZWVkKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHNlZWRcbiAgfVxuICBuZXh0KCkge1xuICAgIGxldCB0ID0gdGhpcy5zdGF0ZSArPSAweDZEMkI3OUY1XG4gICAgdCA9IE1hdGguaW11bCh0IF4gdCA+Pj4gMTUsIHQgfCAxKVxuICAgIHQgXj0gdCArIE1hdGguaW11bCh0IF4gdCA+Pj4gNywgdCB8IDYxKVxuICAgIHJldHVybiAoKHQgXiB0ID4+PiAxNCkgPj4+IDApIC8gNDI5NDk2NzI5NVxuICB9XG59XG5cbi8vIFNlZWRhYmxlIHJhbmRvbSB3aXRoIHN0YXRlXG5leHBvcnQgY2xhc3MgUmFuZG9tIHtcbiAgY29uc3RydWN0b3IoaW5pdFNlZWQpIHtcbiAgICBpZiAoaW5pdFNlZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaW5pdFNlZWQgPSBwYXJzZUludChpbml0U2VlZCwgMzYpXG4gICAgfVxuICAgIGlmICghaW5pdFNlZWQpIHtcbiAgICAgIGluaXRTZWVkID0gKG5ldyBEYXRlKCkpLnRvSVNPU3RyaW5nKClcbiAgICAgIGluaXRTZWVkID0geG11cjMoaW5pdFNlZWQpKClcbiAgICB9XG4gICAgdGhpcy5nZW5lcmF0b3IgPSBuZXcgTXVsYmVycnkzMihpbml0U2VlZClcbiAgfVxuICBuZXh0KCkge1xuICAgIHJldHVybiB0aGlzLmdlbmVyYXRvci5uZXh0KClcbiAgfVxuICBnZXRTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZW5lcmF0b3Iuc3RhdGUudG9TdHJpbmcoMzYpXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGxvYWRJbWFnZSA9IGZ1bmN0aW9uIChzcmMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKVxuICAgIGltZy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiByZXNvbHZlKGltZykpXG4gICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCAoZXJyKSA9PiByZWplY3QoZXJyKSlcbiAgICBpbWcuc3JjID0gc3JjXG4gIH0pXG59XG5cbmV4cG9ydCBjb25zdCBvZmZzY3JlZW5DYW52YXMgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG4gIHRyeSB7XG4gICAgICByZXR1cm4gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KVxuICB9XG4gIGNhdGNoIHtcbiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIilcbiAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoXG4gICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0XG4gICAgICByZXR1cm4gY2FudmFzXG4gIH1cbn1cbiIsImltcG9ydCB7Y2xhbXB9IGZyb20gXCIuL3V0aWxzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JpZCB7XG4gIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQpIHtcbiAgICB0aGlzLndpZHRoID0gd2lkdGhcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodFxuICAgIHRoaXMuY2VsbHMgPSBuZXcgQXJyYXkodGhpcy53aWR0aCAqIHRoaXMuaGVpZ2h0KS5maWxsKDApXG4gIH1cblxuICByZXNldCAoKSB7XG4gICAgdGhpcy5jZWxscyA9IG5ldyBBcnJheSh0aGlzLndpZHRoICogdGhpcy5oZWlnaHQpLmZpbGwoMClcbiAgfVxuXG4gIHdpdGhpbiAoeCwgeSkge1xuICAgIHJldHVybiB4ID49IDAgJiYgeCA8IHRoaXMud2lkdGggJiYgeSA+PSAwICYmIHkgPCB0aGlzLmhlaWdodFxuICB9XG5cbiAgc2V0ICh4LCB5LCB2YWx1ZSkge1xuICAgIHggPSBjbGFtcCh4LCAwLCB0aGlzLndpZHRoIC0gMSlcbiAgICB5ID0gY2xhbXAoeSwgMCwgdGhpcy5oZWlnaHQgLSAxKVxuICAgIHRoaXMuY2VsbHNbeSAqIHRoaXMud2lkdGggKyB4XSA9IHZhbHVlXG4gIH1cblxuICBnZXQgKHgsIHkpIHtcbiAgICB4ID0gY2xhbXAoeCwgMCwgdGhpcy53aWR0aCAtIDEpXG4gICAgeSA9IGNsYW1wKHksIDAsIHRoaXMuaGVpZ2h0IC0gMSlcbiAgICByZXR1cm4gdGhpcy5jZWxsc1t5ICogdGhpcy53aWR0aCArIHhdXG4gIH1cblxuICBnZXREZWZhdWx0KHgsIHksIGRlZmF1bHRWYWx1ZSkge1xuICAgIGlmICghdGhpcy53aXRoaW4oeCwgeSkpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWVcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY2VsbHNbeSAqIHRoaXMud2lkdGggKyB4XVxuICB9XG5cbiAgZmlsbCh4MSwgeTEsIHcsIGgsIHZhbHVlKSB7XG4gICAgeDEgPSBjbGFtcCh4MSwgMCwgdGhpcy53aWR0aCAtIDEpXG4gICAgeTEgPSBjbGFtcCh5MSwgMCwgdGhpcy5oZWlnaHQgLSAxKVxuICAgIHcgPSBjbGFtcCh3LCAwLCB0aGlzLndpZHRoIC0geDEpXG4gICAgaCA9IGNsYW1wKGgsIDAsIHRoaXMuaGVpZ2h0IC0geTEpXG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCBoOyArK3kpIHtcbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgdzsgKyt4KSB7XG4gICAgICAgIHRoaXMuc2V0KHgxICsgeCwgeTEgKyB5LCB2YWx1ZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7Y2xhbXB9IGZyb20gXCIuL3V0aWxzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW50aXR5R3JpZCB7XG4gIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQpIHtcbiAgICB0aGlzLndpZHRoID0gd2lkdGhcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodFxuICAgIHRoaXMucG9zSW5kZXggPSB7fVxuICAgIHRoaXMudHlwZUluZGV4ID0ge31cbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMucG9zSW5kZXggPSB7fVxuICAgIHRoaXMudHlwZUluZGV4ID0ge31cbiAgfVxuXG4gIHdpdGhpbih4LCB5KSB7XG4gICAgcmV0dXJuIHggPj0gMCAmJiB4IDwgdGhpcy53aWR0aCAmJiB5ID49IDAgJiYgeSA8IHRoaXMuaGVpZ2h0XG4gIH1cblxuICBhZGQoZW50aXR5KSB7XG4gICAgY29uc3QgcG9zS2V5ID0gYCR7ZW50aXR5Lnh9ICR7ZW50aXR5Lnl9YFxuICAgIHRoaXMucG9zSW5kZXhbcG9zS2V5XSA9IGVudGl0eVxuICAgIGlmICh0aGlzLnR5cGVJbmRleFtlbnRpdHkudHlwZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy50eXBlSW5kZXhbZW50aXR5LnR5cGVdID0gW11cbiAgICB9XG4gICAgdGhpcy50eXBlSW5kZXhbZW50aXR5LnR5cGVdLnB1c2goZW50aXR5KVxuICB9XG5cbiAgY2xlYXIoeCwgeSkge1xuICAgIGNvbnN0IGV4aXN0aW5nID0gdGhpcy5nZXQoeCwgeSlcbiAgICBpZiAoZXhpc3RpbmcgIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IGkgPSB0aGlzLnR5cGVJbmRleFtleGlzdGluZy50eXBlXS5pbmRleE9mKGV4aXN0aW5nKVxuICAgICAgaWYgKGkgPiAtMSkgdGhpcy50eXBlSW5kZXhbZXhpc3RpbmcudHlwZV0uc3BsaWNlKGksIDEpXG4gICAgICBjb25zdCBwb3NLZXkgPSBgJHtleGlzdGluZy54fSAke2V4aXN0aW5nLnl9YFxuICAgICAgZGVsZXRlIHRoaXMucG9zSW5kZXhbcG9zS2V5XVxuICAgIH1cbiAgfVxuXG4gIHNldCh4LCB5LCBlbnRpdHkpIHtcbiAgICBlbnRpdHkueCA9IGNsYW1wKHgsIDAsIHRoaXMud2lkdGggLSAxKVxuICAgIGVudGl0eS55ID0gY2xhbXAoeSwgMCwgdGhpcy5oZWlnaHQgLSAxKVxuICAgIHRoaXMuY2xlYXIoeCwgeSlcbiAgICB0aGlzLmFkZChlbnRpdHkpXG4gIH1cblxuICBnZXQoeCwgeSkge1xuICAgIHggPSBjbGFtcCh4LCAwLCB0aGlzLndpZHRoIC0gMSlcbiAgICB5ID0gY2xhbXAoeSwgMCwgdGhpcy5oZWlnaHQgLSAxKVxuICAgIGNvbnN0IHBvc0tleSA9IGAke3h9ICR7eX1gXG4gICAgY29uc3QgZW50aXR5ID0gdGhpcy5wb3NJbmRleFtwb3NLZXldXG4gICAgaWYgKGVudGl0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZW50aXR5XG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBmaW5kKGVudGl0eVR5cGUpIHtcbiAgICBpZiAodGhpcy50eXBlSW5kZXhbZW50aXR5VHlwZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuICAgIHJldHVybiB0aGlzLnR5cGVJbmRleFtlbnRpdHlUeXBlXS5zbGljZSgpXG4gIH1cblxuICByZW1vdmUoZW50aXR5KSB7XG4gICAgdGhpcy5jbGVhcihlbnRpdHkueCwgZW50aXR5LnkpXG4gIH1cblxuICBsaXN0KCkge1xuICAgIHJldHVybiBPYmplY3QudmFsdWVzKHRoaXMucG9zSW5kZXgpXG4gIH1cbn1cbiIsImltcG9ydCB7IG5vdCwgcm90bCB9IGZyb20gXCIuL3V0aWxzXCJcblxuLy8gZW51bSBmb3Igcm9vbSBmZWF0dXJlcyxcbi8vICpfRE9PUjogcm9vbSBoYXMgYSBkb29yIGF0IGRpcmVjdGlvblxuLy8gKl9XQUxMOiByb29tIGlzIG9wZW4gYXQgZGlyZWN0aW9uXG4vLyBET09SIGFuZCBXQUxMIGFyZSBpbnRlcmxlYXZlZCBzbyBhIHNoaWZ0IGJ5IDQgd2lsbCByZXN1bHQgaW4gYSBmZWF0dXJlIGluXG4vLyB0aGUgb3Bwb3NpdGUgZGlyZWN0aW9uLiBTaW1wbGlmaWVkOiBOb3J0aERvb3IgPDwgNCA9PSBTb3V0aERvb3JcbmV4cG9ydCBjb25zdCBGZWF0dXJlID0ge1xuICBOb3J0aERvb3I6IDIgKiogMCxcbiAgTm9ydGhXYWxsOiAyICoqIDEsXG4gIEVhc3REb29yOiAyICoqIDIsXG4gIEVhc3RXYWxsOiAyICoqIDMsXG4gIFNvdXRoRG9vcjogMiAqKiA0LFxuICBTb3V0aFdhbGw6IDIgKiogNSxcbiAgV2VzdERvb3I6IDIgKiogNixcbiAgV2VzdFdhbGw6IDIgKiogNyxcbiAgQUxMOiAyNTZcbn1cbkZlYXR1cmUuTm9ydGggPSBGZWF0dXJlLk5vcnRoRG9vciB8IEZlYXR1cmUuTm9ydGhXYWxsXG5GZWF0dXJlLkVhc3QgPSBGZWF0dXJlLkVhc3REb29yIHwgRmVhdHVyZS5FYXN0V2FsbFxuRmVhdHVyZS5Tb3V0aCA9IEZlYXR1cmUuU291dGhEb29yIHwgRmVhdHVyZS5Tb3V0aFdhbGxcbkZlYXR1cmUuV2VzdCA9IEZlYXR1cmUuV2VzdERvb3IgfCBGZWF0dXJlLldlc3RXYWxsXG5GZWF0dXJlLkRPT1JfTUFTSyA9IEZlYXR1cmUuTm9ydGhEb29yIHwgRmVhdHVyZS5FYXN0RG9vciB8IEZlYXR1cmUuU291dGhEb29yIHwgRmVhdHVyZS5XZXN0RG9vclxuRmVhdHVyZS5XQUxMX01BU0sgPSBGZWF0dXJlLk5vcnRoV2FsbCB8IEZlYXR1cmUuRWFzdFdhbGwgfCBGZWF0dXJlLlNvdXRoV2FsbCB8IEZlYXR1cmUuV2VzdFdhbGxcblxuLy8gdXNlZCB3aGVuIHRlc3RpbmcgZm9yIHJvb21zIGF0IGdyaWQgY29vcmRpbmF0ZXNcbmNvbnN0IE9GRlNFVCA9IFtcbiAgeyB4OiAwLCB5OiAtMSB9LCB7IHg6IDAsIHk6IC0xIH0sIHsgeDogMSwgeTogMCB9LCB7IHg6IDEsIHk6IDAgfSxcbiAgeyB4OiAwLCB5OiAxIH0sIHsgeDogMCwgeTogMSB9LCB7IHg6IC0xLCB5OiAwIH0sIHsgeDogLTEsIHk6IDAgfVxuXVxuXG5jb25zdCBvZmZzZXQgPSBmdW5jdGlvbiAoeCwgeSwgZGlyKSB7XG4gIHJldHVybiB7IHg6IHggKyBPRkZTRVRbZGlyXS54LCB5OiB5ICsgT0ZGU0VUW2Rpcl0ueSB9XG59XG5cbmV4cG9ydCBjb25zdCBzaGlmdEZlYXR1cmUgPSBmdW5jdGlvbiAoZmVhdHVyZXMpIHtcbiAgcmV0dXJuIHJvdGwoZmVhdHVyZXMsIDQsIDgpXG59XG5cbmNvbnN0IG1lcmdlRmVhdHVyZXMgPSBmdW5jdGlvbiAoYSwgYiwgZGlyKSB7XG4gIC8vIG1hc2sgaXMgZXhwZWN0ZWQgdG8gYmUgYSBzaW5nbGUgc2V0IGJpdCwgb25lIG9mIHRoZSAqX0RPT1IgYml0cy5cbiAgLy8gdGhpcyBpcyBhZGRpbmcgdGhlIGNvcnJlc3BvbmRpbmcgKl9XQUxMIGJpdFxuICBsZXQgbWFzayA9IGRpciB8IHJvdGwoZGlyLCAxLCA4KVxuICBiID0gc2hpZnRGZWF0dXJlKGIpICYgbWFza1xuICByZXR1cm4gKGEgJiBub3QobWFzaykgfCBiKVxufVxuXG5jb25zdCBtZXJnZUFkamFjZW50ID0gZnVuY3Rpb24gKGdyaWQsIHgsIHksIGZlYXR1cmVzKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSArPSAyKSB7XG4gICAgbGV0IGRpciA9IDEgPDwgaVxuICAgIGxldCBkaXIxID0gMSA8PCAoaSArIDEpXG4gICAgbGV0IG8gPSBvZmZzZXQoeCwgeSwgaSlcbiAgICAvLyBpZiB0aGUgb2Zmc2V0IGlzIG91dHNpZGUgb2YgdGhlIGdyaWQsIHJlbW92ZSBhbnkgY29ubmVjdGluZyBmZWF0dXJlc1xuICAgIC8vIGluIHRoYXQgZGlyZWN0aW9uXG4gICAgaWYgKCFncmlkLndpdGhpbihvLngsIG8ueSkpIHtcbiAgICAgIGZlYXR1cmVzICY9IG5vdChkaXIgfCBkaXIxKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGxldCBleGlzdGluZ0ZlYXR1cmVzID0gZ3JpZC5nZXQoby54LCBvLnkpXG4gICAgICBpZiAoZXhpc3RpbmdGZWF0dXJlcyAhPT0gMCkge1xuICAgICAgICBmZWF0dXJlcyA9IG1lcmdlRmVhdHVyZXMoZmVhdHVyZXMsIGV4aXN0aW5nRmVhdHVyZXMsIGRpcilcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZlYXR1cmVzO1xufVxuXG5jb25zdCBnZW5lcmF0ZUZlYXR1cmVzID0gZnVuY3Rpb24gKHJhbmRvbSwgcHJldmlvdXMpIHtcbiAgbGV0IHJhbmRvbURvb3JzID0gTWF0aC5mbG9vcihyYW5kb20ubmV4dCgpICogRmVhdHVyZS5BTEwpXG4gIGxldCByYW5kb21XYWxscyA9IE1hdGguZmxvb3IocmFuZG9tLm5leHQoKSAqIEZlYXR1cmUuQUxMKVxuICBsZXQgZG9vcnMgPSAocmFuZG9tRG9vcnMgJiBGZWF0dXJlLkRPT1JfTUFTSykgfCAocHJldmlvdXMgJiBGZWF0dXJlLkRPT1JfTUFTSylcbiAgbGV0IHdhbGxzID0gKHJhbmRvbVdhbGxzICYgRmVhdHVyZS5XQUxMX01BU0spIHwgKHByZXZpb3VzICYgRmVhdHVyZS5XQUxMX01BU0spXG4gIC8vIGNvbWJpbmUgZG9vcnMgYW5kIHdhbGxzXG4gIC8vIHNoaWZ0IGRvb3IgYml0cyBpbnRvIHdhbGwgYml0cyBhbmQgaW52ZXJ0IGZvciBhIG1hc2sgdG8gbm90XG4gIC8vIHBsYWNlIHdhbGxzIHdlcmUgdGhlcmUgYXJlIGRvb3JzXG4gIGxldCBkb29yX21hc2sgPSBub3Qocm90bChkb29ycywgMSwgOCkpXG4gIHJldHVybiB3YWxscyAmIGRvb3JfbWFzayB8IGRvb3JzXG59XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZU1hemUgPSBmdW5jdGlvbiAoZ3JpZCwgcmFuZG9tLCB4LCB5LCBwcmV2aW91cywgaXRlcikge1xuICBwcmV2aW91cyA9IHNoaWZ0RmVhdHVyZShwcmV2aW91cylcbiAgbGV0IGZlYXR1cmVzID0gcHJldmlvdXNcbiAgaWYgKGl0ZXIgPiAwKSB7XG4gICAgZmVhdHVyZXMgPSBnZW5lcmF0ZUZlYXR1cmVzKHJhbmRvbSwgcHJldmlvdXMpXG4gIH1cbiAgLy8gZmlyc3QgcGFzcyBtZXJnZXMgc3Vycm91bmRpbmcgb3Bwb3NpbmcgZmVhdHVyZXNcbiAgZmVhdHVyZXMgPSBtZXJnZUFkamFjZW50KGdyaWQsIHgsIHksIGZlYXR1cmVzKVxuICBncmlkLnNldCh4LCB5LCBmZWF0dXJlcylcbiAgLy8gc2Vjb25kIHBhc3MgcmVjdXJzZXMgaWYgZ3JpZCBwb3NpdGlvbiBpcyBmcmVlXG4gIC8vIGFuZCBnZW5lcmF0ZXMgbW9yZSByYW5kb20gZmVhdHVyZXNcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCA4OyBpKyspIHtcbiAgICBsZXQgZGlyID0gMSA8PCBpXG4gICAgbGV0IG8gPSBvZmZzZXQoeCwgeSwgaSlcbiAgICBpZiAoIWdyaWQud2l0aGluKG8ueCwgby55KSkge1xuICAgICAgY29udGludWVcbiAgICB9XG4gICAgbGV0IGV4aXN0aW5nRmVhdHVyZXMgPSBncmlkLmdldChvLngsIG8ueSlcbiAgICBsZXQgaGFzRmVhdHVyZSA9IChmZWF0dXJlcyAmIGRpcikgIT09IDBcbiAgICBsZXQgaXNOb3RQcmV2aW91cyA9IGRpciAhPT0gcHJldmlvdXNcbiAgICBsZXQgZ3JpZElzRnJlZSA9IGV4aXN0aW5nRmVhdHVyZXMgPT09IDBcbiAgICBpZiAoaGFzRmVhdHVyZSAmJiBpc05vdFByZXZpb3VzICYmIGdyaWRJc0ZyZWUpIHtcbiAgICAgIGdlbmVyYXRlTWF6ZShncmlkLCByYW5kb20sIG8ueCwgby55LCBkaXIsIGl0ZXIgLSAxKVxuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3dpcGUge1xuICBjb25zdHJ1Y3RvcihlbGVtZW50LCBvblN3aXBlKSB7XG4gICAgdGhpcy54RG93biA9IG51bGxcbiAgICB0aGlzLnlEb3duID0gbnVsbFxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcbiAgICB0aGlzLm9uU3dpcGUgPSBvblN3aXBlXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAndG91Y2hzdGFydCcsIHRoaXMuaGFuZGxlVG91Y2hTdGFydC5iaW5kKHRoaXMpLCBmYWxzZSlcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICd0b3VjaG1vdmUnLCB0aGlzLmhhbmRsZVRvdWNoTW92ZS5iaW5kKHRoaXMpLCBmYWxzZSlcbiAgfVxuXG4gIGhhbmRsZVRvdWNoU3RhcnQoZXZlbnQpIHtcbiAgICB0aGlzLnhEb3duID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYXG4gICAgdGhpcy55RG93biA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WVxuICB9XG5cbiAgaGFuZGxlVG91Y2hNb3ZlKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLnhEb3duIHx8ICF0aGlzLnlEb3duIHx8ICF0aGlzLm9uU3dpcGUpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHZhciB4VXAgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFhcbiAgICB2YXIgeVVwID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZXG5cbiAgICB0aGlzLnhEaWZmID0gdGhpcy54RG93biAtIHhVcFxuICAgIHRoaXMueURpZmYgPSB0aGlzLnlEb3duIC0geVVwXG5cbiAgICBpZiAoTWF0aC5hYnModGhpcy54RGlmZikgPiBNYXRoLmFicyh0aGlzLnlEaWZmKSkgeyAvLyBNb3N0IHNpZ25pZmljYW50LlxuICAgICAgaWYgKHRoaXMueERpZmYgPiAwKSB7XG4gICAgICAgIHRoaXMub25Td2lwZShldmVudCwgXCJTd2lwZUxlZnRcIilcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLm9uU3dpcGUoZXZlbnQsIFwiU3dpcGVSaWdodFwiKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlmICh0aGlzLnlEaWZmID4gMCkge1xuICAgICAgICB0aGlzLm9uU3dpcGUoZXZlbnQsIFwiU3dpcGVVcFwiKVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMub25Td2lwZShldmVudCwgXCJTd2lwZURvd25cIilcbiAgICAgIH1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB9XG5cbiAgICB0aGlzLnhEb3duID0gbnVsbFxuICAgIHRoaXMueURvd24gPSBudWxsXG4gIH1cbn1cbiIsImNsYXNzIEVudGl0eSB7XG4gIHVwZGF0ZShkZWx0YSkge31cbiAgY29sbGVjdChwbGF5ZXIpIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXIgZXh0ZW5kcyBFbnRpdHkge1xuICBzdGF0aWMgdHlwZSA9IFwicGxheWVyXCJcbiAgc3RhdGljIHNwcml0ZUluZGV4ID0gMFxuICBjb25zdHJ1Y3Rvcihpbml0KSB7XG4gICAgc3VwZXIoKVxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgaW5pdClcbiAgICB0aGlzLnNwcml0ZUluZGV4ID0gUGxheWVyLnNwcml0ZUluZGV4XG4gICAgdGhpcy50eXBlID0gUGxheWVyLnR5cGVcbiAgICB0aGlzLnNlcXVlbmNlSW5kZXggPSAwXG4gIH1cbiAgdXBkYXRlKGRlbHRhKSB7XG4gICAgdGhpcy5zZXF1ZW5jZUluZGV4ID0gcGFyc2VJbnQoZGVsdGEgKiA2KSAlIDNcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2VtIGV4dGVuZHMgRW50aXR5IHtcbiAgc3RhdGljIHR5cGUgPSBcImdlbVwiXG4gIHN0YXRpYyBzcHJpdGVJbmRleCA9IDFcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMuc3ByaXRlSW5kZXggPSBHZW0uc3ByaXRlSW5kZXhcbiAgICB0aGlzLnNlcXVlbmNlSW5kZXggPSAwXG4gICAgdGhpcy50eXBlID0gR2VtLnR5cGVcbiAgfVxuICBjb2xsZWN0IChwbGF5ZXIpIHtcbiAgICBwbGF5ZXIuZ2Vtc0NvbGxlY3RlZCArPSAxXG4gICAgcmV0dXJuIHRydWVcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRm9vZCBleHRlbmRzIEVudGl0eSB7XG4gIHN0YXRpYyB0eXBlID0gXCJmb29kXCJcbiAgc3RhdGljIHNwcml0ZUluZGV4ID0gMlxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy5zcHJpdGVJbmRleCA9IEZvb2Quc3ByaXRlSW5kZXhcbiAgICB0aGlzLnNlcXVlbmNlSW5kZXggPSAwXG4gICAgdGhpcy50eXBlID0gRm9vZC50eXBlXG4gICAgdGhpcy5zdGFtaW5hID0gMzBcbiAgfVxuICBjb2xsZWN0IChwbGF5ZXIpIHtcbiAgICBwbGF5ZXIuc3RhbWluYSA9IE1hdGgubWluKHBsYXllci5tYXhTdGFtaW5hLCBwbGF5ZXIuc3RhbWluYSArIHRoaXMuc3RhbWluYSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBIZWFydCBleHRlbmRzIEVudGl0eSB7XG4gIHN0YXRpYyB0eXBlID0gXCJoZWFydFwiXG4gIHN0YXRpYyBzcHJpdGVJbmRleCA9IDNcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLnNwcml0ZUluZGV4ID0gSGVhcnQuc3ByaXRlSW5kZXhcbiAgICB0aGlzLnNlcXVlbmNlSW5kZXggPSAwXG4gICAgdGhpcy50eXBlID0gSGVhcnQudHlwZVxuICB9XG4gIGNvbGxlY3QgKHBsYXllcikge1xuICAgIHBsYXllci5oZWFsdGggKz0gMVxuICAgIHJldHVybiB0cnVlXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNwaWtlVHJhcCBleHRlbmRzIEVudGl0eSB7XG4gIHN0YXRpYyB0eXBlID0gXCJzcGlrZXRyYXBcIlxuICBzdGF0aWMgc3ByaXRlSW5kZXggPSA0XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLnNwcml0ZUluZGV4ID0gU3Bpa2VUcmFwLnNwcml0ZUluZGV4XG4gICAgdGhpcy5zZXF1ZW5jZUluZGV4ID0gMFxuICAgIHRoaXMudHlwZSA9IFNwaWtlVHJhcC50eXBlXG4gICAgdGhpcy5jb3VudGVyID0gMFxuICAgIHRoaXMuZGFtYWdlID0gMVxuICB9XG4gIHVwZGF0ZSgpIHtcbiAgICB0aGlzLmNvdW50ZXIrK1xuICAgIHRoaXMuc2VxdWVuY2VJbmRleCA9IHRoaXMuY291bnRlciAlIDNcbiAgfVxuICBjb2xsZWN0IChwbGF5ZXIpIHtcbiAgICBpZiAodGhpcy5zZXF1ZW5jZUluZGV4ID09PSAxKVxuICAgICAgcGxheWVyLmhlYWx0aCAtPSB0aGlzLmRhbWFnZVxuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBSdWJibGUgPSA1XG5cbmV4cG9ydCBjbGFzcyBDb2luIGV4dGVuZHMgRW50aXR5IHtcbiAgc3RhdGljIHR5cGUgPSBcImNvaW5cIlxuICBzdGF0aWMgc3ByaXRlSW5kZXggPSA2XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy50eXBlID0gQ29pbi50eXBlXG4gICAgdGhpcy5zcHJpdGVJbmRleCA9IENvaW4uc3ByaXRlSW5kZXhcbiAgICB0aGlzLnNlcXVlbmNlSW5kZXggPSAwXG4gIH1cbiAgY29sbGVjdChwbGF5ZXIpIHtcbiAgICBwbGF5ZXIuY29pbnMgKz0gMVxuICAgIHJldHVybiB0cnVlXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1lcmNoYW50RXhpdCBleHRlbmRzIEVudGl0eSB7XG4gIHN0YXRpYyB0eXBlID0gXCJtZXJjaGFudGV4aXRcIlxuICBzdGF0aWMgc3ByaXRlSW5kZXggPSA1XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLnR5cGUgPSBNZXJjaGFudEV4aXQudHlwZVxuICAgIHRoaXMuc3ByaXRlSW5kZXggPSBNZXJjaGFudEV4aXQuc3ByaXRlSW5kZXhcbiAgICB0aGlzLnNlcXVlbmNlSW5kZXggPSAxXG4gIH1cbiAgY29sbGVjdChwbGF5ZXIpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNZXJjaGFudENvaW4gZXh0ZW5kcyBFbnRpdHkge1xuICBzdGF0aWMgdHlwZSA9IFwibWVyY2hhbnRjb2luXCJcbiAgc3RhdGljIHNwcml0ZUluZGV4ID0gNlxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy50eXBlID0gTWVyY2hhbnRDb2luLnR5cGVcbiAgICB0aGlzLnNwcml0ZUluZGV4ID0gTWVyY2hhbnRDb2luLnNwcml0ZUluZGV4XG4gICAgdGhpcy5zZXF1ZW5jZUluZGV4ID0gMVxuICAgIHRoaXMuY29zdCA9IDEwMDBcbiAgfVxuICBjb2xsZWN0KHBsYXllcikge1xuICAgIGlmIChwbGF5ZXIuZ2Vtc0NvbGxlY3RlZCA+PSB0aGlzLmNvc3QpIHtcbiAgICAgIHBsYXllci5jb2lucyArPSAxXG4gICAgICBwbGF5ZXIuZ2Vtc0NvbGxlY3RlZCAtPSB0aGlzLmNvc3RcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNZXJjaGFudEhlYXJ0IGV4dGVuZHMgRW50aXR5IHtcbiAgc3RhdGljIHR5cGUgPSBcIm1lcmNoYW50aGVhcnRcIlxuICBzdGF0aWMgc3ByaXRlSW5kZXggPSAzXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLnR5cGUgPSBNZXJjaGFudEhlYXJ0LnR5cGVcbiAgICB0aGlzLnNwcml0ZUluZGV4ID0gTWVyY2hhbnRIZWFydC5zcHJpdGVJbmRleFxuICAgIHRoaXMuc2VxdWVuY2VJbmRleCA9IDFcbiAgICB0aGlzLmNvc3QgPSA1XG4gIH1cbiAgY29sbGVjdChwbGF5ZXIpIHtcbiAgICBpZiAocGxheWVyLmNvaW5zID49IHRoaXMuY29zdCkge1xuICAgICAgcGxheWVyLmNvaW5zIC09IHRoaXMuY29zdFxuICAgICAgcGxheWVyLmluaXRIZWFsdGggKz0gMVxuICAgICAgcGxheWVyLmhlYWx0aCA9IHBsYXllci5pbml0SGVhbHRoXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWVyY2hhbnRGb29kIGV4dGVuZHMgRW50aXR5IHtcbiAgc3RhdGljIHR5cGUgPSBcIm1lcmNoYW50Zm9vZFwiXG4gIHN0YXRpYyBzcHJpdGVJbmRleCA9IDJcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMudHlwZSA9IE1lcmNoYW50Rm9vZC50eXBlXG4gICAgdGhpcy5zcHJpdGVJbmRleCA9IE1lcmNoYW50Rm9vZC5zcHJpdGVJbmRleFxuICAgIHRoaXMuc2VxdWVuY2VJbmRleCA9IDFcbiAgICB0aGlzLmNvc3QgPSAyXG4gIH1cbiAgY29sbGVjdChwbGF5ZXIpIHtcbiAgICBpZiAocGxheWVyLmNvaW5zID49IHRoaXMuY29zdCkge1xuICAgICAgcGxheWVyLmNvaW5zIC09IHRoaXMuY29zdFxuICAgICAgcGxheWVyLm1heFN0YW1pbmEgKz0gMTBcbiAgICAgIHBsYXllci5zdGFtaW5hID0gcGxheWVyLm1heFN0YW1pbmFcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgR3JpZCBmcm9tIFwiLi9ncmlkXCJcbmltcG9ydCB7RmVhdHVyZX0gZnJvbSBcIi4vbWF6ZWdlblwiXG5cbmNvbnN0IGNvbXB1dGVUaWxlID0gZnVuY3Rpb24gKGdyaWQsIHJhbmRvbSwgeCwgeSkge1xuICBsZXQgdiA9IGdyaWQuZ2V0KHgsIHkpXG4gIGNvbnN0IHRpbGUgPSB2ICogKFxuICAgIGdyaWQuZ2V0RGVmYXVsdCh4LCB5IC0gMSwgMSkgLy8gTiAxXG4gICAgfCBncmlkLmdldERlZmF1bHQoeCArIDEsIHksIDEpIDw8IDEgLy8gRSAyXG4gICAgfCBncmlkLmdldERlZmF1bHQoeCwgeSArIDEsIDEpIDw8IDIgLy8gUyA0XG4gICAgfCBncmlkLmdldERlZmF1bHQoeCAtIDEsIHksIDEpIDw8IDMgLy8gVyA4XG4gIClcbiAgbGV0IHZhcmlhbnQgPSByYW5kb20ubmV4dCgpIDwgMC4yNVxuICBpZiAodmFyaWFudCAmJiAodGlsZSA9PT0gMyB8fCB0aWxlID09PSA5IHx8IHRpbGUgPT09IDExKSkge1xuICAgIHJldHVybiB0aWxlIC0gMVxuICB9XG4gIHJldHVybiB0aWxlXG59XG5cbmV4cG9ydCBjb25zdCB0aWxlRmlsbCA9IGZ1bmN0aW9uICh0aWxlR3JpZCwgbWF6ZUdyaWQsIHJvb21TaXplLCByYW5kb20pIHtcbiAgbGV0IGZsb29yID0gMFxuICBsZXQgd2FsbCA9IDFcbiAgbGV0IHRtcEdyaWQgPSBuZXcgR3JpZCh0aWxlR3JpZC53aWR0aCwgdGlsZUdyaWQuaGVpZ2h0KVxuICB0bXBHcmlkLmZpbGwoMCwgMCwgdG1wR3JpZC53aWR0aCwgdG1wR3JpZC5oZWlnaHQsIHdhbGwpXG4gIGZvciAobGV0IG15ID0gMCwgbWggPSBtYXplR3JpZC5oZWlnaHQ7IG15IDwgbWg7IG15KyspIHtcbiAgICBmb3IgKGxldCBteCA9IDAsIG13ID0gbWF6ZUdyaWQud2lkdGg7IG14IDwgbXc7IG14KyspIHtcbiAgICAgIGxldCBmZWF0dXJlcyA9IG1hemVHcmlkLmdldChteCwgbXkpXG4gICAgICBpZiAoZmVhdHVyZXMgPT09IDApIGNvbnRpbnVlXG4gICAgICBsZXQgZG9vclNpemUgPSBNYXRoLmZsb29yKHJvb21TaXplIC8gMylcbiAgICAgIGxldCB0eCA9IG14ICogcm9vbVNpemVcbiAgICAgIGxldCB0eSA9IG15ICogcm9vbVNpemVcbiAgICAgIHRtcEdyaWQuZmlsbCh0eCArIDEsIHR5ICsgMSxcbiAgICAgICAgcm9vbVNpemUgLSAyLCByb29tU2l6ZSAtIDIsXG4gICAgICAgIGZsb29yKVxuICAgICAgaWYgKChmZWF0dXJlcyAmIEZlYXR1cmUuTm9ydGhEb29yKSAhPT0gMCkge1xuICAgICAgICB0bXBHcmlkLmZpbGwodHggKyAxICsgZG9vclNpemUsIHR5LFxuICAgICAgICAgIGRvb3JTaXplLCAxLFxuICAgICAgICAgIGZsb29yKVxuICAgICAgfVxuICAgICAgaWYgKChmZWF0dXJlcyAmIEZlYXR1cmUuTm9ydGhXYWxsKSAhPT0gMCkge1xuICAgICAgICB0bXBHcmlkLmZpbGwodHggKyAxLCB0eSxcbiAgICAgICAgICByb29tU2l6ZSAtIDIsIDEsXG4gICAgICAgICAgZmxvb3IpXG4gICAgICB9XG4gICAgICBpZiAoKGZlYXR1cmVzICYgRmVhdHVyZS5FYXN0RG9vcikgIT09IDApIHtcbiAgICAgICAgdG1wR3JpZC5maWxsKHR4ICsgcm9vbVNpemUgLSAxLCB0eSArIDEgKyBkb29yU2l6ZSxcbiAgICAgICAgICAxLCBkb29yU2l6ZSxcbiAgICAgICAgICBmbG9vcilcbiAgICAgIH1cbiAgICAgIGlmICgoZmVhdHVyZXMgJiBGZWF0dXJlLkVhc3RXYWxsKSAhPT0gMCkge1xuICAgICAgICB0bXBHcmlkLmZpbGwodHggKyByb29tU2l6ZSAtIDEsIHR5ICsgMSxcbiAgICAgICAgICAxLCByb29tU2l6ZSAtIDIsXG4gICAgICAgICAgZmxvb3IpXG4gICAgICB9XG4gICAgICBpZiAoKGZlYXR1cmVzICYgRmVhdHVyZS5Tb3V0aERvb3IpICE9PSAwKSB7XG4gICAgICAgIHRtcEdyaWQuZmlsbCh0eCArIDEgKyBkb29yU2l6ZSwgdHkgKyByb29tU2l6ZSAtIDEsXG4gICAgICAgICAgZG9vclNpemUsIDEsXG4gICAgICAgICAgZmxvb3IpXG4gICAgICB9XG4gICAgICBpZiAoKGZlYXR1cmVzICYgRmVhdHVyZS5Tb3V0aFdhbGwpICE9PSAwKSB7XG4gICAgICAgIHRtcEdyaWQuZmlsbCh0eCArIDEsIHR5ICsgcm9vbVNpemUgLSAxLFxuICAgICAgICAgIHJvb21TaXplIC0gMiwgMSxcbiAgICAgICAgICBmbG9vcilcbiAgICAgIH1cbiAgICAgIGlmICgoZmVhdHVyZXMgJiBGZWF0dXJlLldlc3REb29yKSAhPT0gMCkge1xuICAgICAgICB0bXBHcmlkLmZpbGwodHgsIHR5ICsgMSArIGRvb3JTaXplLFxuICAgICAgICAgIDEsIGRvb3JTaXplLFxuICAgICAgICAgIGZsb29yKVxuICAgICAgfVxuICAgICAgaWYgKChmZWF0dXJlcyAmIEZlYXR1cmUuV2VzdFdhbGwpICE9PSAwKSB7XG4gICAgICAgIHRtcEdyaWQuZmlsbCh0eCwgdHkgKyAxLFxuICAgICAgICAgIDEsIHJvb21TaXplIC0gMixcbiAgICAgICAgICBmbG9vcilcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgeSA9IDAsIHRoID0gdGlsZUdyaWQuaGVpZ2h0OyB5IDwgdGg7IHkrKykge1xuICAgIGZvciAobGV0IHggPSAwLCB0dyA9IHRpbGVHcmlkLndpZHRoOyB4IDwgdHc7IHgrKykge1xuICAgICAgdGlsZUdyaWQuc2V0KHgsIHksIGNvbXB1dGVUaWxlKHRtcEdyaWQsIHJhbmRvbSwgeCwgeSkpXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgVGlsZXNTdG9uZUJyaWNrIGZyb20gXCIuLi9hc3NldHMvdGlsZXNfc3RvbmVicmljay5wbmdcIlxuaW1wb3J0IFRpbGVzQ2F2ZUJyaWNrIGZyb20gXCIuLi9hc3NldHMvdGlsZXNfY2F2ZWJyaWNrLnBuZ1wiXG5pbXBvcnQgU3ByaXRlc0ltYWdlIGZyb20gXCIuLi9hc3NldHMvc3ByaXRlcy5wbmdcIlxuXG5pbXBvcnQgeyByb3V0aW5lLCBSYW5kb20sIGxvYWRJbWFnZSwgb2Zmc2NyZWVuQ2FudmFzIH0gZnJvbSBcIi4vdXRpbHNcIlxuaW1wb3J0IEdyaWQgZnJvbSBcIi4vZ3JpZFwiXG5pbXBvcnQgRW50aXR5R3JpZCBmcm9tIFwiLi9lbnRpdHlHcmlkXCJcbmltcG9ydCB7IEZlYXR1cmUsIGdlbmVyYXRlTWF6ZSwgc2hpZnRGZWF0dXJlIH0gZnJvbSBcIi4vbWF6ZWdlblwiXG5pbXBvcnQgU3dpcGUgZnJvbSBcIi4vc3dpcGVcIlxuaW1wb3J0IHsgR2VtLCBGb29kLCBTcGlrZVRyYXAsIEhlYXJ0LCBSdWJibGUsIFBsYXllciwgQ29pbiwgTWVyY2hhbnRFeGl0LFxuICBNZXJjaGFudENvaW4sIE1lcmNoYW50Rm9vZCwgTWVyY2hhbnRIZWFydCB9IGZyb20gXCIuL2VudGl0eVwiXG5pbXBvcnQge3RpbGVGaWxsfSBmcm9tIFwiLi90aWxlZmlsbFwiXG5cblxuY29uc3Qgc2NhbGVGb3JEaXNwbGF5ID0gZnVuY3Rpb24gKCkge1xuICBsZXQgdiA9IE1hdGgucm91bmQoNCArIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKVxuICByZXR1cm4gdiAtICh2ICUgMilcbn1cblxuY29uc3QgUk9PTV9TSVpFID0gNVxuY29uc3QgVElMRV9TSVpFID0gOFxuY29uc3QgU1BSSVRFX1NJWkUgPSA4XG5jb25zdCBTQ0FMRSA9IHNjYWxlRm9yRGlzcGxheSgpXG5jb25zdCBJVEVSQVRJT05TID0gMTJcbmNvbnN0IHJhbmRvbSA9IG5ldyBSYW5kb20od2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyKDEpKVxuY29uc3QgR0FNRV9TVEFURV9CVVNZID0gMFxuY29uc3QgR0FNRV9TVEFURV9SRUFEWSA9IDFcbmNvbnN0IEdBTUVfU1RBVEVfTUVSQ0hBTlQgPSAyXG5cbmNvbnN0IGRyYXdTcHJpdGUgPSBmdW5jdGlvbiAoY3R4LCBzcHJpdGVTaGVldCwgc3ByaXRlSW5kZXgsIHgsIHksIHNlcXVlbmNlSW5kZXg9MCwgZmxpcD1mYWxzZSkge1xuICBjdHguZHJhd0ltYWdlKHNwcml0ZVNoZWV0LFxuICAgIHNwcml0ZUluZGV4ICogU1BSSVRFX1NJWkUsIHNlcXVlbmNlSW5kZXggKiBTUFJJVEVfU0laRSxcbiAgICBTUFJJVEVfU0laRSwgU1BSSVRFX1NJWkUsXG4gICAgeCwgeSxcbiAgICBmbGlwID8gLVNQUklURV9TSVpFIDogU1BSSVRFX1NJWkUsIFNQUklURV9TSVpFKVxufVxuXG5jb25zdCBNb3ZlTm9ydGggPSB7IG9mZnNldDogeyB4OiAwLCB5OiAtMSB9LCBtYXNrOiBGZWF0dXJlLk5vcnRoIH1cbmNvbnN0IE1vdmVFYXN0ID0geyBvZmZzZXQ6IHsgeDogMSwgeTogMCB9LCBtYXNrOiBGZWF0dXJlLkVhc3QgfVxuY29uc3QgTW92ZVNvdXRoID0geyBvZmZzZXQ6IHsgeDogMCwgeTogMSB9LCBtYXNrOiBGZWF0dXJlLlNvdXRoIH1cbmNvbnN0IE1vdmVXZXN0ID0geyBvZmZzZXQ6IHsgeDogLTEsIHk6IDAgfSwgbWFzazogRmVhdHVyZS5XZXN0IH1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZSB7XG4gIGNvbnN0cnVjdG9yKGNhbnZhcykge1xuICAgIC8vIGluaXRpYWxpemVzIHN0YXRlIHRvOlxuICAgIC8vIHRoaXMucGxheWVyID0gbmV3IFBsYXllcihwbGF5ZXJCYXNlU3RhdGUpXG4gICAgLy8gdGhpcy5zdGF0cyA9IHttYXhHZW1zQ29sbGVjdGVkLCBkZWF0aHN9XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLmxvYWRTdGF0ZSgpXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBzdGF0ZSlcbiAgICB0aGlzLmdhbWVTdGF0ZSA9IEdBTUVfU1RBVEVfQlVTWVxuICAgIHRoaXMuY2FudmFzID0gY2FudmFzXG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCAtIDQgLy8gYXJiaXRyYXJ5IG1hcmdpbiB0byBhdm9pZCBzY3JvbGxiYXJzXG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC0gNCAvLyBhcmJpdHJhcnkgbWFyZ2luIHRvIGF2b2lkIHNjcm9sbGJhcnNcbiAgICB0aGlzLndpZHRoU2NhbGVkID0gdGhpcy5jYW52YXMud2lkdGggLyBTQ0FMRVxuICAgIHRoaXMuaGVpZ2h0U2NhbGVkID0gdGhpcy5jYW52YXMuaGVpZ2h0IC8gU0NBTEVcbiAgICB0aGlzLmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKVxuICAgIHRoaXMuYmdDYW52YXMgPSBvZmZzY3JlZW5DYW52YXModGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodClcbiAgICB0aGlzLm1hemVHcmlkID0gbmV3IEdyaWQoXG4gICAgICBwYXJzZUludCh0aGlzLndpZHRoU2NhbGVkIC8gUk9PTV9TSVpFIC8gVElMRV9TSVpFKSxcbiAgICAgIHBhcnNlSW50KHRoaXMuaGVpZ2h0U2NhbGVkIC8gUk9PTV9TSVpFIC8gVElMRV9TSVpFKSlcbiAgICB0aGlzLmVudGl0eUdyaWQgPSBuZXcgRW50aXR5R3JpZCh0aGlzLm1hemVHcmlkLndpZHRoLCB0aGlzLm1hemVHcmlkLmhlaWdodClcbiAgICB0aGlzLnRpbGVHcmlkID0gbmV3IEdyaWQoXG4gICAgICB0aGlzLm1hemVHcmlkLndpZHRoICogUk9PTV9TSVpFLCB0aGlzLm1hemVHcmlkLmhlaWdodCAqIFJPT01fU0laRSlcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHRoaXMuaGFuZGxlSW5wdXQoZSwgZS5rZXkpKVxuICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4gdGhpcy5oYW5kbGVJbnB1dChlLCBcImNsaWNrXCIpKVxuICAgIHRoaXMuc3dpcGVIYW5kbGVyID0gbmV3IFN3aXBlKGNhbnZhcywgKGUsIHN3aXBlRGlyKSA9PiB0aGlzLmhhbmRsZUlucHV0KGUsIHN3aXBlRGlyKSlcblxuICAgIFByb21pc2UuYWxsKFtcbiAgICAgIGxvYWRJbWFnZShUaWxlc1N0b25lQnJpY2spLFxuICAgICAgbG9hZEltYWdlKFRpbGVzQ2F2ZUJyaWNrKSxcbiAgICAgIGxvYWRJbWFnZShTcHJpdGVzSW1hZ2UpXG4gICAgXSlcbiAgICAgIC50aGVuKChpbWFnZXMpID0+IHtcbiAgICAgICAgdGhpcy50aWxlcyA9IFtpbWFnZXNbMF0sIGltYWdlc1sxXV1cbiAgICAgICAgdGhpcy5zcHJpdGVzID0gaW1hZ2VzWzJdXG4gICAgICAgIHRoaXMucmVzZXQoKVxuICAgICAgfSlcbiAgfVxuXG4gIHBsYXllckJhc2VTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcG9zOiB7eDogMCwgeTogMH0sXG4gICAgICBpbml0SGVhbHRoOiAzLFxuICAgICAgaGVhbHRoOiAzLFxuICAgICAgbWF4U3RhbWluYTogMTAwLFxuICAgICAgc3RhbWluYTogMTAwLFxuICAgICAgZ2Vtc0NvbGxlY3RlZDogMCxcbiAgICAgIGNvaW5zOiAwLFxuICAgICAgbGV2ZWxzQ29tcGxldGVkOiAwXG4gICAgfVxuICB9XG5cbiAgYmFzZVN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwbGF5ZXI6IG5ldyBQbGF5ZXIodGhpcy5wbGF5ZXJCYXNlU3RhdGUoKSksXG4gICAgICBzdGF0czoge1xuICAgICAgICBtYXhHZW1zQ29sbGVjdGVkOiAwLFxuICAgICAgICBkZWF0aHM6IDAsXG4gICAgICAgIGxldmVsc0NvbXBsZXRlZDogMCxcbiAgICAgICAgdG90YWxNb3ZlczogMFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGxvYWRTdGF0ZSgpIHtcbiAgICBjb25zdCBzdGF0ZVJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic3RhdGVcIilcbiAgICBjb25zdCBiYXNlU3RhdGUgPSB0aGlzLmJhc2VTdGF0ZSgpXG4gICAgaWYgKHN0YXRlUmF3KSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBsb2FkZWRTdGF0ZSA9IEpTT04ucGFyc2Uoc3RhdGVSYXcpXG4gICAgICAgIGNvbnN0IHN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgYmFzZVN0YXRlKVxuICAgICAgICBPYmplY3QuYXNzaWduKHN0YXRlLnBsYXllciwgbG9hZGVkU3RhdGUucGxheWVyKVxuICAgICAgICBPYmplY3QuYXNzaWduKHN0YXRlLnN0YXRzLCBsb2FkZWRTdGF0ZS5zdGF0cylcbiAgICAgICAgcmV0dXJuIHN0YXRlXG4gICAgICB9XG4gICAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiBiYXNlU3RhdGVcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGJhc2VTdGF0ZVxuICB9XG5cbiAgc2F2ZVN0YXRlKCkge1xuICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgcGxheWVyOiB7XG4gICAgICAgIHBvczogdGhpcy5wbGF5ZXIucG9zLFxuICAgICAgICBpbml0SGVhbHRoOiB0aGlzLnBsYXllci5pbml0SGVhbHRoLFxuICAgICAgICBoZWFsdGg6IHRoaXMucGxheWVyLmhlYWx0aCxcbiAgICAgICAgbWF4U3RhbWluYTogdGhpcy5wbGF5ZXIubWF4U3RhbWluYSxcbiAgICAgICAgc3RhbWluYTogdGhpcy5wbGF5ZXIuc3RhbWluYSxcbiAgICAgICAgZ2Vtc0NvbGxlY3RlZDogdGhpcy5wbGF5ZXIuZ2Vtc0NvbGxlY3RlZCxcbiAgICAgICAgbGV2ZWxzQ29tcGxldGVkOiB0aGlzLnBsYXllci5sZXZlbHNDb21wbGV0ZWQsXG4gICAgICAgIGNvaW5zOiB0aGlzLnBsYXllci5jb2luc1xuICAgICAgfSxcbiAgICAgIHN0YXRzOiB7XG4gICAgICAgIG1heEdlbXNDb2xsZWN0ZWQ6IHRoaXMuc3RhdHMubWF4R2Vtc0NvbGxlY3RlZCxcbiAgICAgICAgZGVhdGhzOiB0aGlzLnN0YXRzLmRlYXRocyxcbiAgICAgICAgbGV2ZWxzQ29tcGxldGVkOiB0aGlzLnN0YXRzLmxldmVsc0NvbXBsZXRlZCxcbiAgICAgICAgdG90YWxNb3ZlczogdGhpcy5zdGF0cy50b3RhbE1vdmVzXG4gICAgICB9XG4gICAgfVxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic3RhdGVcIiwgSlNPTi5zdHJpbmdpZnkoc3RhdGUpKVxuICB9XG5cbiAgc3RhdEF2ZXJhZ2VNb3Zlc1BlckxldmVsKCkge1xuICAgIGlmICh0aGlzLnN0YXRzLnRvdGFsTW92ZXMgPiAwICYmIHRoaXMuc3RhdHMubGV2ZWxzQ29tcGxldGVkID4gMClcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKHRoaXMuc3RhdHMudG90YWxNb3ZlcyAvIHRoaXMuc3RhdHMubGV2ZWxzQ29tcGxldGVkLCAyKVxuICAgIHJldHVybiAwXG4gIH1cblxuICByZXNldChuZXdIYXNoKSB7XG4gICAgdGhpcy5nYW1lU3RhdGUgPSBHQU1FX1NUQVRFX0JVU1lcbiAgICBpZiAobmV3SGFzaCkge1xuICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKG51bGwsIG51bGwsIFwiI1wiICsgcmFuZG9tLmdldFN0YXRlKCkpXG4gICAgfVxuICAgIHRoaXMubWF6ZUdyaWQucmVzZXQoKVxuICAgIHRoaXMuZW50aXR5R3JpZC5yZXNldCgpXG4gICAgdGhpcy50aWxlR3JpZC5yZXNldCgpXG4gICAgdGhpcy5nYW1lU3RhdGUgPSBHQU1FX1NUQVRFX1JFQURZXG4gICAgaWYgKHRoaXMucGxheWVyLmxldmVsc0NvbXBsZXRlZCA+IDAgJiYgKHRoaXMucGxheWVyLmxldmVsc0NvbXBsZXRlZCAlIDUwKSA9PT0gMCkge1xuICAgICAgdGhpcy5nYW1lU3RhdGUgfD0gR0FNRV9TVEFURV9NRVJDSEFOVFxuICAgICAgdGhpcy5nZW5lcmF0ZU1lcmNoYW50TGV2ZWwoKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuZ2VuZXJhdGVNYXplTGV2ZWwoKVxuICAgIH1cbiAgICB0aGlzLmRyYXdNYXplKHRoaXMuYmdDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpKVxuICAgIHRoaXMuZHJhdygpXG4gIH1cblxuICBnZW5lcmF0ZU1lcmNoYW50TGV2ZWwoKSB7XG4gICAgY29uc3QgY2VudGVyWCA9IHBhcnNlSW50KHRoaXMubWF6ZUdyaWQud2lkdGggLyAyKVxuICAgIGNvbnN0IGNlbnRlclkgPSBwYXJzZUludCh0aGlzLm1hemVHcmlkLmhlaWdodCAvIDIpXG4gICAgdGhpcy5tYXplR3JpZC5zZXQoY2VudGVyWCwgY2VudGVyWSxcbiAgICAgIEZlYXR1cmUuTm9ydGhXYWxsIHwgRmVhdHVyZS5FYXN0V2FsbCB8IEZlYXR1cmUuU291dGhEb29yIHwgRmVhdHVyZS5XZXN0V2FsbClcbiAgICB0aGlzLm1hemVHcmlkLnNldChjZW50ZXJYLCBjZW50ZXJZIC0gMSwgRmVhdHVyZS5Tb3V0aFdhbGwpXG4gICAgdGhpcy5tYXplR3JpZC5zZXQoY2VudGVyWCwgY2VudGVyWSArIDEsIEZlYXR1cmUuTm9ydGhEb29yKVxuICAgIHRoaXMubWF6ZUdyaWQuc2V0KGNlbnRlclggLSAxLCBjZW50ZXJZLCBGZWF0dXJlLkVhc3RXYWxsKVxuICAgIHRoaXMubWF6ZUdyaWQuc2V0KGNlbnRlclggKyAxLCBjZW50ZXJZLCBGZWF0dXJlLldlc3RXYWxsKVxuICAgIHRpbGVGaWxsKHRoaXMudGlsZUdyaWQsIHRoaXMubWF6ZUdyaWQsIFJPT01fU0laRSwgcmFuZG9tKVxuICAgIHRoaXMucGxheWVyLnBvcyA9IHsgeDogY2VudGVyWCwgeTogY2VudGVyWSwgZGlyOiAxIH1cbiAgICB0aGlzLmVudGl0eUdyaWQuc2V0KGNlbnRlclgsIGNlbnRlclkgLSAxLCBuZXcgTWVyY2hhbnRDb2luKVxuICAgIHRoaXMuZW50aXR5R3JpZC5zZXQoY2VudGVyWCAtIDEsIGNlbnRlclksIG5ldyBNZXJjaGFudEhlYXJ0KVxuICAgIHRoaXMuZW50aXR5R3JpZC5zZXQoY2VudGVyWCArIDEsIGNlbnRlclksIG5ldyBNZXJjaGFudEZvb2QpXG4gICAgdGhpcy5lbnRpdHlHcmlkLnNldChjZW50ZXJYLCBjZW50ZXJZICsgMSwgbmV3IE1lcmNoYW50RXhpdClcbiAgfVxuXG4gIGdlbmVyYXRlTWF6ZUxldmVsKCkge1xuICAgIGNvbnN0IGNlbnRlclggPSBwYXJzZUludCh0aGlzLm1hemVHcmlkLndpZHRoIC8gMilcbiAgICBjb25zdCBjZW50ZXJZID0gcGFyc2VJbnQodGhpcy5tYXplR3JpZC5oZWlnaHQgLyAyKVxuICAgIGdlbmVyYXRlTWF6ZSh0aGlzLm1hemVHcmlkLCByYW5kb20sIGNlbnRlclgsIGNlbnRlclksIEZlYXR1cmUuRE9PUl9NQVNLLCBJVEVSQVRJT05TKVxuICAgIHRpbGVGaWxsKHRoaXMudGlsZUdyaWQsIHRoaXMubWF6ZUdyaWQsIFJPT01fU0laRSwgcmFuZG9tKVxuICAgIHRoaXMucGxheWVyLnBvcyA9IHsgeDogY2VudGVyWCwgeTogY2VudGVyWSwgZGlyOiAxIH1cbiAgICB0aGlzLmdlbmVyYXRlRW50aXRpZXMoR2VtLCAzLCAxMilcbiAgICB0aGlzLmdlbmVyYXRlRW50aXRpZXMoRm9vZCwgMSwgNSlcbiAgICB0aGlzLmdlbmVyYXRlRW50aXRpZXMoU3Bpa2VUcmFwLCAxLCA1KVxuICAgIHRoaXMuZ2VuZXJhdGVFbnRpdGllcyhIZWFydCwgMC4yKVxuICAgIHRoaXMuZ2VuZXJhdGVFbnRpdGllcyhDb2luLCAwLjA1KVxuICB9XG5cbiAgZ2VuZXJhdGVFbnRpdGllcyhlbnRpdHksIG1pbiwgbWF4KSB7XG4gICAgbGV0IGNvdW50XG4gICAgaWYgKG1heCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBnZW5lcmF0ZSBwcm9iYWJpbGl0eVxuICAgICAgY291bnQgPSAocmFuZG9tLm5leHQoKSA8IG1pbikgPyAxIDogMFxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vIGdlbmVyYXRlIHJhbmRvbSBjb3VudFxuICAgICAgY291bnQgPSBtaW4gKyBNYXRoLnJvdW5kKHJhbmRvbS5uZXh0KCkgKiAobWF4IC0gbWluKSlcbiAgICB9XG4gICAgbGV0IGNvdW50UGxhY2VkID0gMFxuICAgIGxldCBsb29wR3VhcmQgPSAxMDAwXG4gICAgd2hpbGUgKGNvdW50UGxhY2VkIDwgY291bnQgJiYgbG9vcEd1YXJkID4gMCkge1xuICAgICAgbG9vcEd1YXJkLS1cbiAgICAgIGNvbnN0IHggPSBwYXJzZUludChyYW5kb20ubmV4dCgpICogdGhpcy5tYXplR3JpZC53aWR0aClcbiAgICAgIGNvbnN0IHkgPSBwYXJzZUludChyYW5kb20ubmV4dCgpICogdGhpcy5tYXplR3JpZC5oZWlnaHQpXG4gICAgICBpZiAodGhpcy5tYXplR3JpZC5nZXQoeCwgeSkgIT09IDBcbiAgICAgICAgJiYgdGhpcy5lbnRpdHlHcmlkLmdldCh4LCB5KSA9PT0gbnVsbCkge1xuICAgICAgICB0aGlzLmVudGl0eUdyaWQuc2V0KHgsIHksIG5ldyBlbnRpdHkoKSlcbiAgICAgICAgY291bnRQbGFjZWQrK1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHBsYXllck1vdmVCeShkZWx0YVZlY3Rvcikge1xuICAgIGNvbnN0IHsgeDogaW5pdFgsIHk6IGluaXRZIH0gPSB0aGlzLnBsYXllci5wb3NcbiAgICB0aGlzLnBsYXllci5wb3MuZGlyID0gZGVsdGFWZWN0b3IueCA+PSAwID8gMSA6IC0xXG4gICAgcm91dGluZSg1MDAsIChkZWx0YSkgPT4ge1xuICAgICAgdGhpcy5wbGF5ZXIucG9zLnggPSBpbml0WCArIGRlbHRhVmVjdG9yLnggKiBkZWx0YVxuICAgICAgdGhpcy5wbGF5ZXIucG9zLnkgPSBpbml0WSArIGRlbHRhVmVjdG9yLnkgKiBkZWx0YVxuICAgICAgdGhpcy5wbGF5ZXIudXBkYXRlKGRlbHRhKVxuICAgICAgaWYgKGRlbHRhID09PSAxKSB7XG4gICAgICAgIHRoaXMucGxheWVyLnN0YW1pbmEgLT0gNFxuICAgICAgICB0aGlzLmNoZWNrRW50aXRpZXMoKVxuICAgICAgICB0aGlzLmVuZE1vdmUoKVxuICAgICAgfVxuICAgICAgdGhpcy5kcmF3KClcbiAgICB9KVxuICB9XG5cbiAgcGxheWVyTW92ZShkaXIpIHtcbiAgICBjb25zdCB0YXJnZXQgPSB7XG4gICAgICB4OiB0aGlzLnBsYXllci5wb3MueCArIGRpci5vZmZzZXQueCxcbiAgICAgIHk6IHRoaXMucGxheWVyLnBvcy55ICsgZGlyLm9mZnNldC55XG4gICAgfVxuICAgIGNvbnN0IHJvb21Gcm9tID0gdGhpcy5tYXplR3JpZC5nZXQodGhpcy5wbGF5ZXIucG9zLngsIHRoaXMucGxheWVyLnBvcy55KVxuICAgIGNvbnN0IHJvb21UbyA9IHRoaXMubWF6ZUdyaWQuZ2V0KHRhcmdldC54LCB0YXJnZXQueSlcbiAgICBjb25zdCBjYW5Nb3ZlVG8gPSAocm9vbVRvICYgc2hpZnRGZWF0dXJlKGRpci5tYXNrKSkgIT09IDBcbiAgICBjb25zdCBjYW5Nb3ZlRnJvbSA9IChyb29tRnJvbSAmIGRpci5tYXNrKSAhPT0gMFxuICAgIGlmIChjYW5Nb3ZlRnJvbSAmJiBjYW5Nb3ZlVG8pIHtcbiAgICAgIHRoaXMucGxheWVyTW92ZUJ5KGRpci5vZmZzZXQpXG4gICAgfVxuICB9XG5cbiAgcGxheWVyUmVzdCgpIHtcbiAgICB0aGlzLnBsYXllci5zdGFtaW5hIC09IDJcbiAgICB0aGlzLmNoZWNrRW50aXRpZXMoKVxuICAgIHRoaXMuZW5kTW92ZSgpXG4gICAgdGhpcy5kcmF3KClcbiAgfVxuXG4gIGNoZWNrRW50aXRpZXMoKSB7XG4gICAgY29uc3QgZW50aXRpZXMgPSB0aGlzLmVudGl0eUdyaWQubGlzdCgpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbnRpdGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgZW50aXRpZXNbaV0udXBkYXRlKClcbiAgICB9XG4gICAgY29uc3QgZW50aXR5ID0gdGhpcy5lbnRpdHlHcmlkLmdldCh0aGlzLnBsYXllci5wb3MueCwgdGhpcy5wbGF5ZXIucG9zLnkpXG4gICAgaWYgKGVudGl0eSkge1xuICAgICAgaWYgKGVudGl0eS5jb2xsZWN0KHRoaXMucGxheWVyKSlcbiAgICAgICAgdGhpcy5lbnRpdHlHcmlkLnJlbW92ZShlbnRpdHkpXG4gICAgfVxuICB9XG5cbiAgZW5kTW92ZSgpIHtcbiAgICBpZiAoKHRoaXMuZ2FtZVN0YXRlICYgR0FNRV9TVEFURV9NRVJDSEFOVCkgIT09IDApIHtcbiAgICAgIHRoaXMuZW5kTW92ZU1lcmNoYW50KClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbmRNb3ZlTWF6ZSgpXG4gICAgfVxuICB9XG5cbiAgZW5kTW92ZU1lcmNoYW50KCkge1xuICAgIHRoaXMuc2F2ZVN0YXRlKClcbiAgICBpZiAodGhpcy5lbnRpdHlHcmlkLmZpbmQoXCJtZXJjaGFudGV4aXRcIikubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLnBsYXllci5sZXZlbHNDb21wbGV0ZWQgKz0gMVxuICAgICAgdGhpcy5zdGF0cy5sZXZlbHNDb21wbGV0ZWQgKz0gMVxuICAgICAgdGhpcy5mYWRlT3V0KHRoaXMuY3R4LCA1MDAsICgpID0+IHRoaXMucmVzZXQodHJ1ZSkpXG4gICAgfVxuICB9XG5cbiAgZW5kTW92ZU1hemUoKSB7XG4gICAgbGV0IHJlc2V0ID0gZmFsc2VcbiAgICB0aGlzLnN0YXRzLm1heEdlbXNDb2xsZWN0ZWQgPSBNYXRoLm1heChcbiAgICAgIHRoaXMuc3RhdHMubWF4R2Vtc0NvbGxlY3RlZCxcbiAgICAgIHRoaXMucGxheWVyLmdlbXNDb2xsZWN0ZWQpXG4gICAgdGhpcy5zdGF0cy50b3RhbE1vdmVzICs9IDFcbiAgICBpZiAodGhpcy5lbnRpdHlHcmlkLmZpbmQoXCJnZW1cIikubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBjb21wbGV0ZWRcbiAgICAgIHRoaXMucGxheWVyLmxldmVsc0NvbXBsZXRlZCArPSAxXG4gICAgICB0aGlzLnN0YXRzLmxldmVsc0NvbXBsZXRlZCArPSAxXG4gICAgICB0aGlzLnBsYXllci5zdGFtaW5hID0gTWF0aC5taW4odGhpcy5wbGF5ZXIuc3RhbWluYSArIDQwLCAxMDApXG4gICAgICByZXNldCA9IHRydWVcbiAgICB9XG4gICAgaWYgKHRoaXMucGxheWVyLnN0YW1pbmEgPD0gMCAmJiB0aGlzLnBsYXllci5oZWFsdGggPiAwKSB7XG4gICAgICB0aGlzLnBsYXllci5zdGFtaW5hID0gMjBcbiAgICAgIHRoaXMucGxheWVyLmhlYWx0aCAtPSAxXG4gICAgfVxuICAgIGlmICh0aGlzLnBsYXllci5oZWFsdGggPD0gMCkge1xuICAgICAgLy8gZ2FtZSBvdmVyXG4gICAgICB0aGlzLnN0YXRzLmRlYXRocyArPSAxXG4gICAgICAvL3Jlc2V0IGJ1dCBwcmVzZXJ2ZSBjb2luc1xuICAgICAgY29uc3QgY29pbnMgPSB0aGlzLnBsYXllci5jb2luc1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLnBsYXllciwgdGhpcy5wbGF5ZXJCYXNlU3RhdGUoKSlcbiAgICAgIHRoaXMucGxheWVyLmNvaW5zID0gY29pbnNcbiAgICAgIHRoaXMucGxheWVyLmhlYWx0aCA9IHRoaXMucGxheWVyLmluaXRIZWFsdGhcbiAgICAgIHRoaXMucGxheWVyLnN0YW1pbmEgPSB0aGlzLnBsYXllci5tYXhTdGFtaW5hXG4gICAgICByZXNldCA9IHRydWVcbiAgICAgIHRoaXMuc2hvd0RlYXRoU2NyZWVuKHRoaXMpXG4gICAgfVxuICAgIHRoaXMuc2F2ZVN0YXRlKClcbiAgICBpZiAocmVzZXQpIHtcbiAgICAgIHRoaXMuZmFkZU91dCh0aGlzLmN0eCwgNTAwLCAoKSA9PiB0aGlzLnJlc2V0KHRydWUpKVxuICAgIH1cbiAgfVxuXG4gIGZhZGVPdXQoY3R4LCBkdXJhdGlvbiwgY2JFbmRPZkZhZGUpIHtcbiAgICB0aGlzLmdhbWVTdGF0ZSA9IEdBTUVfU1RBVEVfQlVTWVxuICAgIHJvdXRpbmUoZHVyYXRpb24sIChkZWx0YSkgPT4ge1xuICAgICAgY3R4LnNhdmUoKVxuICAgICAgY3R4LnNjYWxlKFNDQUxFLCBTQ0FMRSlcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBcInJnYmEoMCwgMCwgMCwgMC4xKVwiXG4gICAgICBjdHguZmlsbFJlY3QoMCwgMCwgdGhpcy53aWR0aFNjYWxlZCwgdGhpcy5oZWlnaHRTY2FsZWQpXG4gICAgICB0aGlzLmN0eC5yZXN0b3JlKClcbiAgICAgIGlmIChkZWx0YSA9PT0gMSkgY2JFbmRPZkZhZGUoKVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVJbnB1dChlLCBpbnB1dCkge1xuICAgIGlmICgodGhpcy5nYW1lU3RhdGUgJiBHQU1FX1NUQVRFX1JFQURZKSA9PT0gMCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHN3aXRjaCAoaW5wdXQpIHtcbiAgICAgIGNhc2UgXCJTd2lwZVVwXCI6XG4gICAgICBjYXNlIFwiQXJyb3dVcFwiOlxuICAgICAgICB0aGlzLnBsYXllck1vdmUoTW92ZU5vcnRoKVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiU3dpcGVEb3duXCI6XG4gICAgICBjYXNlIFwiQXJyb3dEb3duXCI6XG4gICAgICAgIHRoaXMucGxheWVyTW92ZShNb3ZlU291dGgpXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJTd2lwZUxlZnRcIjpcbiAgICAgIGNhc2UgXCJBcnJvd0xlZnRcIjpcbiAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlKE1vdmVXZXN0KVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiU3dpcGVSaWdodFwiOlxuICAgICAgY2FzZSBcIkFycm93UmlnaHRcIjpcbiAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlKE1vdmVFYXN0KVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiY2xpY2tcIjpcbiAgICAgIGNhc2UgXCIgXCI6XG4gICAgICAgIHRoaXMucGxheWVyUmVzdCgpXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBkcmF3KCkge1xuICAgIHRoaXMuY3R4LmRyYXdJbWFnZSh0aGlzLmJnQ2FudmFzLCAwLCAwKVxuICAgIHRoaXMuZHJhd0VudGl0aWVzKHRoaXMuY3R4KVxuICAgIHRoaXMuZHJhd1BsYXllcih0aGlzLmN0eClcbiAgICB0aGlzLmRyYXdIVUQodGhpcy5jdHgpXG4gIH1cblxuICBkcmF3TWF6ZShjdHgpIHtcbiAgICBjb25zdCB2YXJpYW50SW5kZXggPSBNYXRoLnJvdW5kKHJhbmRvbS5uZXh0KCkpXG4gICAgY29uc3QgdmFyaWFudEltZyA9IHRoaXMudGlsZXNbdmFyaWFudEluZGV4XVxuICAgIGN0eC5zYXZlKClcbiAgICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2VcbiAgICBjdHguc2NhbGUoU0NBTEUsIFNDQUxFKVxuICAgIC8vIGhhY2sgdG8gZHJhdyBiYWNrZ3JvdW5kIGJhc2VkIG9uIHRpbGUgY29sb3JcbiAgICBjb25zdCBsYXN0VGlsZU9mZnNldCA9IFRJTEVfU0laRSAqIDQgLSAxXG4gICAgY3R4LmRyYXdJbWFnZSh2YXJpYW50SW1nLFxuICAgICAgbGFzdFRpbGVPZmZzZXQsIGxhc3RUaWxlT2Zmc2V0LCAxLCAxLFxuICAgICAgMCwgMCwgdGhpcy53aWR0aFNjYWxlZCwgdGhpcy5oZWlnaHRTY2FsZWQpXG4gICAgZm9yIChsZXQgeSA9IDAsIHRoID0gdGhpcy50aWxlR3JpZC5oZWlnaHQ7IHkgPCB0aDsgeSsrKSB7XG4gICAgICBmb3IgKGxldCB4ID0gMCwgdHcgPSB0aGlzLnRpbGVHcmlkLndpZHRoOyB4IDwgdHc7IHgrKykge1xuICAgICAgICB0aGlzLmRyYXdUaWxlKGN0eCwgdmFyaWFudEltZywgeCwgeSwgdGhpcy50aWxlR3JpZC5nZXQoeCwgeSkpXG4gICAgICB9XG4gICAgfVxuICAgIGN0eC5yZXN0b3JlKClcbiAgfVxuXG4gIGRyYXdUaWxlKGN0eCwgdGlsZVNldCwgeCwgeSwgdGlsZUlkKSB7XG4gICAgY29uc3Qgc3ggPSAodGlsZUlkICUgNCkgKiBUSUxFX1NJWkVcbiAgICBjb25zdCBzeSA9IE1hdGguZmxvb3IodGlsZUlkIC8gNCkgKiBUSUxFX1NJWkVcbiAgICBjdHguZHJhd0ltYWdlKHRpbGVTZXQsXG4gICAgICBzeCwgc3ksIFRJTEVfU0laRSwgVElMRV9TSVpFLFxuICAgICAgeCAqIFRJTEVfU0laRSwgeSAqIFRJTEVfU0laRSxcbiAgICAgIFRJTEVfU0laRSwgVElMRV9TSVpFKVxuICB9XG5cbiAgZHJhd1BsYXllcihjdHgpIHtcbiAgICBjb25zdCBvZmZzZXRNdWx0ID0gUk9PTV9TSVpFICogVElMRV9TSVpFXG4gICAgY29uc3Qgb2Zmc2V0ID0gb2Zmc2V0TXVsdCAqIDAuNSAtIFNQUklURV9TSVpFICogMC41XG4gICAgY3R4LnNhdmUoKVxuICAgIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZVxuICAgIGN0eC5zY2FsZShTQ0FMRSwgU0NBTEUpXG4gICAgY3R4LnRyYW5zbGF0ZShcbiAgICAgIHRoaXMucGxheWVyLnBvcy54ICogb2Zmc2V0TXVsdCArIG9mZnNldCxcbiAgICAgIHRoaXMucGxheWVyLnBvcy55ICogb2Zmc2V0TXVsdCArIG9mZnNldClcbiAgICBjdHguc2NhbGUodGhpcy5wbGF5ZXIucG9zLmRpciwgMSlcbiAgICBkcmF3U3ByaXRlKGN0eCwgdGhpcy5zcHJpdGVzLCBQbGF5ZXIuc3ByaXRlSW5kZXgsIDAsIDAsXG4gICAgICB0aGlzLnBsYXllci5zZXF1ZW5jZUluZGV4LCB0aGlzLnBsYXllci5wb3MuZGlyIDwgMClcbiAgICBjdHgucmVzdG9yZSgpXG4gIH1cblxuICBkcmF3RW50aXRpZXMoY3R4KSB7XG4gICAgY29uc3Qgb2Zmc2V0TXVsdCA9IFJPT01fU0laRSAqIFRJTEVfU0laRVxuICAgIGNvbnN0IG9mZnNldCA9IG9mZnNldE11bHQgKiAwLjUgLSBTUFJJVEVfU0laRSAqIDAuNVxuICAgIGNvbnN0IGVudGl0aWVzID0gdGhpcy5lbnRpdHlHcmlkLmxpc3QoKVxuICAgIGN0eC5zYXZlKClcbiAgICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2VcbiAgICBjdHguc2NhbGUoU0NBTEUsIFNDQUxFKVxuICAgIGZvciAobGV0IGkgPSAwLCBuID0gZW50aXRpZXMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBsZXQgc3ByaXRlSW5kZXggPSBlbnRpdGllc1tpXS5zcHJpdGVJbmRleFxuICAgICAgbGV0IHNlcXVlbmNlSW5kZXggPSBlbnRpdGllc1tpXS5zZXF1ZW5jZUluZGV4XG4gICAgICBpZiAoIXRoaXMuZW50aXR5VmlzaWJsZShlbnRpdGllc1tpXSkpIHtcbiAgICAgICAgc3ByaXRlSW5kZXggPSBSdWJibGVcbiAgICAgICAgc2VxdWVuY2VJbmRleCA9IDBcbiAgICAgIH1cbiAgICAgIGRyYXdTcHJpdGUoY3R4LCB0aGlzLnNwcml0ZXMsIHNwcml0ZUluZGV4LFxuICAgICAgICBlbnRpdGllc1tpXS54ICogb2Zmc2V0TXVsdCArIG9mZnNldCxcbiAgICAgICAgZW50aXRpZXNbaV0ueSAqIG9mZnNldE11bHQgKyBvZmZzZXQsIHNlcXVlbmNlSW5kZXgpXG4gICAgfVxuICAgIGN0eC5yZXN0b3JlKClcbiAgfVxuXG4gIGVudGl0eVZpc2libGUoZW50aXR5KSB7XG4gICAgY29uc3QgbSA9IFtNb3ZlTm9ydGgsIE1vdmVFYXN0LCBNb3ZlU291dGgsIE1vdmVXZXN0XVxuICAgIGNvbnN0IHB4ID0gcGFyc2VJbnQodGhpcy5wbGF5ZXIucG9zLngpXG4gICAgY29uc3QgcHkgPSBwYXJzZUludCh0aGlzLnBsYXllci5wb3MueSlcbiAgICBpZiAoZW50aXR5LnggPT09IHB4ICYmIGVudGl0eS55ID09PSBweSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgY29uc3QgciA9IHRoaXMubWF6ZUdyaWQuZ2V0KHB4LCBweSlcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgaWYgKChyICYgbVtpXS5tYXNrKSAhPT0gMCkge1xuICAgICAgICBjb25zdCB4ID0gcGFyc2VJbnQodGhpcy5wbGF5ZXIucG9zLngpICsgbVtpXS5vZmZzZXQueFxuICAgICAgICBjb25zdCB5ID0gcGFyc2VJbnQodGhpcy5wbGF5ZXIucG9zLnkpICsgbVtpXS5vZmZzZXQueVxuICAgICAgICBpZiAoZW50aXR5LnggPT09IHggJiYgZW50aXR5LnkgPT09IHkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZHJhd0hVRChjdHgpIHtcbiAgICBjb25zdCBoID0gNVxuICAgIGNvbnN0IHcgPSB0aGlzLndpZHRoU2NhbGVkIC0gMTBcbiAgICBjb25zdCBpdyA9IHcgKiB0aGlzLnBsYXllci5zdGFtaW5hIC8gdGhpcy5wbGF5ZXIubWF4U3RhbWluYSAtIDJcbiAgICBjb25zdCBpaCA9IGggLSAyXG4gICAgY29uc3QgeSA9IHRoaXMuaGVpZ2h0U2NhbGVkIC0gaFxuICAgIGN0eC5zYXZlKClcbiAgICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2VcbiAgICBjdHguc2NhbGUoU0NBTEUsIFNDQUxFKVxuICAgIGN0eC5maWxsU3R5bGUgPSBcInJnYmEoNjgsIDM2LCA1MiwgMSlcIlxuICAgIGN0eC5maWxsUmVjdCg1LCB5LCB3LCBoKVxuICAgIGN0eC5maWxsU3R5bGUgPSBcInJnYmEoMjEwLCAxMjUsIDQ0LCAxKVwiXG4gICAgY3R4LmZpbGxSZWN0KDYsIHkgKyAxLCBpdywgaWgpXG4gICAgY3R4LmZvbnQgPSBcImJvbGQgOHB4IHNlcmlmXCJcbiAgICBjdHgudGV4dEFsaWduID0gXCJlbmRcIlxuICAgIGNvbnN0IGdlbVRleHQgPSBgJHt0aGlzLnBsYXllci5nZW1zQ29sbGVjdGVkfWBcbiAgICBjdHguZmlsbFRleHQoZ2VtVGV4dCwgdGhpcy53aWR0aFNjYWxlZCAtIDE2LCB0aGlzLmhlaWdodFNjYWxlZCAtIDkpXG4gICAgZHJhd1Nwcml0ZShjdHgsIHRoaXMuc3ByaXRlcywgR2VtLnNwcml0ZUluZGV4LFxuICAgICAgdGhpcy53aWR0aFNjYWxlZCAtIFNQUklURV9TSVpFIC0gNSwgdGhpcy5oZWlnaHRTY2FsZWQgLSAxNilcbiAgICBjb25zdCBjb2luVGV4dCA9IGAke3RoaXMucGxheWVyLmNvaW5zfWBcbiAgICBjdHguZmlsbFRleHQoY29pblRleHQsIHRoaXMud2lkdGhTY2FsZWQgLSA0MywgdGhpcy5oZWlnaHRTY2FsZWQgLSA5KVxuICAgIGRyYXdTcHJpdGUoY3R4LCB0aGlzLnNwcml0ZXMsIENvaW4uc3ByaXRlSW5kZXgsXG4gICAgICB0aGlzLndpZHRoU2NhbGVkIC0gU1BSSVRFX1NJWkUgLSAzMiwgdGhpcy5oZWlnaHRTY2FsZWQgLSAxNilcbiAgICBmb3IgKGxldCB4ID0gNSwgaSA9IDA7IGkgPCB0aGlzLnBsYXllci5oZWFsdGg7IGkrKyAsIHggKz0gU1BSSVRFX1NJWkUgKyAyKSB7XG4gICAgICBkcmF3U3ByaXRlKGN0eCwgdGhpcy5zcHJpdGVzLCBIZWFydC5zcHJpdGVJbmRleCxcbiAgICAgICAgeCwgdGhpcy5oZWlnaHRTY2FsZWQgLSAxNilcbiAgICB9XG4gICAgY3R4LnJlc3RvcmUoKVxuICB9XG59XG4iLCJpbXBvcnQgXCIuL21haW4uY3NzXCJcbmltcG9ydCBHYW1lIGZyb20gXCIuL2dhbWVcIlxuXG5jb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpXG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNhbnZhcylcbndpbmRvdy5nYW1lID0gbmV3IEdhbWUoY2FudmFzKVxuXG5cbmNvbnN0IHN0YXJ0U2NyZWVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxubGV0IGhpZGVTdGFydFNjcmVlblxuaGlkZVN0YXJ0U2NyZWVuID0gKGUpID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIHN0YXJ0U2NyZWVuLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxuICBzdGFydFNjcmVlbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGlkZVN0YXJ0U2NyZWVuKVxufVxuc3RhcnRTY3JlZW4uY2xhc3NMaXN0LmFkZChcInN0YXJ0LXNjcmVlblwiKVxuc3RhcnRTY3JlZW4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhpZGVTdGFydFNjcmVlbilcbnN0YXJ0U2NyZWVuLmlubmVySFRNTCA9IGBcbjxkaXYgY2xhc3M9XCJpbm5lclwiPlxuPGRpdiBjbGFzcz1cInRpdGxlXCI+Q29sbGVjdCBHZW1zPC9kaXY+XG48ZGl2PlxuICBQcmVzcyBhcnJvdyBrZXlzIHRvIG1vdmUsIFNwYWNlIHRvIHdhaXQgYSB0dXJuLjxici8+XG4gIE9yIHN3aXBlIHRvIG1vdmUsIHRhcCB0byB3YWl0IGEgdHVybi48YnIvPlxuICBDbGljayBvciB0YXAgdG8gc3RhcnQ8YnIvPlxuPC9kaXY+XG48dGFibGUgY2xhc3M9XCJzdGF0cyBzbWFsbFwiPlxuPHRyPjx0ZD5NYXggZ2VtcyBjb2xsZWN0ZWQ6PC90ZD48dGQ+JHtnYW1lLnN0YXRzLm1heEdlbXNDb2xsZWN0ZWR9PC90ZD48L3RyPlxuPHRyPjx0ZD5EZWF0aHM6PC90ZD48dGQ+JHtnYW1lLnN0YXRzLmRlYXRoc308L3RkPjwvdHI+XG48dHI+PHRkPkxldmVscyBjb21wbGV0ZWQ6PC90ZD48dGQ+JHtnYW1lLnN0YXRzLmxldmVsc0NvbXBsZXRlZH08L3RkPjwvdHI+XG48dHI+PHRkPkF2ZXJhZ2UgbW92ZXMgcGVyIGxldmVsOjwvdGQ+PHRkPiR7Z2FtZS5zdGF0QXZlcmFnZU1vdmVzUGVyTGV2ZWwoKX08L3RkPjwvdHI+XG48L3RhYmxlPlxuPC9kaXY+XG5gXG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHN0YXJ0U2NyZWVuKVxuXG5jb25zdCBkZWF0aFNjcmVlbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbmRlYXRoU2NyZWVuLmNsYXNzTGlzdC5hZGQoXCJkZWF0aC1zY3JlZW5cIiwgXCJoaWRlXCIpXG5kZWF0aFNjcmVlbi5pbm5lckhUTUwgPSBgXG48ZGl2PlxuICA8ZGl2IGNsYXNzPVwidGl0bGVcIj5Zb3UgZGllZDwvZGl2PlxuICA8ZGl2PkNsaWNrIG9yIHRhcCB0byBjb250aW51ZS48L2Rpdj5cbiAgPHRhYmxlIGNsYXNzPVwic3RhdHMgc21hbGxcIj5cbiAgPHRyPjx0ZD5NYXggZ2VtcyBjb2xsZWN0ZWQ6PC90ZD48dGQgY2xhc3M9XCJtYXhHZW1zQ29sbGVjdGVkXCI+PC90ZD48L3RyPlxuICA8dHI+PHRkPkRlYXRoczo8L3RkPjx0ZCBjbGFzcz1cImRlYXRoc1wiPjwvdGQ+PC90cj5cbiAgPHRyPjx0ZD5MZXZlbHMgY29tcGxldGVkOjwvdGQ+PHRkIGNsYXNzPVwibGV2ZWxzQ29tcGxldGVkXCI+PC90ZD48L3RyPlxuICA8dHI+PHRkPkF2ZXJhZ2UgbW92ZXMgcGVyIGxldmVsOjwvdGQ+PHRkIGNsYXNzPVwiYXZlcmFnZU1vdmVzUGVyTGV2ZWxcIj48L3RkPjwvdHI+XG4gIDwvdGFibGU+XG48L2Rpdj5cbmBcbmRlYXRoU2NyZWVuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KClcbiAgZGVhdGhTY3JlZW4uY2xhc3NMaXN0LmFkZChcImhpZGVcIilcbn0pXG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRlYXRoU2NyZWVuKVxuZ2FtZS5zaG93RGVhdGhTY3JlZW4gPSAoZ2FtZSkgPT4ge1xuICBkZWF0aFNjcmVlbi5xdWVyeVNlbGVjdG9yKFwiLm1heEdlbXNDb2xsZWN0ZWRcIikuaW5uZXJIVE1MID0gZ2FtZS5zdGF0cy5tYXhHZW1zQ29sbGVjdGVkXG4gIGRlYXRoU2NyZWVuLnF1ZXJ5U2VsZWN0b3IoXCIuZGVhdGhzXCIpLmlubmVySFRNTCA9IGdhbWUuc3RhdHMuZGVhdGhzXG4gIGRlYXRoU2NyZWVuLnF1ZXJ5U2VsZWN0b3IoXCIubGV2ZWxzQ29tcGxldGVkXCIpLmlubmVySFRNTCA9IGdhbWUuc3RhdHMubGV2ZWxzQ29tcGxldGVkXG4gIGRlYXRoU2NyZWVuLnF1ZXJ5U2VsZWN0b3IoXCIuYXZlcmFnZU1vdmVzUGVyTGV2ZWxcIikuaW5uZXJIVE1MID0gZ2FtZS5zdGF0QXZlcmFnZU1vdmVzUGVyTGV2ZWwoKVxuICBkZWF0aFNjcmVlbi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZVwiKVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==