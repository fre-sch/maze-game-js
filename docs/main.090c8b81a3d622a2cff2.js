!function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=3)}([function(t,e,i){t.exports=i.p+"tiles.c2f1160b45a03498badfba3140f4022c.png"},function(t,e,i){t.exports=i.p+"sprites.d7e375c22eb961e72867280e349a8e49.png"},function(t,e,i){},function(t,e,i){"use strict";i.r(e);i(2);function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}var a=function(t,e,i){return Math.max(e,Math.min(i,t))},o=function(t){return~t>>>0},h=function(t,e,i){var r=(1<<i)-1;return t<<(e%=i)&r|(t&r)>>i-e},l=function(t){for(var e=0,i=1779033703^t.length;e<t.length;e++)i=(i=Math.imul(i^t.charCodeAt(e),3432918353))<<13|i>>>19;return function(){return i=Math.imul(i^i>>>16,2246822507),i=Math.imul(i^i>>>13,3266489909),(i^=i>>>16)>>>0}},u=function(){function t(e){r(this,t),this.state=e}return s(t,[{key:"next",value:function(){var t=this.state+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967295}}]),t}(),f=function(){function t(e){r(this,t),void 0!==e&&(e=parseInt(e,36)),e||(e=(new Date).toISOString(),e=l(e)()),this.generator=new u(e)}return s(t,[{key:"next",value:function(){return this.generator.next()}},{key:"getState",value:function(){return this.generator.state.toString(36)}}]),t}();function c(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var p=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=e,this.height=i,this.cells=new Array(this.width*this.height).fill(0)}var e,i,r;return e=t,(i=[{key:"reset",value:function(){this.cells=new Array(this.width*this.height).fill(0)}},{key:"within",value:function(t,e){return t>=0&&t<this.width&&e>=0&&e<this.height}},{key:"set",value:function(t,e,i){t=a(t,0,this.width-1),e=a(e,0,this.height-1),this.cells[e*this.width+t]=i}},{key:"get",value:function(t,e){return t=a(t,0,this.width-1),e=a(e,0,this.height-1),this.cells[e*this.width+t]}},{key:"getDefault",value:function(t,e,i){return this.within(t,e)?this.cells[e*this.width+t]:i}},{key:"fill",value:function(t,e,i,r,n){t=a(t,0,this.width-1),e=a(e,0,this.height-1),i=a(i,0,this.width-t),r=a(r,0,this.height-e);for(var s=0;s<r;++s)for(var o=0;o<i;++o)this.set(t+o,e+s,n)}}])&&c(e.prototype,i),r&&c(e,r),t}(),d={NorthDoor:Math.pow(2,0),NorthWall:Math.pow(2,1),EastDoor:Math.pow(2,2),EastWall:Math.pow(2,3),SouthDoor:Math.pow(2,4),SouthWall:Math.pow(2,5),WestDoor:Math.pow(2,6),WestWall:Math.pow(2,7),ALL:256};d.North=d.NorthDoor|d.NorthWall,d.East=d.EastDoor|d.EastWall,d.South=d.SouthDoor|d.SouthWall,d.West=d.WestDoor|d.WestWall,d.DOOR_MASK=d.NorthDoor|d.EastDoor|d.SouthDoor|d.WestDoor,d.WALL_MASK=d.NorthWall|d.EastWall|d.SouthWall|d.WestWall;var v=[{x:0,y:-1},{x:0,y:-1},{x:1,y:0},{x:1,y:0},{x:0,y:1},{x:0,y:1},{x:-1,y:0},{x:-1,y:0}],y=function(t,e,i){return{x:t+v[i].x,y:e+v[i].y}},w=function(t){return h(t,4,8)},S=function(t,e,i){var r=i|h(i,1,8);return e=w(e)&r,t&o(r)|e},g=function t(e,i,r,n,s,a){var l=s=w(s);a>0&&(l=function(t,e){var i=Math.floor(t.next()*d.ALL),r=Math.floor(t.next()*d.ALL),n=i&d.DOOR_MASK|e&d.DOOR_MASK;return(r&d.WALL_MASK|e&d.WALL_MASK)&o(h(n,1,8))|n}(i,s)),l=function(t,e,i,r){for(var n=0;n<8;n+=2){var s=1<<n,a=1<<n+1,h=y(e,i,n);if(t.within(h.x,h.y)){var l=t.get(h.x,h.y);0!==l&&(r=S(r,l,s))}else r&=o(s|a)}return r}(e,r,n,l),e.set(r,n,l);for(var u=0;u<8;u++){var f=1<<u,c=y(r,n,u);if(e.within(c.x,c.y)){var p=e.get(c.x,c.y);0!=(l&f)&&f!==s&&0===p&&t(e,i,c.x,c.y,f,a-1)}}};function m(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var M=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.xDown=null,this.yDown=null,this.element=e,this.element.addEventListener("touchstart",this.handleTouchStart.bind(this),!1),this.element.addEventListener("touchmove",this.handleTouchMove.bind(this),!1)}var e,i,r;return e=t,(i=[{key:"handleTouchStart",value:function(t){this.xDown=t.touches[0].clientX,this.yDown=t.touches[0].clientY}},{key:"handleTouchMove",value:function(t){if(this.xDown&&this.yDown&&this.onSwipe){var e=t.touches[0].clientX,i=t.touches[0].clientY;this.xDiff=this.xDown-e,this.yDiff=this.yDown-i,Math.abs(this.xDiff)>Math.abs(this.yDiff)?this.xDiff>0?this.onSwipe(t,"SwipeLeft"):this.onSwipe(t,"SwipeRight"):(this.yDiff>0?this.onSwipe(t,"SwipeUp"):this.onSwipe(t,"SwipeDown"),t.preventDefault()),this.xDown=null,this.yDown=null}}}])&&m(e.prototype,i),r&&m(e,r),t}(),x=i(0),O=i.n(x),E=i(1),b=i.n(E);function D(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var I,k={ROOM_SIZE:5,SCALE:32,ITERATIONS:12},z=new f(window.location.hash.substr(1)),L=function(t,e,i){return t.get(e,i)*(t.getDefault(e,i-1,1)|t.getDefault(e+1,i,1)<<1|t.getDefault(e,i+1,1)<<2|t.getDefault(e-1,i,1)<<3)},A=function(t){return new Promise(function(e,i){var r=new Image;r.addEventListener("load",function(){return e(r)}),r.addEventListener("error",function(t){return i(t)}),r.src=t})},_={offset:{x:0,y:-1},mask:d.North},W={offset:{x:1,y:0},mask:d.East},R={offset:{x:0,y:1},mask:d.South},C={offset:{x:-1,y:0},mask:d.West},T=function(){function t(e){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.ctx=this.canvas.getContext("2d"),this.bgCanvas=new OffscreenCanvas(this.canvas.width,this.canvas.height),this.mazeGrid=new p(parseInt(e.width/k.SCALE/k.ROOM_SIZE),parseInt(e.height/k.SCALE/k.ROOM_SIZE)),this.tileGrid=new p(parseInt(e.width/k.SCALE),parseInt(e.height/k.SCALE)),this.player={health:3},window.addEventListener("keydown",function(t){return i.handleInput(t,t.key)}),new M(e).onSwipe=function(t,e){return i.handleInput(t,e)},Promise.all([A(O.a),A(b.a)]).then(function(t){i.tiles=t[0],i.tileSize=i.tiles.naturalWidth/4,i.sprites=t[1],i.spriteSize=8,i.reset()})}var e,i,r;return e=t,(i=[{key:"reset",value:function(t){t&&window.history.pushState(null,null,"#"+z.getState()),this.mazeGrid.reset(),this.tileGrid.reset();var e=parseInt(this.mazeGrid.width/2),i=parseInt(this.mazeGrid.height/2);g(this.mazeGrid,z,e,i,0,k.ITERATIONS),function(t,e){var i=new p(t.width,t.height);i.fill(0,0,i.width,i.height,1);for(var r=0,n=e.height;r<n;r++)for(var s=0,a=e.width;s<a;s++){var o=e.get(s,r);if(0!==o){var h=Math.floor(k.ROOM_SIZE/3),l=s*k.ROOM_SIZE,u=r*k.ROOM_SIZE;i.fill(l+1,u+1,k.ROOM_SIZE-2,k.ROOM_SIZE-2,0),0!=(o&d.NorthDoor)&&i.fill(l+1+h,u,h,1,0),0!=(o&d.NorthWall)&&i.fill(l+1,u,k.ROOM_SIZE-2,1,0),0!=(o&d.EastDoor)&&i.fill(l+k.ROOM_SIZE-1,u+1+h,1,h,0),0!=(o&d.EastWall)&&i.fill(l+k.ROOM_SIZE-1,u+1,1,k.ROOM_SIZE-2,0),0!=(o&d.SouthDoor)&&i.fill(l+1+h,u+k.ROOM_SIZE-1,h,1,0),0!=(o&d.SouthWall)&&i.fill(l+1,u+k.ROOM_SIZE-1,k.ROOM_SIZE-2,1,0),0!=(o&d.WestDoor)&&i.fill(l,u+1+h,1,h,0),0!=(o&d.WestWall)&&i.fill(l,u+1,1,k.ROOM_SIZE-2,0)}}for(var f=0,c=t.height;f<c;f++)for(var v=0,y=t.width;v<y;v++)t.set(v,f,L(i,v,f))}(this.tileGrid,this.mazeGrid),this.drawMaze(this.bgCanvas.getContext("2d")),this.player.pos={x:e,y:i,dir:1},this.generateTreasures(),this.draw()}},{key:"generateTreasures",value:function(){this.numTreasures=3+Math.round(9*z.next()),this.treasures=[];for(var t=1e3;this.treasures.length<this.numTreasures&&t>0;){t--;var e={x:parseInt(z.next()*this.mazeGrid.width),y:parseInt(z.next()*this.mazeGrid.height)};0!==this.mazeGrid.get(e.x,e.y)&&this.treasures.push(e)}}},{key:"playerMoveBy",value:function(t){var e,i,r,n,s=this.player.pos.x,a=this.player.pos.y;this.player.pos.dir=t.x>=0?1:-1,e=500,i=function(e){this.player.pos.x=s+t.x*e,this.player.pos.y=a+t.y*e,1===e&&this.checkGemsCollected(),this.draw()}.bind(this),n=null,r=function(t){null===n&&(n=t);var s=(t-n)/e;s<1?(i(s),window.requestAnimationFrame(r)):i(1)},window.requestAnimationFrame(r)}},{key:"playerMove",value:function(t){var e={x:this.player.pos.x+t.offset.x,y:this.player.pos.y+t.offset.y},i=this.mazeGrid.get(this.player.pos.x,this.player.pos.y),r=0!=(this.mazeGrid.get(e.x,e.y)&w(t.mask));0!=(i&t.mask)&&r&&this.playerMoveBy(t.offset)}},{key:"checkGemsCollected",value:function(){this.treasures=this.treasures.filter(function(t){return!(t.x===this.player.pos.x&&t.y===this.player.pos.y)}.bind(this)),0===this.treasures.length&&this.reset(!0)}},{key:"handleInput",value:function(t,e){switch(e){case"SwipeUp":case"ArrowUp":this.playerMove(_),t.preventDefault();break;case"SwipeDown":case"ArrowDown":this.playerMove(R),t.preventDefault();break;case"SwipeLeft":case"ArrowLeft":this.playerMove(C),t.preventDefault();break;case"SwipeRight":case"ArrowRight":this.playerMove(W),t.preventDefault()}}},{key:"draw",value:function(){this.ctx.drawImage(this.bgCanvas,0,0),this.drawTreasures(this.ctx),this.drawPlayer(this.ctx)}},{key:"drawMaze",value:function(t){t.save(),t.scale(parseInt(k.SCALE/this.tileSize),parseInt(k.SCALE/this.tileSize)),t.imageSmoothingEnabled=!1;for(var e=0,i=this.tileGrid.height;e<i;e++)for(var r=0,n=this.tileGrid.width;r<n;r++)this.drawTile(t,r,e,this.tileGrid.get(r,e));t.restore()}},{key:"drawTile",value:function(t,e,i,r){var n=r%4*this.tileSize,s=Math.floor(r/4)*this.tileSize;t.drawImage(this.tiles,n,s,this.tileSize,this.tileSize,e*this.tileSize,i*this.tileSize,this.tileSize,this.tileSize)}},{key:"drawPlayer",value:function(t){var e=Math.floor(k.SCALE/this.spriteSize),i=k.ROOM_SIZE*this.spriteSize,r=k.ROOM_SIZE*this.spriteSize*.5-.5*this.spriteSize;t.save(),t.scale(e,e),t.translate(this.player.pos.x*i+r,this.player.pos.y*i+r),t.imageSmoothingEnabled=!1,t.scale(this.player.pos.dir,1),t.drawImage(this.sprites,0,0,this.spriteSize,this.spriteSize,0,0,this.spriteSize*this.player.pos.dir,this.spriteSize),t.restore()}},{key:"drawTreasures",value:function(t){var e=Math.floor(k.SCALE/this.spriteSize),i=k.ROOM_SIZE*this.spriteSize,r=k.ROOM_SIZE*this.spriteSize*.5-.5*this.spriteSize;t.save(),t.scale(e,e),t.imageSmoothingEnabled=!1;for(var n=0,s=this.treasures.length;n<s;n++)t.drawImage(this.sprites,8,0,this.spriteSize,this.spriteSize,this.treasures[n].x*i+r,this.treasures[n].y*i+r,this.spriteSize,this.spriteSize);t.restore()}}])&&D(e.prototype,i),r&&D(e,r),t}(),G=document.createElement("div");I=function(t){G.style.display="none",G.removeEventListener("click",I)},G.classList.add("start-screen"),G.addEventListener("click",I),G.innerHTML='\n<div>\n<div class="title">Collect Gems</div>\n<div>Press arrow keys to move.</div>\n<div>Or swipe to move.</div>\n<div>Click or tap to start</div>\n</div>\n';var Z=document.createElement("canvas");document.body.appendChild(Z),document.body.appendChild(G),window.game=new T(Z)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL3RpbGVzLnBuZyIsIndlYnBhY2s6Ly8vLi9hc3NldHMvc3ByaXRlcy5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9ncmlkLmpzIiwid2VicGFjazovLy8uL3NyYy9tYXplZ2VuLmpzIiwid2VicGFjazovLy8uL3NyYy9zd2lwZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNsYW1wIiwidmFsIiwibWluIiwibWF4IiwiTWF0aCIsIm5vdCIsInJvdGwiLCJzaGlmdENvdW50Iiwic2l6ZSIsInNpemVNYXNrIiwieG11cjMiLCJzdHIiLCJoIiwibGVuZ3RoIiwiaW11bCIsImNoYXJDb2RlQXQiLCJNdWxiZXJyeTMyIiwic2VlZCIsInRoaXMiLCJzdGF0ZSIsIlJhbmRvbSIsImluaXRTZWVkIiwidW5kZWZpbmVkIiwicGFyc2VJbnQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJnZW5lcmF0b3IiLCJuZXh0IiwidG9TdHJpbmciLCJHcmlkIiwid2lkdGgiLCJoZWlnaHQiLCJjZWxscyIsIkFycmF5IiwiZmlsbCIsIngiLCJ5IiwiZGVmYXVsdFZhbHVlIiwid2l0aGluIiwieDEiLCJ5MSIsInciLCJzZXQiLCJGZWF0dXJlIiwiTm9ydGhEb29yIiwiTm9ydGhXYWxsIiwiRWFzdERvb3IiLCJFYXN0V2FsbCIsIlNvdXRoRG9vciIsIlNvdXRoV2FsbCIsIldlc3REb29yIiwiV2VzdFdhbGwiLCJBTEwiLCJOb3J0aCIsIkVhc3QiLCJTb3V0aCIsIldlc3QiLCJET09SX01BU0siLCJXQUxMX01BU0siLCJPRkZTRVQiLCJvZmZzZXQiLCJkaXIiLCJzaGlmdEZlYXR1cmUiLCJmZWF0dXJlcyIsIm1lcmdlRmVhdHVyZXMiLCJhIiwiYiIsIm1hc2siLCJnZW5lcmF0ZSIsImdyaWQiLCJyYW5kb20iLCJwcmV2aW91cyIsIml0ZXIiLCJyYW5kb21Eb29ycyIsImZsb29yIiwicmFuZG9tV2FsbHMiLCJkb29ycyIsImdlbmVyYXRlRmVhdHVyZXMiLCJkaXIxIiwiZXhpc3RpbmdGZWF0dXJlcyIsIm1lcmdlQWRqYWNlbnQiLCJTd2lwZSIsImVsZW1lbnQiLCJ4RG93biIsInlEb3duIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZVRvdWNoU3RhcnQiLCJoYW5kbGVUb3VjaE1vdmUiLCJldmVudCIsInRvdWNoZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsIm9uU3dpcGUiLCJ4VXAiLCJ5VXAiLCJ4RGlmZiIsInlEaWZmIiwiYWJzIiwicHJldmVudERlZmF1bHQiLCJoaWRlU3RhcnRTY3JlZW4iLCJQYXJhbSIsIlJPT01fU0laRSIsIlNDQUxFIiwiSVRFUkFUSU9OUyIsIndpbmRvdyIsImxvY2F0aW9uIiwiaGFzaCIsInN1YnN0ciIsImNvbXB1dGVUaWxlIiwiZ2V0RGVmYXVsdCIsImxvYWRJbWFnZSIsInNyYyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiaW1nIiwiSW1hZ2UiLCJlcnIiLCJNb3ZlTm9ydGgiLCJNb3ZlRWFzdCIsIk1vdmVTb3V0aCIsIk1vdmVXZXN0IiwiR2FtZSIsImNhbnZhcyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImN0eCIsImdldENvbnRleHQiLCJiZ0NhbnZhcyIsIk9mZnNjcmVlbkNhbnZhcyIsIm1hemVHcmlkIiwidGlsZUdyaWQiLCJwbGF5ZXIiLCJoZWFsdGgiLCJlIiwiaGFuZGxlSW5wdXQiLCJzd2lwZURpciIsImFsbCIsIlRpbGVJbWFnZSIsIlNwcml0ZXNJbWFnZSIsInRoZW4iLCJpbWFnZXMiLCJ0aWxlcyIsInRpbGVTaXplIiwibmF0dXJhbFdpZHRoIiwic3ByaXRlcyIsInNwcml0ZVNpemUiLCJyZXNldCIsIm5ld0hhc2giLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwiZ2V0U3RhdGUiLCJjZW50ZXJYIiwiY2VudGVyWSIsInRtcEdyaWQiLCJteSIsIm1oIiwibXgiLCJtdyIsImRvb3JTaXplIiwidHgiLCJ0eSIsInRoIiwidHciLCJnZW5lcmF0ZVRpbGVzIiwiZHJhd01hemUiLCJwb3MiLCJnZW5lcmF0ZVRyZWFzdXJlcyIsImRyYXciLCJudW1UcmVhc3VyZXMiLCJyb3VuZCIsInRyZWFzdXJlcyIsImNoZWNrIiwidHJlYXN1cmUiLCJwdXNoIiwiZGVsdGFWZWN0b3IiLCJkdXJhdGlvbk1zIiwiZnJhbWVGbiIsImZyYW1lRm5XcmFwcGVyIiwiaW5pdGlhbCIsImluaXRYIiwiaW5pdFkiLCJkZWx0YSIsImNoZWNrR2Vtc0NvbGxlY3RlZCIsInRpbWVzdGFtcCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInRhcmdldCIsInJvb21Gcm9tIiwiY2FuTW92ZVRvIiwicGxheWVyTW92ZUJ5IiwiZmlsdGVyIiwiZ2VtIiwiaW5wdXQiLCJwbGF5ZXJNb3ZlIiwiZHJhd0ltYWdlIiwiZHJhd1RyZWFzdXJlcyIsImRyYXdQbGF5ZXIiLCJzYXZlIiwic2NhbGUiLCJpbWFnZVNtb290aGluZ0VuYWJsZWQiLCJkcmF3VGlsZSIsInJlc3RvcmUiLCJ0aWxlSWQiLCJzeCIsInN5Iiwib2Zmc2V0TXVsdCIsInRyYW5zbGF0ZSIsInN0YXJ0U2NyZWVuIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJkaXNwbGF5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsImFkZCIsImlubmVySFRNTCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImdhbWUiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FBT1ksT0FBTyxNQUd2QixHQUZBMUIsRUFBb0JrQixFQUFFTyxHQUN0QlgsT0FBT0MsZUFBZVUsRUFBSSxVQUFX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OiJtYWluLjA5MGM4YjgxYTNkNjIyYTJjZmYyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwidGlsZXMuYzJmMTE2MGI0NWEwMzQ5OGJhZGZiYTMxNDBmNDAyMmMucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwic3ByaXRlcy5kN2UzNzVjMjJlYjk2MWU3Mjg2NzI4MGUzNDlhOGU0OS5wbmdcIjsiLCJleHBvcnQgY29uc3QgY2xhbXAgPSBmdW5jdGlvbiAodmFsLCBtaW4sIG1heCkge1xuICByZXR1cm4gTWF0aC5tYXgobWluLCBNYXRoLm1pbihtYXgsIHZhbCkpXG59XG5cbmV4cG9ydCBjb25zdCBub3QgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgLy8gamF2YXNjcmlwdCBiaXR3aXNlIG5vdCAofnZhbHVlKSByZXN1bHRzIGluIHNpZ24gYml0IGZsaXBcbiAgLy8gbWFraW5nIHZhbHVlIGEgc2lnbmVkIHZhbHVlLCBtYWtlIGl0IHVuc2lnbmVkXG4gIHJldHVybiB+dmFsdWUgPj4+IDBcbn1cblxuZXhwb3J0IGNvbnN0IHJvdGwgPSBmdW5jdGlvbiAodmFsLCBzaGlmdENvdW50LCBzaXplKSB7XG4gIC8vIHJvdGF0ZSBiaXRzIGxlZnQgYnkgc2hpZnRDb3VudCBhbmQgd3JhcCBhdCBzaXplXG4gIHNoaWZ0Q291bnQgPSBzaGlmdENvdW50ICUgc2l6ZVxuICBsZXQgc2l6ZU1hc2sgPSAoMSA8PCBzaXplKSAtIDFcbiAgcmV0dXJuIChcbiAgICAodmFsIDw8IHNoaWZ0Q291bnQpICYgc2l6ZU1hc2tcbiAgICB8ICh2YWwgJiBzaXplTWFzaykgPj4gKHNpemUgLSBzaGlmdENvdW50KVxuICApXG59XG5cbi8vIGZ1bmN0aW9uIGZyYW1lRm4oZGVsdGEpXG4vLyBkZWx0YSBpcyBhIGRvdWJsZSBmcm9tIDAgdG8gMVxuZXhwb3J0IGNvbnN0IHJvdXRpbmUgPSBmdW5jdGlvbiAoZHVyYXRpb25NcywgZnJhbWVGbikge1xuICBsZXQgaW5pdGlhbCA9IG51bGxcbiAgbGV0IGZyYW1lRm5XcmFwcGVyO1xuICBmcmFtZUZuV3JhcHBlciA9IGZ1bmN0aW9uKHRpbWVzdGFtcCkge1xuICAgIGlmIChpbml0aWFsID09PSBudWxsKSBpbml0aWFsID0gdGltZXN0YW1wXG4gICAgbGV0IGRlbHRhID0gKHRpbWVzdGFtcCAtIGluaXRpYWwpIC8gZHVyYXRpb25Nc1xuICAgIGlmIChkZWx0YSA8IDEpIHtcbiAgICAgIGZyYW1lRm4oZGVsdGEpXG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZyYW1lRm5XcmFwcGVyKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGZyYW1lRm4oMSlcbiAgICB9XG4gIH1cbiAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZUZuV3JhcHBlcilcbn1cblxuXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81MjEyOTUvc2VlZGluZy10aGUtcmFuZG9tLW51bWJlci1nZW5lcmF0b3ItaW4tamF2YXNjcmlwdFxuZXhwb3J0IGNvbnN0IHhtdXIzID0gZnVuY3Rpb24gKHN0cikge1xuICBmb3IgKHZhciBpID0gMCwgaCA9IDE3NzkwMzM3MDMgXiBzdHIubGVuZ3RoOyBpIDwgc3RyLmxlbmd0aDsgaSsrKVxuICAgIGggPSBNYXRoLmltdWwoaCBeIHN0ci5jaGFyQ29kZUF0KGkpLCAzNDMyOTE4MzUzKSxcbiAgICAgIGggPSBoIDw8IDEzIHwgaCA+Pj4gMTk7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaCA9IE1hdGguaW11bChoIF4gaCA+Pj4gMTYsIDIyNDY4MjI1MDcpO1xuICAgIGggPSBNYXRoLmltdWwoaCBeIGggPj4+IDEzLCAzMjY2NDg5OTA5KTtcbiAgICByZXR1cm4gKGggXj0gaCA+Pj4gMTYpID4+PiAwO1xuICB9XG59XG5cbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzUyMTI5NS9zZWVkaW5nLXRoZS1yYW5kb20tbnVtYmVyLWdlbmVyYXRvci1pbi1qYXZhc2NyaXB0XG5leHBvcnQgY2xhc3MgTXVsYmVycnkzMiB7XG4gIGNvbnN0cnVjdG9yKHNlZWQpIHtcbiAgICB0aGlzLnN0YXRlID0gc2VlZFxuICB9XG4gIG5leHQoKSB7XG4gICAgbGV0IHQgPSB0aGlzLnN0YXRlICs9IDB4NkQyQjc5RjVcbiAgICB0ID0gTWF0aC5pbXVsKHQgXiB0ID4+PiAxNSwgdCB8IDEpXG4gICAgdCBePSB0ICsgTWF0aC5pbXVsKHQgXiB0ID4+PiA3LCB0IHwgNjEpXG4gICAgcmV0dXJuICgodCBeIHQgPj4+IDE0KSA+Pj4gMCkgLyA0Mjk0OTY3Mjk1XG4gIH1cbn1cblxuLy8gU2VlZGFibGUgcmFuZG9tIHdpdGggc3RhdGVcbmV4cG9ydCBjbGFzcyBSYW5kb20ge1xuICBjb25zdHJ1Y3Rvcihpbml0U2VlZCkge1xuICAgIGlmIChpbml0U2VlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpbml0U2VlZCA9IHBhcnNlSW50KGluaXRTZWVkLCAzNilcbiAgICB9XG4gICAgaWYgKCFpbml0U2VlZCkge1xuICAgICAgaW5pdFNlZWQgPSAobmV3IERhdGUoKSkudG9JU09TdHJpbmcoKVxuICAgICAgaW5pdFNlZWQgPSB4bXVyMyhpbml0U2VlZCkoKVxuICAgIH1cbiAgICB0aGlzLmdlbmVyYXRvciA9IG5ldyBNdWxiZXJyeTMyKGluaXRTZWVkKVxuICB9XG4gIG5leHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2VuZXJhdG9yLm5leHQoKVxuICB9XG4gIGdldFN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLmdlbmVyYXRvci5zdGF0ZS50b1N0cmluZygzNilcbiAgfVxufVxuIiwiaW1wb3J0IHtjbGFtcH0gZnJvbSBcIi4vdXRpbHNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmlkIHtcbiAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCkge1xuICAgIHRoaXMud2lkdGggPSB3aWR0aFxuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0XG4gICAgdGhpcy5jZWxscyA9IG5ldyBBcnJheSh0aGlzLndpZHRoICogdGhpcy5oZWlnaHQpLmZpbGwoMClcbiAgfVxuXG4gIHJlc2V0ICgpIHtcbiAgICB0aGlzLmNlbGxzID0gbmV3IEFycmF5KHRoaXMud2lkdGggKiB0aGlzLmhlaWdodCkuZmlsbCgwKVxuICB9XG5cbiAgd2l0aGluICh4LCB5KSB7XG4gICAgcmV0dXJuIHggPj0gMCAmJiB4IDwgdGhpcy53aWR0aCAmJiB5ID49IDAgJiYgeSA8IHRoaXMuaGVpZ2h0XG4gIH1cblxuICBzZXQgKHgsIHksIHZhbHVlKSB7XG4gICAgeCA9IGNsYW1wKHgsIDAsIHRoaXMud2lkdGggLSAxKVxuICAgIHkgPSBjbGFtcCh5LCAwLCB0aGlzLmhlaWdodCAtIDEpXG4gICAgdGhpcy5jZWxsc1t5ICogdGhpcy53aWR0aCArIHhdID0gdmFsdWVcbiAgfVxuXG4gIGdldCAoeCwgeSkge1xuICAgIHggPSBjbGFtcCh4LCAwLCB0aGlzLndpZHRoIC0gMSlcbiAgICB5ID0gY2xhbXAoeSwgMCwgdGhpcy5oZWlnaHQgLSAxKVxuICAgIHJldHVybiB0aGlzLmNlbGxzW3kgKiB0aGlzLndpZHRoICsgeF1cbiAgfVxuXG4gIGdldERlZmF1bHQoeCwgeSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgaWYgKCF0aGlzLndpdGhpbih4LCB5KSkge1xuICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jZWxsc1t5ICogdGhpcy53aWR0aCArIHhdXG4gIH1cblxuICBmaWxsKHgxLCB5MSwgdywgaCwgdmFsdWUpIHtcbiAgICB4MSA9IGNsYW1wKHgxLCAwLCB0aGlzLndpZHRoIC0gMSlcbiAgICB5MSA9IGNsYW1wKHkxLCAwLCB0aGlzLmhlaWdodCAtIDEpXG4gICAgdyA9IGNsYW1wKHcsIDAsIHRoaXMud2lkdGggLSB4MSlcbiAgICBoID0gY2xhbXAoaCwgMCwgdGhpcy5oZWlnaHQgLSB5MSlcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGg7ICsreSkge1xuICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB3OyArK3gpIHtcbiAgICAgICAgdGhpcy5zZXQoeDEgKyB4LCB5MSArIHksIHZhbHVlKVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgbm90LCByb3RsIH0gZnJvbSBcIi4vdXRpbHNcIlxuXG4vLyBlbnVtIGZvciByb29tIGZlYXR1cmVzLFxuLy8gKl9ET09SOiByb29tIGhhcyBhIGRvb3IgYXQgZGlyZWN0aW9uXG4vLyAqX1dBTEw6IHJvb20gaXMgb3BlbiBhdCBkaXJlY3Rpb25cbi8vIERPT1IgYW5kIFdBTEwgYXJlIGludGVybGVhdmVkIHNvIGEgc2hpZnQgYnkgNCB3aWxsIHJlc3VsdCBpbiBhIGZlYXR1cmUgaW5cbi8vIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb24uIFNpbXBsaWZpZWQ6IE5vcnRoRG9vciA8PCA0ID09IFNvdXRoRG9vclxuZXhwb3J0IGNvbnN0IEZlYXR1cmUgPSB7XG4gIE5vcnRoRG9vcjogMiAqKiAwLFxuICBOb3J0aFdhbGw6IDIgKiogMSxcbiAgRWFzdERvb3I6IDIgKiogMixcbiAgRWFzdFdhbGw6IDIgKiogMyxcbiAgU291dGhEb29yOiAyICoqIDQsXG4gIFNvdXRoV2FsbDogMiAqKiA1LFxuICBXZXN0RG9vcjogMiAqKiA2LFxuICBXZXN0V2FsbDogMiAqKiA3LFxuICBBTEw6IDI1NlxufVxuRmVhdHVyZS5Ob3J0aCA9IEZlYXR1cmUuTm9ydGhEb29yIHwgRmVhdHVyZS5Ob3J0aFdhbGxcbkZlYXR1cmUuRWFzdCA9IEZlYXR1cmUuRWFzdERvb3IgfCBGZWF0dXJlLkVhc3RXYWxsXG5GZWF0dXJlLlNvdXRoID0gRmVhdHVyZS5Tb3V0aERvb3IgfCBGZWF0dXJlLlNvdXRoV2FsbFxuRmVhdHVyZS5XZXN0ID0gRmVhdHVyZS5XZXN0RG9vciB8IEZlYXR1cmUuV2VzdFdhbGxcbkZlYXR1cmUuRE9PUl9NQVNLID0gRmVhdHVyZS5Ob3J0aERvb3IgfCBGZWF0dXJlLkVhc3REb29yIHwgRmVhdHVyZS5Tb3V0aERvb3IgfCBGZWF0dXJlLldlc3REb29yXG5GZWF0dXJlLldBTExfTUFTSyA9IEZlYXR1cmUuTm9ydGhXYWxsIHwgRmVhdHVyZS5FYXN0V2FsbCB8IEZlYXR1cmUuU291dGhXYWxsIHwgRmVhdHVyZS5XZXN0V2FsbFxuXG4vLyB1c2VkIHdoZW4gdGVzdGluZyBmb3Igcm9vbXMgYXQgZ3JpZCBjb29yZGluYXRlc1xuY29uc3QgT0ZGU0VUID0gW1xuICB7IHg6IDAsIHk6IC0xIH0sIHsgeDogMCwgeTogLTEgfSwgeyB4OiAxLCB5OiAwIH0sIHsgeDogMSwgeTogMCB9LFxuICB7IHg6IDAsIHk6IDEgfSwgeyB4OiAwLCB5OiAxIH0sIHsgeDogLTEsIHk6IDAgfSwgeyB4OiAtMSwgeTogMCB9XG5dXG5cbmNvbnN0IG9mZnNldCA9IGZ1bmN0aW9uICh4LCB5LCBkaXIpIHtcbiAgcmV0dXJuIHsgeDogeCArIE9GRlNFVFtkaXJdLngsIHk6IHkgKyBPRkZTRVRbZGlyXS55IH1cbn1cblxuZXhwb3J0IGNvbnN0IHNoaWZ0RmVhdHVyZSA9IGZ1bmN0aW9uIChmZWF0dXJlcykge1xuICByZXR1cm4gcm90bChmZWF0dXJlcywgNCwgOClcbn1cblxuY29uc3QgbWVyZ2VGZWF0dXJlcyA9IGZ1bmN0aW9uIChhLCBiLCBkaXIpIHtcbiAgLy8gbWFzayBpcyBleHBlY3RlZCB0byBiZSBhIHNpbmdsZSBzZXQgYml0LCBvbmUgb2YgdGhlICpfRE9PUiBiaXRzLlxuICAvLyB0aGlzIGlzIGFkZGluZyB0aGUgY29ycmVzcG9uZGluZyAqX1dBTEwgYml0XG4gIGxldCBtYXNrID0gZGlyIHwgcm90bChkaXIsIDEsIDgpXG4gIGIgPSBzaGlmdEZlYXR1cmUoYikgJiBtYXNrXG4gIHJldHVybiAoYSAmIG5vdChtYXNrKSB8IGIpXG59XG5cbmNvbnN0IG1lcmdlQWRqYWNlbnQgPSBmdW5jdGlvbiAoZ3JpZCwgeCwgeSwgZmVhdHVyZXMpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyBpICs9IDIpIHtcbiAgICBsZXQgZGlyID0gMSA8PCBpXG4gICAgbGV0IGRpcjEgPSAxIDw8IChpICsgMSlcbiAgICBsZXQgbyA9IG9mZnNldCh4LCB5LCBpKVxuICAgIC8vIGlmIHRoZSBvZmZzZXQgaXMgb3V0c2lkZSBvZiB0aGUgZ3JpZCwgcmVtb3ZlIGFueSBjb25uZWN0aW5nIGZlYXR1cmVzXG4gICAgLy8gaW4gdGhhdCBkaXJlY3Rpb25cbiAgICBpZiAoIWdyaWQud2l0aGluKG8ueCwgby55KSkge1xuICAgICAgZmVhdHVyZXMgJj0gbm90KGRpciB8IGRpcjEpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgbGV0IGV4aXN0aW5nRmVhdHVyZXMgPSBncmlkLmdldChvLngsIG8ueSlcbiAgICAgIGlmIChleGlzdGluZ0ZlYXR1cmVzICE9PSAwKSB7XG4gICAgICAgIGZlYXR1cmVzID0gbWVyZ2VGZWF0dXJlcyhmZWF0dXJlcywgZXhpc3RpbmdGZWF0dXJlcywgZGlyKVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZmVhdHVyZXM7XG59XG5cbmNvbnN0IGdlbmVyYXRlRmVhdHVyZXMgPSBmdW5jdGlvbiAocmFuZG9tLCBwcmV2aW91cykge1xuICBsZXQgcmFuZG9tRG9vcnMgPSBNYXRoLmZsb29yKHJhbmRvbS5uZXh0KCkgKiBGZWF0dXJlLkFMTClcbiAgbGV0IHJhbmRvbVdhbGxzID0gTWF0aC5mbG9vcihyYW5kb20ubmV4dCgpICogRmVhdHVyZS5BTEwpXG4gIGxldCBkb29ycyA9IChyYW5kb21Eb29ycyAmIEZlYXR1cmUuRE9PUl9NQVNLKSB8IChwcmV2aW91cyAmIEZlYXR1cmUuRE9PUl9NQVNLKVxuICBsZXQgd2FsbHMgPSAocmFuZG9tV2FsbHMgJiBGZWF0dXJlLldBTExfTUFTSykgfCAocHJldmlvdXMgJiBGZWF0dXJlLldBTExfTUFTSylcbiAgLy8gY29tYmluZSBkb29ycyBhbmQgd2FsbHNcbiAgLy8gc2hpZnQgZG9vciBiaXRzIGludG8gd2FsbCBiaXRzIGFuZCBpbnZlcnQgZm9yIGEgbWFzayB0byBub3RcbiAgLy8gcGxhY2Ugd2FsbHMgd2VyZSB0aGVyZSBhcmUgZG9vcnNcbiAgbGV0IGRvb3JfbWFzayA9IG5vdChyb3RsKGRvb3JzLCAxLCA4KSlcbiAgcmV0dXJuIHdhbGxzICYgZG9vcl9tYXNrIHwgZG9vcnNcbn1cblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlID0gZnVuY3Rpb24gKGdyaWQsIHJhbmRvbSwgeCwgeSwgcHJldmlvdXMsIGl0ZXIpIHtcbiAgcHJldmlvdXMgPSBzaGlmdEZlYXR1cmUocHJldmlvdXMpXG4gIGxldCBmZWF0dXJlcyA9IHByZXZpb3VzXG4gIGlmIChpdGVyID4gMCkge1xuICAgIGZlYXR1cmVzID0gZ2VuZXJhdGVGZWF0dXJlcyhyYW5kb20sIHByZXZpb3VzKVxuICB9XG4gIC8vIGZpcnN0IHBhc3MgbWVyZ2VzIHN1cnJvdW5kaW5nIG9wcG9zaW5nIGZlYXR1cmVzXG4gIGZlYXR1cmVzID0gbWVyZ2VBZGphY2VudChncmlkLCB4LCB5LCBmZWF0dXJlcylcbiAgZ3JpZC5zZXQoeCwgeSwgZmVhdHVyZXMpXG4gIC8vIHNlY29uZCBwYXNzIHJlY3Vyc2VzIGlmIGdyaWQgcG9zaXRpb24gaXMgZnJlZVxuICAvLyBhbmQgZ2VuZXJhdGVzIG1vcmUgcmFuZG9tIGZlYXR1cmVzXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgODsgaSsrKSB7XG4gICAgbGV0IGRpciA9IDEgPDwgaVxuICAgIGxldCBvID0gb2Zmc2V0KHgsIHksIGkpXG4gICAgaWYgKCFncmlkLndpdGhpbihvLngsIG8ueSkpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICAgIGxldCBleGlzdGluZ0ZlYXR1cmVzID0gZ3JpZC5nZXQoby54LCBvLnkpXG4gICAgbGV0IGhhc0ZlYXR1cmUgPSAoZmVhdHVyZXMgJiBkaXIpICE9PSAwXG4gICAgbGV0IGlzTm90UHJldmlvdXMgPSBkaXIgIT09IHByZXZpb3VzXG4gICAgbGV0IGdyaWRJc0ZyZWUgPSBleGlzdGluZ0ZlYXR1cmVzID09PSAwXG4gICAgaWYgKGhhc0ZlYXR1cmUgJiYgaXNOb3RQcmV2aW91cyAmJiBncmlkSXNGcmVlKSB7XG4gICAgICBnZW5lcmF0ZShncmlkLCByYW5kb20sIG8ueCwgby55LCBkaXIsIGl0ZXIgLSAxKVxuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3dpcGUge1xuICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgdGhpcy54RG93biA9IG51bGxcbiAgICB0aGlzLnlEb3duID0gbnVsbFxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICd0b3VjaHN0YXJ0JywgdGhpcy5oYW5kbGVUb3VjaFN0YXJ0LmJpbmQodGhpcyksIGZhbHNlKVxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ3RvdWNobW92ZScsIHRoaXMuaGFuZGxlVG91Y2hNb3ZlLmJpbmQodGhpcyksIGZhbHNlKVxuICB9XG5cbiAgaGFuZGxlVG91Y2hTdGFydChldmVudCkge1xuICAgIHRoaXMueERvd24gPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFhcbiAgICB0aGlzLnlEb3duID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZXG4gIH1cblxuICBoYW5kbGVUb3VjaE1vdmUoZXZlbnQpIHtcbiAgICBpZiAoIXRoaXMueERvd24gfHwgIXRoaXMueURvd24gfHwgIXRoaXMub25Td2lwZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdmFyIHhVcCA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WFxuICAgIHZhciB5VXAgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFlcblxuICAgIHRoaXMueERpZmYgPSB0aGlzLnhEb3duIC0geFVwXG4gICAgdGhpcy55RGlmZiA9IHRoaXMueURvd24gLSB5VXBcblxuICAgIGlmIChNYXRoLmFicyh0aGlzLnhEaWZmKSA+IE1hdGguYWJzKHRoaXMueURpZmYpKSB7IC8vIE1vc3Qgc2lnbmlmaWNhbnQuXG4gICAgICBpZiAodGhpcy54RGlmZiA+IDApIHtcbiAgICAgICAgdGhpcy5vblN3aXBlKGV2ZW50LCBcIlN3aXBlTGVmdFwiKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vblN3aXBlKGV2ZW50LCBcIlN3aXBlUmlnaHRcIilcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMueURpZmYgPiAwKSB7XG4gICAgICAgIHRoaXMub25Td2lwZShldmVudCwgXCJTd2lwZVVwXCIpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9uU3dpcGUoZXZlbnQsIFwiU3dpcGVEb3duXCIpXG4gICAgICB9XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgfVxuXG4gICAgdGhpcy54RG93biA9IG51bGxcbiAgICB0aGlzLnlEb3duID0gbnVsbFxuICB9XG59XG4iLCJpbXBvcnQgeyByb3V0aW5lLCBSYW5kb20gfSBmcm9tIFwiLi91dGlsc1wiXG5pbXBvcnQgR3JpZCBmcm9tIFwiLi9ncmlkXCJcbmltcG9ydCB7IEZlYXR1cmUsIGdlbmVyYXRlLCBzaGlmdEZlYXR1cmUgfSBmcm9tIFwiLi9tYXplZ2VuXCJcbmltcG9ydCBTd2lwZSBmcm9tIFwiLi9zd2lwZVwiXG5pbXBvcnQgVGlsZUltYWdlIGZyb20gXCIuLi9hc3NldHMvdGlsZXMucG5nXCJcbmltcG9ydCBTcHJpdGVzSW1hZ2UgZnJvbSBcIi4uL2Fzc2V0cy9zcHJpdGVzLnBuZ1wiXG5cbmNvbnN0IFBhcmFtID0ge1xuICAvLyB3aWR0aCBhbmQgaGVpZ2h0IG9mIHJvb21zIGluIHBpeGVsc1xuICBST09NX1NJWkU6IDUsXG4gIC8vIGxhcmdlciBzY2FsZSBmb3IgYmlnZ2VyIHBpeGVsc1xuICBTQ0FMRTogMzIsXG4gIElURVJBVElPTlM6IDEyXG59XG5cbmNvbnN0IHJhbmRvbSA9IG5ldyBSYW5kb20od2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyKDEpKVxuXG5jb25zdCBjb21wdXRlVGlsZSA9IGZ1bmN0aW9uKGdyaWQsIHgsIHkpIHtcbiAgbGV0IHYgPSBncmlkLmdldCh4LCB5KVxuICByZXR1cm4gdiAqIChcbiAgICBncmlkLmdldERlZmF1bHQoeCwgeSAtIDEsIDEpIC8vIE4gMVxuICAgIHwgZ3JpZC5nZXREZWZhdWx0KHggKyAxLCB5LCAxKSA8PCAxIC8vIEUgMlxuICAgIHwgZ3JpZC5nZXREZWZhdWx0KHgsIHkgKyAxLCAxKSA8PCAyIC8vIFMgNFxuICAgIHwgZ3JpZC5nZXREZWZhdWx0KHggLSAxLCB5LCAxKSA8PCAzIC8vIFcgOFxuICApXG59XG5cbmNvbnN0IGdlbmVyYXRlVGlsZXMgPSBmdW5jdGlvbiAodGlsZUdyaWQsIG1hemVHcmlkKSB7XG4gIGxldCBmbG9vciA9IDBcbiAgbGV0IHdhbGwgPSAxXG4gIGxldCB0bXBHcmlkID0gbmV3IEdyaWQodGlsZUdyaWQud2lkdGgsIHRpbGVHcmlkLmhlaWdodClcbiAgdG1wR3JpZC5maWxsKDAsIDAsIHRtcEdyaWQud2lkdGgsIHRtcEdyaWQuaGVpZ2h0LCB3YWxsKVxuICBmb3IgKGxldCBteSA9IDAsIG1oID0gbWF6ZUdyaWQuaGVpZ2h0OyBteSA8IG1oOyBteSsrKSB7XG4gICAgZm9yIChsZXQgbXggPSAwLCBtdyA9IG1hemVHcmlkLndpZHRoOyBteCA8IG13OyBteCsrKSB7XG4gICAgICBsZXQgZmVhdHVyZXMgPSBtYXplR3JpZC5nZXQobXgsIG15KVxuICAgICAgaWYgKGZlYXR1cmVzID09PSAwKSBjb250aW51ZVxuICAgICAgbGV0IGRvb3JTaXplID0gTWF0aC5mbG9vcihQYXJhbS5ST09NX1NJWkUgLyAzKVxuICAgICAgbGV0IHR4ID0gbXggKiBQYXJhbS5ST09NX1NJWkVcbiAgICAgIGxldCB0eSA9IG15ICogUGFyYW0uUk9PTV9TSVpFXG4gICAgICB0bXBHcmlkLmZpbGwodHggKyAxLCB0eSArIDEsXG4gICAgICAgIFBhcmFtLlJPT01fU0laRSAtIDIsIFBhcmFtLlJPT01fU0laRSAtIDIsXG4gICAgICAgIGZsb29yKVxuICAgICAgaWYgKChmZWF0dXJlcyAmIEZlYXR1cmUuTm9ydGhEb29yKSAhPT0gMCkge1xuICAgICAgICB0bXBHcmlkLmZpbGwodHggKyAxICsgZG9vclNpemUsIHR5LFxuICAgICAgICAgIGRvb3JTaXplLCAxLFxuICAgICAgICAgIGZsb29yKVxuICAgICAgfVxuICAgICAgaWYgKChmZWF0dXJlcyAmIEZlYXR1cmUuTm9ydGhXYWxsKSAhPT0gMCkge1xuICAgICAgICB0bXBHcmlkLmZpbGwodHggKyAxLCB0eSxcbiAgICAgICAgICBQYXJhbS5ST09NX1NJWkUgLSAyLCAxLFxuICAgICAgICAgIGZsb29yKVxuICAgICAgfVxuICAgICAgaWYgKChmZWF0dXJlcyAmIEZlYXR1cmUuRWFzdERvb3IpICE9PSAwKSB7XG4gICAgICAgIHRtcEdyaWQuZmlsbCh0eCArIFBhcmFtLlJPT01fU0laRSAtIDEsIHR5ICsgMSArIGRvb3JTaXplLFxuICAgICAgICAgIDEsIGRvb3JTaXplLFxuICAgICAgICAgIGZsb29yKVxuICAgICAgfVxuICAgICAgaWYgKChmZWF0dXJlcyAmIEZlYXR1cmUuRWFzdFdhbGwpICE9PSAwKSB7XG4gICAgICAgIHRtcEdyaWQuZmlsbCh0eCArIFBhcmFtLlJPT01fU0laRSAtIDEsIHR5ICsgMSxcbiAgICAgICAgICAxLCBQYXJhbS5ST09NX1NJWkUgLSAyLFxuICAgICAgICAgIGZsb29yKVxuICAgICAgfVxuICAgICAgaWYgKChmZWF0dXJlcyAmIEZlYXR1cmUuU291dGhEb29yKSAhPT0gMCkge1xuICAgICAgICB0bXBHcmlkLmZpbGwodHggKyAxICsgZG9vclNpemUsIHR5ICsgUGFyYW0uUk9PTV9TSVpFIC0gMSxcbiAgICAgICAgICBkb29yU2l6ZSwgMSxcbiAgICAgICAgICBmbG9vcilcbiAgICAgIH1cbiAgICAgIGlmICgoZmVhdHVyZXMgJiBGZWF0dXJlLlNvdXRoV2FsbCkgIT09IDApIHtcbiAgICAgICAgdG1wR3JpZC5maWxsKHR4ICsgMSwgdHkgKyBQYXJhbS5ST09NX1NJWkUgLSAxLFxuICAgICAgICAgIFBhcmFtLlJPT01fU0laRSAtIDIsIDEsXG4gICAgICAgICAgZmxvb3IpXG4gICAgICB9XG4gICAgICBpZiAoKGZlYXR1cmVzICYgRmVhdHVyZS5XZXN0RG9vcikgIT09IDApIHtcbiAgICAgICAgdG1wR3JpZC5maWxsKHR4LCB0eSArIDEgKyBkb29yU2l6ZSxcbiAgICAgICAgICAxLCBkb29yU2l6ZSxcbiAgICAgICAgICBmbG9vcilcbiAgICAgIH1cbiAgICAgIGlmICgoZmVhdHVyZXMgJiBGZWF0dXJlLldlc3RXYWxsKSAhPT0gMCkge1xuICAgICAgICB0bXBHcmlkLmZpbGwodHgsIHR5ICsgMSxcbiAgICAgICAgICAxLCBQYXJhbS5ST09NX1NJWkUgLSAyLFxuICAgICAgICAgIGZsb29yKVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBmb3IgKGxldCB5ID0gMCwgdGggPSB0aWxlR3JpZC5oZWlnaHQ7IHkgPCB0aDsgeSsrKSB7XG4gICAgZm9yIChsZXQgeCA9IDAsIHR3ID0gdGlsZUdyaWQud2lkdGg7IHggPCB0dzsgeCsrKSB7XG4gICAgICB0aWxlR3JpZC5zZXQoeCwgeSwgY29tcHV0ZVRpbGUodG1wR3JpZCwgeCwgeSkpXG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGxvYWRJbWFnZSA9IGZ1bmN0aW9uIChzcmMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKVxuICAgIGltZy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiByZXNvbHZlKGltZykpXG4gICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCAoZXJyKSA9PiByZWplY3QoZXJyKSlcbiAgICBpbWcuc3JjID0gc3JjXG4gIH0pXG59XG5cbmNvbnN0IE1vdmVOb3J0aCA9IHtvZmZzZXQ6IHt4OiAwLCB5OiAtMX0sIG1hc2s6IEZlYXR1cmUuTm9ydGh9XG5jb25zdCBNb3ZlRWFzdCA9IHtvZmZzZXQ6IHt4OiAxLCB5OiAwfSwgbWFzazogRmVhdHVyZS5FYXN0fVxuY29uc3QgTW92ZVNvdXRoID0ge29mZnNldDoge3g6IDAsIHk6IDF9LCBtYXNrOiBGZWF0dXJlLlNvdXRofVxuY29uc3QgTW92ZVdlc3QgPSB7b2Zmc2V0OiB7eDogLTEsIHk6IDB9LCBtYXNrOiBGZWF0dXJlLldlc3R9XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWUge1xuICBjb25zdHJ1Y3RvcihjYW52YXMpIHtcbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhc1xuICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGhcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICB0aGlzLmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKVxuICAgIHRoaXMuYmdDYW52YXMgPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpXG4gICAgdGhpcy5tYXplR3JpZCA9IG5ldyBHcmlkKFxuICAgICAgcGFyc2VJbnQoY2FudmFzLndpZHRoIC8gUGFyYW0uU0NBTEUgLyBQYXJhbS5ST09NX1NJWkUpLFxuICAgICAgcGFyc2VJbnQoY2FudmFzLmhlaWdodCAvIFBhcmFtLlNDQUxFIC8gUGFyYW0uUk9PTV9TSVpFKSlcbiAgICB0aGlzLnRpbGVHcmlkID0gbmV3IEdyaWQoXG4gICAgICBwYXJzZUludChjYW52YXMud2lkdGggLyBQYXJhbS5TQ0FMRSksXG4gICAgICBwYXJzZUludChjYW52YXMuaGVpZ2h0IC8gUGFyYW0uU0NBTEUpLFxuICAgIClcbiAgICB0aGlzLnBsYXllciA9IHtoZWFsdGg6IDN9XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB0aGlzLmhhbmRsZUlucHV0KGUsIGUua2V5KSlcbiAgICBsZXQgc3dpcGUgPSBuZXcgU3dpcGUoY2FudmFzKVxuICAgIHN3aXBlLm9uU3dpcGUgPSAoZSwgc3dpcGVEaXIpID0+IHRoaXMuaGFuZGxlSW5wdXQoZSwgc3dpcGVEaXIpXG5cbiAgICBQcm9taXNlLmFsbChbbG9hZEltYWdlKFRpbGVJbWFnZSksIGxvYWRJbWFnZShTcHJpdGVzSW1hZ2UpXSlcbiAgICAgIC50aGVuKChpbWFnZXMpID0+IHtcbiAgICAgICAgdGhpcy50aWxlcyA9IGltYWdlc1swXVxuICAgICAgICB0aGlzLnRpbGVTaXplID0gdGhpcy50aWxlcy5uYXR1cmFsV2lkdGggLyA0XG4gICAgICAgIHRoaXMuc3ByaXRlcyA9IGltYWdlc1sxXVxuICAgICAgICB0aGlzLnNwcml0ZVNpemUgPSA4XG4gICAgICAgIHRoaXMucmVzZXQoKVxuICAgICAgfSlcbiAgfVxuICByZXNldChuZXdIYXNoKSB7XG4gICAgaWYgKG5ld0hhc2gpXG4gICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgbnVsbCwgXCIjXCIgKyByYW5kb20uZ2V0U3RhdGUoKSlcbiAgICB0aGlzLm1hemVHcmlkLnJlc2V0KClcbiAgICB0aGlzLnRpbGVHcmlkLnJlc2V0KClcbiAgICBjb25zdCBjZW50ZXJYID0gcGFyc2VJbnQodGhpcy5tYXplR3JpZC53aWR0aCAvIDIpXG4gICAgY29uc3QgY2VudGVyWSA9IHBhcnNlSW50KHRoaXMubWF6ZUdyaWQuaGVpZ2h0IC8gMilcbiAgICBnZW5lcmF0ZSh0aGlzLm1hemVHcmlkLCByYW5kb20sIGNlbnRlclgsIGNlbnRlclksIDAsIFBhcmFtLklURVJBVElPTlMpXG4gICAgZ2VuZXJhdGVUaWxlcyh0aGlzLnRpbGVHcmlkLCB0aGlzLm1hemVHcmlkKVxuICAgIHRoaXMuZHJhd01hemUodGhpcy5iZ0NhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikpXG4gICAgdGhpcy5wbGF5ZXIucG9zID0ge3g6IGNlbnRlclgsIHk6IGNlbnRlclksIGRpcjogMX1cbiAgICB0aGlzLmdlbmVyYXRlVHJlYXN1cmVzKClcbiAgICB0aGlzLmRyYXcoKVxuICB9XG4gIGdlbmVyYXRlVHJlYXN1cmVzKCkge1xuICAgIHRoaXMubnVtVHJlYXN1cmVzID0gMyArIE1hdGgucm91bmQocmFuZG9tLm5leHQoKSAqIDkpXG4gICAgdGhpcy50cmVhc3VyZXMgPSBbXVxuICAgIGxldCBjaGVjayA9IDEwMDBcbiAgICB3aGlsZSAodGhpcy50cmVhc3VyZXMubGVuZ3RoIDwgdGhpcy5udW1UcmVhc3VyZXMgJiYgY2hlY2sgPiAwKSB7XG4gICAgICBjaGVjay0tXG4gICAgICBsZXQgdHJlYXN1cmUgPSB7XG4gICAgICAgIHg6IHBhcnNlSW50KHJhbmRvbS5uZXh0KCkgKiB0aGlzLm1hemVHcmlkLndpZHRoKSxcbiAgICAgICAgeTogcGFyc2VJbnQocmFuZG9tLm5leHQoKSAqIHRoaXMubWF6ZUdyaWQuaGVpZ2h0KVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMubWF6ZUdyaWQuZ2V0KHRyZWFzdXJlLngsIHRyZWFzdXJlLnkpICE9PSAwKSB7XG4gICAgICAgIHRoaXMudHJlYXN1cmVzLnB1c2godHJlYXN1cmUpXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHBsYXllck1vdmVCeShkZWx0YVZlY3Rvcikge1xuICAgIGxldCBpbml0WCA9IHRoaXMucGxheWVyLnBvcy54XG4gICAgbGV0IGluaXRZID0gdGhpcy5wbGF5ZXIucG9zLnlcbiAgICB0aGlzLnBsYXllci5wb3MuZGlyID0gZGVsdGFWZWN0b3IueCA+PSAwID8gMSA6IC0xXG4gICAgcm91dGluZSg1MDAsIGZ1bmN0aW9uIChkZWx0YSkge1xuICAgICAgdGhpcy5wbGF5ZXIucG9zLnggPSBpbml0WCArIGRlbHRhVmVjdG9yLnggKiBkZWx0YVxuICAgICAgdGhpcy5wbGF5ZXIucG9zLnkgPSBpbml0WSArIGRlbHRhVmVjdG9yLnkgKiBkZWx0YVxuICAgICAgaWYgKGRlbHRhID09PSAxKSB7XG4gICAgICAgIHRoaXMuY2hlY2tHZW1zQ29sbGVjdGVkKClcbiAgICAgIH1cbiAgICAgIHRoaXMuZHJhdygpXG4gICAgfS5iaW5kKHRoaXMpKVxuICB9XG4gIHBsYXllck1vdmUoZGlyKSB7XG4gICAgbGV0IHRhcmdldCA9IHtcbiAgICAgIHg6IHRoaXMucGxheWVyLnBvcy54ICsgZGlyLm9mZnNldC54LFxuICAgICAgeTogdGhpcy5wbGF5ZXIucG9zLnkgKyBkaXIub2Zmc2V0LnlcbiAgICB9XG4gICAgbGV0IHJvb21Gcm9tID0gdGhpcy5tYXplR3JpZC5nZXQodGhpcy5wbGF5ZXIucG9zLngsIHRoaXMucGxheWVyLnBvcy55KVxuICAgIGxldCByb29tVG8gPSB0aGlzLm1hemVHcmlkLmdldCh0YXJnZXQueCwgdGFyZ2V0LnkpXG4gICAgbGV0IGNhbk1vdmVUbyA9IChyb29tVG8gJiBzaGlmdEZlYXR1cmUoZGlyLm1hc2spKSAhPT0gMFxuICAgIGxldCBjYW5Nb3ZlRnJvbSA9IChyb29tRnJvbSAmIGRpci5tYXNrKSAhPT0gMFxuICAgIGlmIChjYW5Nb3ZlRnJvbSAmJiBjYW5Nb3ZlVG8pIHtcbiAgICAgIHRoaXMucGxheWVyTW92ZUJ5KGRpci5vZmZzZXQpXG4gICAgfVxuICB9XG4gIGNoZWNrR2Vtc0NvbGxlY3RlZCgpIHtcbiAgICB0aGlzLnRyZWFzdXJlcyA9IHRoaXMudHJlYXN1cmVzLmZpbHRlcihmdW5jdGlvbiAoZ2VtKSB7XG4gICAgICByZXR1cm4gIShnZW0ueCA9PT0gdGhpcy5wbGF5ZXIucG9zLnggJiYgZ2VtLnkgPT09IHRoaXMucGxheWVyLnBvcy55KVxuICAgIH0uYmluZCh0aGlzKSlcbiAgICBpZiAodGhpcy50cmVhc3VyZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLnJlc2V0KHRydWUpXG4gICAgfVxuICB9XG4gIGhhbmRsZUlucHV0KGUsIGlucHV0KSB7XG4gICAgc3dpdGNoIChpbnB1dCkge1xuICAgICAgY2FzZSBcIlN3aXBlVXBcIjpcbiAgICAgIGNhc2UgXCJBcnJvd1VwXCI6XG4gICAgICAgIHRoaXMucGxheWVyTW92ZShNb3ZlTm9ydGgpXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJTd2lwZURvd25cIjpcbiAgICAgIGNhc2UgXCJBcnJvd0Rvd25cIjpcbiAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlKE1vdmVTb3V0aClcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIlN3aXBlTGVmdFwiOlxuICAgICAgY2FzZSBcIkFycm93TGVmdFwiOlxuICAgICAgICB0aGlzLnBsYXllck1vdmUoTW92ZVdlc3QpXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJTd2lwZVJpZ2h0XCI6XG4gICAgICBjYXNlIFwiQXJyb3dSaWdodFwiOlxuICAgICAgICB0aGlzLnBsYXllck1vdmUoTW92ZUVhc3QpXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgZHJhdygpIHtcbiAgICB0aGlzLmN0eC5kcmF3SW1hZ2UodGhpcy5iZ0NhbnZhcywgMCwgMClcbiAgICB0aGlzLmRyYXdUcmVhc3VyZXModGhpcy5jdHgpXG4gICAgdGhpcy5kcmF3UGxheWVyKHRoaXMuY3R4KVxuICB9XG4gIGRyYXdNYXplKGN0eCkge1xuICAgIGN0eC5zYXZlKClcbiAgICBjdHguc2NhbGUoXG4gICAgICBwYXJzZUludChQYXJhbS5TQ0FMRSAvIHRoaXMudGlsZVNpemUpLFxuICAgICAgcGFyc2VJbnQoUGFyYW0uU0NBTEUgLyB0aGlzLnRpbGVTaXplKSlcbiAgICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2VcbiAgICBmb3IgKGxldCB5ID0gMCwgdGggPSB0aGlzLnRpbGVHcmlkLmhlaWdodDsgeSA8IHRoOyB5KyspIHtcbiAgICAgIGZvciAobGV0IHggPSAwLCB0dyA9IHRoaXMudGlsZUdyaWQud2lkdGg7IHggPCB0dzsgeCsrKSB7XG4gICAgICAgIHRoaXMuZHJhd1RpbGUoY3R4LCB4LCB5LCB0aGlzLnRpbGVHcmlkLmdldCh4LCB5KSlcbiAgICAgIH1cbiAgICB9XG4gICAgY3R4LnJlc3RvcmUoKVxuICB9XG4gIGRyYXdUaWxlIChjdHgsIHgsIHksIHRpbGVJZCkge1xuICAgIGxldCBzeCA9ICh0aWxlSWQgJSA0KSAqIHRoaXMudGlsZVNpemVcbiAgICBsZXQgc3kgPSBNYXRoLmZsb29yKHRpbGVJZCAvIDQpICogdGhpcy50aWxlU2l6ZVxuICAgIGN0eC5kcmF3SW1hZ2UodGhpcy50aWxlcyxcbiAgICAgIHN4LCBzeSwgdGhpcy50aWxlU2l6ZSwgdGhpcy50aWxlU2l6ZSxcbiAgICAgIHggKiB0aGlzLnRpbGVTaXplLCB5ICogdGhpcy50aWxlU2l6ZSxcbiAgICAgIHRoaXMudGlsZVNpemUsIHRoaXMudGlsZVNpemUpXG4gIH1cbiAgZHJhd1BsYXllcihjdHgpIHtcbiAgICBjb25zdCBzY2FsZSA9IE1hdGguZmxvb3IoUGFyYW0uU0NBTEUgLyB0aGlzLnNwcml0ZVNpemUpXG4gICAgY29uc3Qgb2Zmc2V0TXVsdCA9IFBhcmFtLlJPT01fU0laRSAqIHRoaXMuc3ByaXRlU2l6ZVxuICAgIGNvbnN0IG9mZnNldCA9IFBhcmFtLlJPT01fU0laRSAqIHRoaXMuc3ByaXRlU2l6ZSAqIDAuNSAtIHRoaXMuc3ByaXRlU2l6ZSAqIDAuNVxuICAgIGN0eC5zYXZlKClcbiAgICBjdHguc2NhbGUoc2NhbGUsIHNjYWxlKVxuICAgIGN0eC50cmFuc2xhdGUoXG4gICAgICB0aGlzLnBsYXllci5wb3MueCAqIG9mZnNldE11bHQgKyBvZmZzZXQsXG4gICAgICB0aGlzLnBsYXllci5wb3MueSAqIG9mZnNldE11bHQgKyBvZmZzZXQpXG4gICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlXG4gICAgY3R4LnNjYWxlKHRoaXMucGxheWVyLnBvcy5kaXIsIDEpXG4gICAgY3R4LmRyYXdJbWFnZSh0aGlzLnNwcml0ZXMsXG4gICAgICAwLCAwLCB0aGlzLnNwcml0ZVNpemUsIHRoaXMuc3ByaXRlU2l6ZSxcbiAgICAgIDAsIDAsXG4gICAgICB0aGlzLnNwcml0ZVNpemUgKiB0aGlzLnBsYXllci5wb3MuZGlyLCB0aGlzLnNwcml0ZVNpemUpXG4gICAgY3R4LnJlc3RvcmUoKVxuICB9XG4gIGRyYXdUcmVhc3VyZXMoY3R4KSB7XG4gICAgY29uc3Qgc2NhbGUgPSBNYXRoLmZsb29yKFBhcmFtLlNDQUxFIC8gdGhpcy5zcHJpdGVTaXplKVxuICAgIGNvbnN0IG9mZnNldE11bHQgPSBQYXJhbS5ST09NX1NJWkUgKiB0aGlzLnNwcml0ZVNpemVcbiAgICBjb25zdCBvZmZzZXQgPSBQYXJhbS5ST09NX1NJWkUgKiB0aGlzLnNwcml0ZVNpemUgKiAwLjUgLSB0aGlzLnNwcml0ZVNpemUgKiAwLjVcbiAgICBjdHguc2F2ZSgpXG4gICAgY3R4LnNjYWxlKHNjYWxlLCBzY2FsZSlcbiAgICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2VcbiAgICBmb3IgKHZhciBpID0gMCwgbiA9IHRoaXMudHJlYXN1cmVzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLnNwcml0ZXMsXG4gICAgICAgIDgsIDAsIHRoaXMuc3ByaXRlU2l6ZSwgdGhpcy5zcHJpdGVTaXplLFxuICAgICAgICB0aGlzLnRyZWFzdXJlc1tpXS54ICogb2Zmc2V0TXVsdCArIG9mZnNldCwgdGhpcy50cmVhc3VyZXNbaV0ueSAqIG9mZnNldE11bHQgKyBvZmZzZXQsXG4gICAgICAgIHRoaXMuc3ByaXRlU2l6ZSwgdGhpcy5zcHJpdGVTaXplKVxuICAgIH1cbiAgICBjdHgucmVzdG9yZSgpXG4gIH1cbn1cbiIsImltcG9ydCBcIi4vbWFpbi5jc3NcIlxuaW1wb3J0IEdhbWUgZnJvbSBcIi4vZ2FtZVwiXG5cbmNvbnN0IHN0YXJ0U2NyZWVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxubGV0IGhpZGVTdGFydFNjcmVlblxuaGlkZVN0YXJ0U2NyZWVuID0gKGUpID0+IHtcbiAgc3RhcnRTY3JlZW4uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gIHN0YXJ0U2NyZWVuLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoaWRlU3RhcnRTY3JlZW4pXG59XG5zdGFydFNjcmVlbi5jbGFzc0xpc3QuYWRkKFwic3RhcnQtc2NyZWVuXCIpXG5zdGFydFNjcmVlbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGlkZVN0YXJ0U2NyZWVuKVxuc3RhcnRTY3JlZW4uaW5uZXJIVE1MID0gYFxuPGRpdj5cbjxkaXYgY2xhc3M9XCJ0aXRsZVwiPkNvbGxlY3QgR2VtczwvZGl2PlxuPGRpdj5QcmVzcyBhcnJvdyBrZXlzIHRvIG1vdmUuPC9kaXY+XG48ZGl2Pk9yIHN3aXBlIHRvIG1vdmUuPC9kaXY+XG48ZGl2PkNsaWNrIG9yIHRhcCB0byBzdGFydDwvZGl2PlxuPC9kaXY+XG5gXG5sZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKVxuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpXG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHN0YXJ0U2NyZWVuKVxud2luZG93LmdhbWUgPSBuZXcgR2FtZShjYW52YXMpXG4iXSwic291cmNlUm9vdCI6IiJ9