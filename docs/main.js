!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(0);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}var a=function(t,e,n){return Math.max(e,Math.min(n,t))},s=function(t){return~t>>>0},h=function(t,e,n){var i=(1<<n)-1;return t<<(e%=n)&i|(t&i)>>n-e},l=function(t){for(var e=0,n=1779033703^t.length;e<t.length;e++)n=(n=Math.imul(n^t.charCodeAt(e),3432918353))<<13|n>>>19;return function(){return n=Math.imul(n^n>>>16,2246822507),n=Math.imul(n^n>>>13,3266489909),(n^=n>>>16)>>>0}},u=function(){function t(e){i(this,t),this.state=e}return o(t,[{key:"next",value:function(){var t=this.state+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967295}}]),t}(),c=function(){function t(e){i(this,t),void 0!==e&&(e=parseInt(e,36)),e||(e=(new Date).toISOString(),e=l(e)()),this.generator=new u(e)}return o(t,[{key:"next",value:function(){return this.generator.next()}},{key:"getState",value:function(){return this.generator.state.toString(36)}}]),t}();function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var y=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=e,this.height=n,this.cells=new Array(this.width*this.height).fill(0)}var e,n,i;return e=t,(n=[{key:"reset",value:function(){this.cells=new Array(this.width*this.height).fill(0)}},{key:"within",value:function(t,e){return t>=0&&t<this.width&&e>=0&&e<this.height}},{key:"set",value:function(t,e,n){t=a(t,0,this.width-1),e=a(e,0,this.height-1),this.cells[e*this.width+t]=n}},{key:"get",value:function(t,e){return t=a(t,0,this.width-1),e=a(e,0,this.height-1),this.cells[e*this.width+t]}}])&&f(e.prototype,n),i&&f(e,i),t}(),v={NorthDoor:Math.pow(2,0),NorthWall:Math.pow(2,1),EastDoor:Math.pow(2,2),EastWall:Math.pow(2,3),SouthDoor:Math.pow(2,4),SouthWall:Math.pow(2,5),WestDoor:Math.pow(2,6),WestWall:Math.pow(2,7),ALL:256};v.North=v.NorthDoor|v.NorthWall,v.East=v.EastDoor|v.EastWall,v.South=v.SouthDoor|v.SouthWall,v.West=v.WestDoor|v.WestWall,v.DOOR_MASK=v.NorthDoor|v.EastDoor|v.SouthDoor|v.WestDoor,v.WALL_MASK=v.NorthWall|v.EastWall|v.SouthWall|v.WestWall;var d=[{x:0,y:-1},{x:0,y:-1},{x:1,y:0},{x:1,y:0},{x:0,y:1},{x:0,y:1},{x:-1,y:0},{x:-1,y:0}],p=function(t,e,n){return{x:t+d[n].x,y:e+d[n].y}},w=function(t){return h(t,4,8)},S=function(t,e,n){var i=n|h(n,1,8);return e=w(e)&i,t&s(i)|e},g=function t(e,n,i,r,o,a){var l=o=w(o);a>0&&(l=function(t,e){var n=Math.floor(t.next()*v.ALL),i=Math.floor(t.next()*v.ALL),r=n&v.DOOR_MASK|e&v.DOOR_MASK;return(i&v.WALL_MASK|e&v.WALL_MASK)&s(h(r,1,8))|r}(n,o)),l=function(t,e,n,i){for(var r=0;r<8;r+=2){var o=1<<r,a=1<<r+1,h=p(e,n,r);if(t.within(h.x,h.y)){var l=t.get(h.x,h.y);0!==l&&(i=S(i,l,o))}else i&=s(o|a)}return i}(e,i,r,l),e.set(i,r,l);for(var u=0;u<8;u++){var c=1<<u,f=p(i,r,u);if(e.within(f.x,f.y)){var y=e.get(f.x,f.y);0!=(l&c)&&c!==o&&0===y&&t(e,n,f.x,f.y,c,a-1)}}};function O(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var M=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.xDown=null,this.yDown=null,this.element=e,this.element.addEventListener("touchstart",this.handleTouchStart.bind(this),!1),this.element.addEventListener("touchmove",this.handleTouchMove.bind(this),!1)}var e,n,i;return e=t,(n=[{key:"handleTouchStart",value:function(t){this.xDown=t.touches[0].clientX,this.yDown=t.touches[0].clientY}},{key:"handleTouchMove",value:function(t){if(this.xDown&&this.yDown&&this.onSwipe){var e=t.touches[0].clientX,n=t.touches[0].clientY;this.xDiff=this.xDown-e,this.yDiff=this.yDown-n,Math.abs(this.xDiff)>Math.abs(this.yDiff)?this.xDiff>0?this.onSwipe(t,"SwipeLeft"):this.onSwipe(t,"SwipeRight"):(this.yDiff>0?this.onSwipe(t,"SwipeUp"):this.onSwipe(t,"SwipeDown"),t.preventDefault()),this.xDown=null,this.yDown=null}}}])&&O(e.prototype,n),i&&O(e,i),t}();function E(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var m,x={ROOM_SIZE:5,SCALE:32,ITERATIONS:12},b=new c(window.location.hash.substr(1)),k=function(t,e,n,i,r){t.beginPath(),t.moveTo(e,n),t.lineTo(i,r),t.stroke()},R={offset:{x:0,y:-1},mask:v.North},I={offset:{x:1,y:0},mask:v.East},D={offset:{x:0,y:1},mask:v.South},_={offset:{x:-1,y:0},mask:v.West},A=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.ctx=this.canvas.getContext("2d"),this.grid=new y(parseInt(e.width/x.SCALE/x.ROOM_SIZE),parseInt(e.height/x.SCALE/x.ROOM_SIZE)),this.reset(),window.addEventListener("keydown",function(t){return n.handleInput(t,t.key)}),new M(e).onSwipe=function(t,e){return n.handleInput(t,e)}}var e,n,i;return e=t,(n=[{key:"reset",value:function(t){t&&window.history.pushState(null,null,"#"+b.getState()),this.grid.reset();var e=parseInt(this.grid.width/2),n=parseInt(this.grid.height/2);g(this.grid,b,e,n,0,x.ITERATIONS),this.player={pos:{x:e,y:n}},this.generateGems(),this.draw()}},{key:"generateGems",value:function(){for(this.numGems=3+Math.round(9*b.next()),this.gems=[];this.gems.length<this.numGems;){var t={x:parseInt(b.next()*this.grid.width),y:parseInt(b.next()*this.grid.height)};0!==this.grid.get(t.x,t.y)&&this.gems.push(t)}}},{key:"playerMoveBy",value:function(t){var e,n,i,r,o=this.player.pos.x,a=this.player.pos.y;e=500,n=function(e){this.player.pos.x=o+t.x*e,this.player.pos.y=a+t.y*e,1===e&&this.checkGemsCollected(),this.draw()}.bind(this),r=null,i=function(t){null===r&&(r=t);var o=(t-r)/e;o<1?(n(o),window.requestAnimationFrame(i)):n(1)},window.requestAnimationFrame(i)}},{key:"playerMove",value:function(t){var e={x:this.player.pos.x+t.offset.x,y:this.player.pos.y+t.offset.y},n=this.grid.get(this.player.pos.x,this.player.pos.y),i=0!=(this.grid.get(e.x,e.y)&w(t.mask));0!=(n&t.mask)&&i&&this.playerMoveBy(t.offset)}},{key:"checkGemsCollected",value:function(){this.gems=this.gems.filter(function(t){return!(t.x===this.player.pos.x&&t.y===this.player.pos.y)}.bind(this)),0===this.gems.length&&this.reset(!0)}},{key:"handleInput",value:function(t,e){switch(e){case"SwipeUp":case"ArrowUp":this.playerMove(R),t.preventDefault();break;case"SwipeDown":case"ArrowDown":this.playerMove(D),t.preventDefault();break;case"SwipeLeft":case"ArrowLeft":this.playerMove(_),t.preventDefault();break;case"SwipeRight":case"ArrowRight":this.playerMove(I),t.preventDefault()}}},{key:"draw",value:function(){this.drawMaze(this.ctx),this.drawGems(this.ctx),this.drawPlayer(this.ctx)}},{key:"drawMaze",value:function(t){t.save(),t.scale(x.SCALE,x.SCALE),t.fillStyle="black",t.fillRect(0,0,this.canvas.width,this.canvas.height);for(var e=0;e<this.grid.width;e++)for(var n=0;n<this.grid.height;n++)this.drawRoom(t,e,n);t.restore()}},{key:"drawPlayer",value:function(t){t.save(),t.fillStyle="rgba(80, 220, 255, 1)";var e=x.ROOM_SIZE*x.SCALE,n=.4*e,i=this.player.pos.x*e,r=this.player.pos.y*e;t.fillRect(i+n,r+n,x.SCALE,x.SCALE),t.restore()}},{key:"drawGems",value:function(t){t.save(),t.fillStyle="rgba(80, 255, 80, 1)";for(var e=x.ROOM_SIZE*x.SCALE,n=.4*e,i=0,r=this.gems.length;i<r;i++){var o=this.gems[i].x*e,a=this.gems[i].y*e;t.fillRect(o+n,a+n,x.SCALE,x.SCALE)}t.restore()}},{key:"drawRoom",value:function(t,e,n){var i=this.grid.get(e,n);if(0!=i){var r=e*x.ROOM_SIZE,o=n*x.ROOM_SIZE;t.save(),t.fillStyle="rgba(128,128,128,1)",t.fillRect(r,o,x.ROOM_SIZE,x.ROOM_SIZE),t.fillStyle="rgba(64,64,64,1)",t.fillRect(r+1,o+1,x.ROOM_SIZE-2,x.ROOM_SIZE-2),t.strokeStyle="rgba(64, 64, 64, 1)",function(t,e,n,i){var r=Math.round(x.ROOM_SIZE/3);0!=(i&v.NorthDoor)&&k(t,e+r,n+.5,e+x.ROOM_SIZE-r,n+.5),0!=(i&v.NorthWall)&&k(t,e+1,n+.5,e+x.ROOM_SIZE-1,n+.5),0!=(i&v.EastDoor)&&k(t,e+x.ROOM_SIZE-.5,n+r,e+x.ROOM_SIZE-.5,n+x.ROOM_SIZE-r),0!=(i&v.EastWall)&&k(t,e+x.ROOM_SIZE-.5,n+1,e+x.ROOM_SIZE-.5,n+x.ROOM_SIZE-1),0!=(i&v.SouthDoor)&&k(t,e+r,n+x.ROOM_SIZE-.5,e+x.ROOM_SIZE-r,n+x.ROOM_SIZE-.5),0!=(i&v.SouthWall)&&k(t,e+1,n+x.ROOM_SIZE-.5,e+x.ROOM_SIZE-1,n+x.ROOM_SIZE-.5),0!=(i&v.WestDoor)&&k(t,e+.5,n+r,e+.5,n+x.ROOM_SIZE-r),0!=(i&v.WestWall)&&k(t,e+.5,n+1,e+.5,n+x.ROOM_SIZE-1)}(t,r,o,i),t.restore(),t.save(),t.strokeStyle="rgba(0, 0, 0, .1)",t.scale(1/x.SCALE,1/x.SCALE),t.strokeRect(r*x.SCALE+.5,o*x.SCALE+.5,x.ROOM_SIZE*x.SCALE-1,x.ROOM_SIZE*x.SCALE-1),t.restore()}}}])&&E(e.prototype,n),i&&E(e,i),t}(),L=document.createElement("div");m=function(t){L.style.display="none",L.removeEventListener("click",m)},L.classList.add("start-screen"),L.addEventListener("click",m),L.innerHTML='\n<div>\n<div class="title">Collect gems in Maze</div>\n<div>Press arrow keys to move.</div>\n<div>Or swipe to move.</div>\n<div>Click or tap to start</div>\n</div>\n';var W=document.createElement("canvas");document.body.appendChild(W),document.body.appendChild(L),window.game=new A(W)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9ncmlkLmpzIiwid2VicGFjazovLy8uL3NyYy9tYXplZ2VuLmpzIiwid2VicGFjazovLy8uL3NyYy9zd2lwZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNsYW1wIiwidmFsIiwibWluIiwibWF4IiwiTWF0aCIsIm5vdCIsInJvdGwiLCJzaGlmdENvdW50Iiwic2l6ZSIsInNpemVNYXNrIiwieG11cjMiLCJzdHIiLCJoIiwibGVuZ3RoIiwiaW11bCIsImNoYXJDb2RlQXQiLCJNdWxiZXJyeTMyIiwic2VlZCIsInRoaXMiLCJzdGF0ZSIsIlJhbmRvbSIsImluaXRTZWVkIiwidW5kZWZpbmVkIiwicGFyc2VJbnQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJnZW5lcmF0b3IiLCJuZXh0IiwidG9TdHJpbmciLCJHcmlkIiwid2lkdGgiLCJoZWlnaHQiLCJjZWxscyIsIkFycmF5IiwiZmlsbCIsIngiLCJ5IiwiRmVhdHVyZSIsIk5vcnRoRG9vciIsIk5vcnRoV2FsbCIsIkVhc3REb29yIiwiRWFzdFdhbGwiLCJTb3V0aERvb3IiLCJTb3V0aFdhbGwiLCJXZXN0RG9vciIsIldlc3RXYWxsIiwiQUxMIiwiTm9ydGgiLCJFYXN0IiwiU291dGgiLCJXZXN0IiwiRE9PUl9NQVNLIiwiV0FMTF9NQVNLIiwiT0ZGU0VUIiwib2Zmc2V0IiwiZGlyIiwic2hpZnRGZWF0dXJlIiwiZmVhdHVyZXMiLCJtZXJnZUZlYXR1cmVzIiwiYSIsImIiLCJtYXNrIiwiZ2VuZXJhdGUiLCJncmlkIiwicmFuZG9tIiwicHJldmlvdXMiLCJpdGVyIiwicmFuZG9tRG9vcnMiLCJmbG9vciIsInJhbmRvbVdhbGxzIiwiZG9vcnMiLCJnZW5lcmF0ZUZlYXR1cmVzIiwiZGlyMSIsIndpdGhpbiIsImV4aXN0aW5nRmVhdHVyZXMiLCJtZXJnZUFkamFjZW50Iiwic2V0IiwiU3dpcGUiLCJlbGVtZW50IiwieERvd24iLCJ5RG93biIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVUb3VjaFN0YXJ0IiwiaGFuZGxlVG91Y2hNb3ZlIiwiZXZlbnQiLCJ0b3VjaGVzIiwiY2xpZW50WCIsImNsaWVudFkiLCJvblN3aXBlIiwieFVwIiwieVVwIiwieERpZmYiLCJ5RGlmZiIsImFicyIsInByZXZlbnREZWZhdWx0IiwiaGlkZVN0YXJ0U2NyZWVuIiwiUGFyYW0iLCJST09NX1NJWkUiLCJTQ0FMRSIsIklURVJBVElPTlMiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhhc2giLCJzdWJzdHIiLCJzdHJva2VQYXRoIiwiY3R4IiwieDEiLCJ5MSIsIngyIiwieTIiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJNb3ZlTm9ydGgiLCJNb3ZlRWFzdCIsIk1vdmVTb3V0aCIsIk1vdmVXZXN0IiwiR2FtZSIsImNhbnZhcyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImdldENvbnRleHQiLCJyZXNldCIsImUiLCJoYW5kbGVJbnB1dCIsInN3aXBlRGlyIiwibmV3SGFzaCIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJnZXRTdGF0ZSIsImNlbnRlclgiLCJjZW50ZXJZIiwicGxheWVyIiwicG9zIiwiZ2VuZXJhdGVHZW1zIiwiZHJhdyIsIm51bUdlbXMiLCJyb3VuZCIsImdlbXMiLCJnZW0iLCJwdXNoIiwiZGVsdGFWZWN0b3IiLCJkdXJhdGlvbk1zIiwiZnJhbWVGbiIsImZyYW1lRm5XcmFwcGVyIiwiaW5pdGlhbCIsImluaXRYIiwiaW5pdFkiLCJkZWx0YSIsImNoZWNrR2Vtc0NvbGxlY3RlZCIsInRpbWVzdGFtcCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInRhcmdldCIsInJvb21Gcm9tIiwiY2FuTW92ZVRvIiwicGxheWVyTW92ZUJ5IiwiZmlsdGVyIiwiaW5wdXQiLCJwbGF5ZXJNb3ZlIiwiZHJhd01hemUiLCJkcmF3R2VtcyIsImRyYXdQbGF5ZXIiLCJzYXZlIiwic2NhbGUiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImd4IiwiZ3kiLCJkcmF3Um9vbSIsInJlc3RvcmUiLCJvZmZzZXRNdWx0Iiwicm9vbUNlbnRlck9mZnNldCIsImNhbnZhc1giLCJjYW52YXNZIiwiY3giLCJjeSIsInN0cm9rZVN0eWxlIiwiZG9vclNpemUiLCJkcmF3Um9vbUZlYXR1cmVzIiwic3Ryb2tlUmVjdCIsInN0YXJ0U2NyZWVuIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJkaXNwbGF5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsImFkZCIsImlubmVySFRNTCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImdhbWUiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFP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RUFBSTJFLFdBQ0ZMLEVBQUsvRSxFQUFNRSxNQUFRLEdBQ25COEUsRUFBS2hGLEVBQU1FLE1BQVEsR0FDbkJGLEVBQU1DLFVBQVlELEVBQU1FLE1BQVEsRUFDaENGLEVBQU1DLFVBQVlELEVBQU1FLE1BQVEsR0FDbENPLEVBQUlpRSxnQixnQ0N4TkZXLEVBQWNDLFNBQVNDLGNBQWMsT0FFM0N4RixFQUFrQixTQUFDNkIsR0FDakJ5RCxFQUFZRyxNQUFNQyxRQUFVLE9BQzVCSixFQUFZSyxvQkFBb0IsUUFBUzNGLElBRTNDc0YsRUFBWU0sVUFBVUMsSUFBSSxnQkFDMUJQLEVBQVlwRyxpQkFBaUIsUUFBU2MsR0FDdENzRixFQUFZUSxVQUFaLHlLQVFBLElBQUl0RSxFQUFTK0QsU0FBU0MsY0FBYyxVQUNwQ0QsU0FBU1EsS0FBS0MsWUFBWXhFLEdBQzFCK0QsU0FBU1EsS0FBS0MsWUFBWVYsR0FDMUJqRixPQUFPNEYsS0FBTyxJQUFJMUUsRUFBS0MiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsImV4cG9ydCBjb25zdCBjbGFtcCA9IGZ1bmN0aW9uICh2YWwsIG1pbiwgbWF4KSB7XG4gIHJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgdmFsKSlcbn1cblxuZXhwb3J0IGNvbnN0IG5vdCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAvLyBqYXZhc2NyaXB0IGJpdHdpc2Ugbm90ICh+dmFsdWUpIHJlc3VsdHMgaW4gc2lnbiBiaXQgZmxpcFxuICAvLyBtYWtpbmcgdmFsdWUgYSBzaWduZWQgdmFsdWUsIG1ha2UgaXQgdW5zaWduZWRcbiAgcmV0dXJuIH52YWx1ZSA+Pj4gMFxufVxuXG5leHBvcnQgY29uc3Qgcm90bCA9IGZ1bmN0aW9uICh2YWwsIHNoaWZ0Q291bnQsIHNpemUpIHtcbiAgLy8gcm90YXRlIGJpdHMgbGVmdCBieSBzaGlmdENvdW50IGFuZCB3cmFwIGF0IHNpemVcbiAgc2hpZnRDb3VudCA9IHNoaWZ0Q291bnQgJSBzaXplXG4gIGxldCBzaXplTWFzayA9ICgxIDw8IHNpemUpIC0gMVxuICByZXR1cm4gKFxuICAgICh2YWwgPDwgc2hpZnRDb3VudCkgJiBzaXplTWFza1xuICAgIHwgKHZhbCAmIHNpemVNYXNrKSA+PiAoc2l6ZSAtIHNoaWZ0Q291bnQpXG4gIClcbn1cblxuLy8gZnVuY3Rpb24gZnJhbWVGbihkZWx0YSlcbi8vIGRlbHRhIGlzIGEgZG91YmxlIGZyb20gMCB0byAxXG5leHBvcnQgY29uc3Qgcm91dGluZSA9IGZ1bmN0aW9uIChkdXJhdGlvbk1zLCBmcmFtZUZuKSB7XG4gIGxldCBpbml0aWFsID0gbnVsbFxuICBsZXQgZnJhbWVGbldyYXBwZXI7XG4gIGZyYW1lRm5XcmFwcGVyID0gZnVuY3Rpb24odGltZXN0YW1wKSB7XG4gICAgaWYgKGluaXRpYWwgPT09IG51bGwpIGluaXRpYWwgPSB0aW1lc3RhbXBcbiAgICBsZXQgZGVsdGEgPSAodGltZXN0YW1wIC0gaW5pdGlhbCkgLyBkdXJhdGlvbk1zXG4gICAgaWYgKGRlbHRhIDwgMSkge1xuICAgICAgZnJhbWVGbihkZWx0YSlcbiAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnJhbWVGbldyYXBwZXIpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZnJhbWVGbigxKVxuICAgIH1cbiAgfVxuICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZyYW1lRm5XcmFwcGVyKVxufVxuXG5cbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzUyMTI5NS9zZWVkaW5nLXRoZS1yYW5kb20tbnVtYmVyLWdlbmVyYXRvci1pbi1qYXZhc2NyaXB0XG5leHBvcnQgY29uc3QgeG11cjMgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIGZvciAodmFyIGkgPSAwLCBoID0gMTc3OTAzMzcwMyBeIHN0ci5sZW5ndGg7IGkgPCBzdHIubGVuZ3RoOyBpKyspXG4gICAgaCA9IE1hdGguaW11bChoIF4gc3RyLmNoYXJDb2RlQXQoaSksIDM0MzI5MTgzNTMpLFxuICAgICAgaCA9IGggPDwgMTMgfCBoID4+PiAxOTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBoID0gTWF0aC5pbXVsKGggXiBoID4+PiAxNiwgMjI0NjgyMjUwNyk7XG4gICAgaCA9IE1hdGguaW11bChoIF4gaCA+Pj4gMTMsIDMyNjY0ODk5MDkpO1xuICAgIHJldHVybiAoaCBePSBoID4+PiAxNikgPj4+IDA7XG4gIH1cbn1cblxuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTIxMjk1L3NlZWRpbmctdGhlLXJhbmRvbS1udW1iZXItZ2VuZXJhdG9yLWluLWphdmFzY3JpcHRcbmV4cG9ydCBjbGFzcyBNdWxiZXJyeTMyIHtcbiAgY29uc3RydWN0b3Ioc2VlZCkge1xuICAgIHRoaXMuc3RhdGUgPSBzZWVkXG4gIH1cbiAgbmV4dCgpIHtcbiAgICBsZXQgdCA9IHRoaXMuc3RhdGUgKz0gMHg2RDJCNzlGNVxuICAgIHQgPSBNYXRoLmltdWwodCBeIHQgPj4+IDE1LCB0IHwgMSlcbiAgICB0IF49IHQgKyBNYXRoLmltdWwodCBeIHQgPj4+IDcsIHQgfCA2MSlcbiAgICByZXR1cm4gKCh0IF4gdCA+Pj4gMTQpID4+PiAwKSAvIDQyOTQ5NjcyOTVcbiAgfVxufVxuXG4vLyBTZWVkYWJsZSByYW5kb20gd2l0aCBzdGF0ZVxuZXhwb3J0IGNsYXNzIFJhbmRvbSB7XG4gIGNvbnN0cnVjdG9yKGluaXRTZWVkKSB7XG4gICAgaWYgKGluaXRTZWVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGluaXRTZWVkID0gcGFyc2VJbnQoaW5pdFNlZWQsIDM2KVxuICAgIH1cbiAgICBpZiAoIWluaXRTZWVkKSB7XG4gICAgICBpbml0U2VlZCA9IChuZXcgRGF0ZSgpKS50b0lTT1N0cmluZygpXG4gICAgICBpbml0U2VlZCA9IHhtdXIzKGluaXRTZWVkKSgpXG4gICAgfVxuICAgIHRoaXMuZ2VuZXJhdG9yID0gbmV3IE11bGJlcnJ5MzIoaW5pdFNlZWQpXG4gIH1cbiAgbmV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZW5lcmF0b3IubmV4dCgpXG4gIH1cbiAgZ2V0U3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2VuZXJhdG9yLnN0YXRlLnRvU3RyaW5nKDM2KVxuICB9XG59XG4iLCJpbXBvcnQge2NsYW1wfSBmcm9tIFwiLi91dGlsc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyaWQge1xuICBjb25zdHJ1Y3Rvcih3aWR0aCwgaGVpZ2h0KSB7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoXG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHRcbiAgICB0aGlzLmNlbGxzID0gbmV3IEFycmF5KHRoaXMud2lkdGggKiB0aGlzLmhlaWdodCkuZmlsbCgwKVxuICB9XG5cbiAgcmVzZXQgKCkge1xuICAgIHRoaXMuY2VsbHMgPSBuZXcgQXJyYXkodGhpcy53aWR0aCAqIHRoaXMuaGVpZ2h0KS5maWxsKDApXG4gIH1cblxuICB3aXRoaW4gKHgsIHkpIHtcbiAgICByZXR1cm4geCA+PSAwICYmIHggPCB0aGlzLndpZHRoICYmIHkgPj0gMCAmJiB5IDwgdGhpcy5oZWlnaHRcbiAgfVxuXG4gIHNldCAoeCwgeSwgdmFsdWUpIHtcbiAgICB4ID0gY2xhbXAoeCwgMCwgdGhpcy53aWR0aCAtIDEpXG4gICAgeSA9IGNsYW1wKHksIDAsIHRoaXMuaGVpZ2h0IC0gMSlcbiAgICB0aGlzLmNlbGxzW3kgKiB0aGlzLndpZHRoICsgeF0gPSB2YWx1ZVxuICB9XG5cbiAgZ2V0ICh4LCB5KSB7XG4gICAgeCA9IGNsYW1wKHgsIDAsIHRoaXMud2lkdGggLSAxKVxuICAgIHkgPSBjbGFtcCh5LCAwLCB0aGlzLmhlaWdodCAtIDEpXG4gICAgcmV0dXJuIHRoaXMuY2VsbHNbeSAqIHRoaXMud2lkdGggKyB4XVxuICB9XG59XG4iLCJpbXBvcnQgeyBub3QsIHJvdGwgfSBmcm9tIFwiLi91dGlsc1wiXG5cbi8vIGVudW0gZm9yIHJvb20gZmVhdHVyZXMsXG4vLyAqX0RPT1I6IHJvb20gaGFzIGEgZG9vciBhdCBkaXJlY3Rpb25cbi8vICpfV0FMTDogcm9vbSBpcyBvcGVuIGF0IGRpcmVjdGlvblxuLy8gRE9PUiBhbmQgV0FMTCBhcmUgaW50ZXJsZWF2ZWQgc28gYSBzaGlmdCBieSA0IHdpbGwgcmVzdWx0IGluIGEgZmVhdHVyZSBpblxuLy8gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbi4gU2ltcGxpZmllZDogTm9ydGhEb29yIDw8IDQgPT0gU291dGhEb29yXG5leHBvcnQgY29uc3QgRmVhdHVyZSA9IHtcbiAgTm9ydGhEb29yOiAyICoqIDAsXG4gIE5vcnRoV2FsbDogMiAqKiAxLFxuICBFYXN0RG9vcjogMiAqKiAyLFxuICBFYXN0V2FsbDogMiAqKiAzLFxuICBTb3V0aERvb3I6IDIgKiogNCxcbiAgU291dGhXYWxsOiAyICoqIDUsXG4gIFdlc3REb29yOiAyICoqIDYsXG4gIFdlc3RXYWxsOiAyICoqIDcsXG4gIEFMTDogMjU2XG59XG5GZWF0dXJlLk5vcnRoID0gRmVhdHVyZS5Ob3J0aERvb3IgfCBGZWF0dXJlLk5vcnRoV2FsbFxuRmVhdHVyZS5FYXN0ID0gRmVhdHVyZS5FYXN0RG9vciB8IEZlYXR1cmUuRWFzdFdhbGxcbkZlYXR1cmUuU291dGggPSBGZWF0dXJlLlNvdXRoRG9vciB8IEZlYXR1cmUuU291dGhXYWxsXG5GZWF0dXJlLldlc3QgPSBGZWF0dXJlLldlc3REb29yIHwgRmVhdHVyZS5XZXN0V2FsbFxuRmVhdHVyZS5ET09SX01BU0sgPSBGZWF0dXJlLk5vcnRoRG9vciB8IEZlYXR1cmUuRWFzdERvb3IgfCBGZWF0dXJlLlNvdXRoRG9vciB8IEZlYXR1cmUuV2VzdERvb3JcbkZlYXR1cmUuV0FMTF9NQVNLID0gRmVhdHVyZS5Ob3J0aFdhbGwgfCBGZWF0dXJlLkVhc3RXYWxsIHwgRmVhdHVyZS5Tb3V0aFdhbGwgfCBGZWF0dXJlLldlc3RXYWxsXG5cbi8vIHVzZWQgd2hlbiB0ZXN0aW5nIGZvciByb29tcyBhdCBncmlkIGNvb3JkaW5hdGVzXG5jb25zdCBPRkZTRVQgPSBbXG4gIHsgeDogMCwgeTogLTEgfSwgeyB4OiAwLCB5OiAtMSB9LCB7IHg6IDEsIHk6IDAgfSwgeyB4OiAxLCB5OiAwIH0sXG4gIHsgeDogMCwgeTogMSB9LCB7IHg6IDAsIHk6IDEgfSwgeyB4OiAtMSwgeTogMCB9LCB7IHg6IC0xLCB5OiAwIH1cbl1cblxuY29uc3Qgb2Zmc2V0ID0gZnVuY3Rpb24gKHgsIHksIGRpcikge1xuICByZXR1cm4geyB4OiB4ICsgT0ZGU0VUW2Rpcl0ueCwgeTogeSArIE9GRlNFVFtkaXJdLnkgfVxufVxuXG5leHBvcnQgY29uc3Qgc2hpZnRGZWF0dXJlID0gZnVuY3Rpb24gKGZlYXR1cmVzKSB7XG4gIHJldHVybiByb3RsKGZlYXR1cmVzLCA0LCA4KVxufVxuXG5jb25zdCBtZXJnZUZlYXR1cmVzID0gZnVuY3Rpb24gKGEsIGIsIGRpcikge1xuICAvLyBtYXNrIGlzIGV4cGVjdGVkIHRvIGJlIGEgc2luZ2xlIHNldCBiaXQsIG9uZSBvZiB0aGUgKl9ET09SIGJpdHMuXG4gIC8vIHRoaXMgaXMgYWRkaW5nIHRoZSBjb3JyZXNwb25kaW5nICpfV0FMTCBiaXRcbiAgbGV0IG1hc2sgPSBkaXIgfCByb3RsKGRpciwgMSwgOClcbiAgYiA9IHNoaWZ0RmVhdHVyZShiKSAmIG1hc2tcbiAgcmV0dXJuIChhICYgbm90KG1hc2spIHwgYilcbn1cblxuY29uc3QgbWVyZ2VBZGphY2VudCA9IGZ1bmN0aW9uIChncmlkLCB4LCB5LCBmZWF0dXJlcykge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkgKz0gMikge1xuICAgIGxldCBkaXIgPSAxIDw8IGlcbiAgICBsZXQgZGlyMSA9IDEgPDwgKGkgKyAxKVxuICAgIGxldCBvID0gb2Zmc2V0KHgsIHksIGkpXG4gICAgLy8gaWYgdGhlIG9mZnNldCBpcyBvdXRzaWRlIG9mIHRoZSBncmlkLCByZW1vdmUgYW55IGNvbm5lY3RpbmcgZmVhdHVyZXNcbiAgICAvLyBpbiB0aGF0IGRpcmVjdGlvblxuICAgIGlmICghZ3JpZC53aXRoaW4oby54LCBvLnkpKSB7XG4gICAgICBmZWF0dXJlcyAmPSBub3QoZGlyIHwgZGlyMSlcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBsZXQgZXhpc3RpbmdGZWF0dXJlcyA9IGdyaWQuZ2V0KG8ueCwgby55KVxuICAgICAgaWYgKGV4aXN0aW5nRmVhdHVyZXMgIT09IDApIHtcbiAgICAgICAgZmVhdHVyZXMgPSBtZXJnZUZlYXR1cmVzKGZlYXR1cmVzLCBleGlzdGluZ0ZlYXR1cmVzLCBkaXIpXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBmZWF0dXJlcztcbn1cblxuY29uc3QgZ2VuZXJhdGVGZWF0dXJlcyA9IGZ1bmN0aW9uIChyYW5kb20sIHByZXZpb3VzKSB7XG4gIGxldCByYW5kb21Eb29ycyA9IE1hdGguZmxvb3IocmFuZG9tLm5leHQoKSAqIEZlYXR1cmUuQUxMKVxuICBsZXQgcmFuZG9tV2FsbHMgPSBNYXRoLmZsb29yKHJhbmRvbS5uZXh0KCkgKiBGZWF0dXJlLkFMTClcbiAgbGV0IGRvb3JzID0gKHJhbmRvbURvb3JzICYgRmVhdHVyZS5ET09SX01BU0spIHwgKHByZXZpb3VzICYgRmVhdHVyZS5ET09SX01BU0spXG4gIGxldCB3YWxscyA9IChyYW5kb21XYWxscyAmIEZlYXR1cmUuV0FMTF9NQVNLKSB8IChwcmV2aW91cyAmIEZlYXR1cmUuV0FMTF9NQVNLKVxuICAvLyBjb21iaW5lIGRvb3JzIGFuZCB3YWxsc1xuICAvLyBzaGlmdCBkb29yIGJpdHMgaW50byB3YWxsIGJpdHMgYW5kIGludmVydCBmb3IgYSBtYXNrIHRvIG5vdFxuICAvLyBwbGFjZSB3YWxscyB3ZXJlIHRoZXJlIGFyZSBkb29yc1xuICBsZXQgZG9vcl9tYXNrID0gbm90KHJvdGwoZG9vcnMsIDEsIDgpKVxuICByZXR1cm4gd2FsbHMgJiBkb29yX21hc2sgfCBkb29yc1xufVxuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGUgPSBmdW5jdGlvbiAoZ3JpZCwgcmFuZG9tLCB4LCB5LCBwcmV2aW91cywgaXRlcikge1xuICBwcmV2aW91cyA9IHNoaWZ0RmVhdHVyZShwcmV2aW91cylcbiAgbGV0IGZlYXR1cmVzID0gcHJldmlvdXNcbiAgaWYgKGl0ZXIgPiAwKSB7XG4gICAgZmVhdHVyZXMgPSBnZW5lcmF0ZUZlYXR1cmVzKHJhbmRvbSwgcHJldmlvdXMpXG4gIH1cbiAgLy8gZmlyc3QgcGFzcyBtZXJnZXMgc3Vycm91bmRpbmcgb3Bwb3NpbmcgZmVhdHVyZXNcbiAgZmVhdHVyZXMgPSBtZXJnZUFkamFjZW50KGdyaWQsIHgsIHksIGZlYXR1cmVzKVxuICBncmlkLnNldCh4LCB5LCBmZWF0dXJlcylcbiAgLy8gc2Vjb25kIHBhc3MgcmVjdXJzZXMgaWYgZ3JpZCBwb3NpdGlvbiBpcyBmcmVlXG4gIC8vIGFuZCBnZW5lcmF0ZXMgbW9yZSByYW5kb20gZmVhdHVyZXNcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCA4OyBpKyspIHtcbiAgICBsZXQgZGlyID0gMSA8PCBpXG4gICAgbGV0IG8gPSBvZmZzZXQoeCwgeSwgaSlcbiAgICBpZiAoIWdyaWQud2l0aGluKG8ueCwgby55KSkge1xuICAgICAgY29udGludWVcbiAgICB9XG4gICAgbGV0IGV4aXN0aW5nRmVhdHVyZXMgPSBncmlkLmdldChvLngsIG8ueSlcbiAgICBsZXQgaGFzRmVhdHVyZSA9IChmZWF0dXJlcyAmIGRpcikgIT09IDBcbiAgICBsZXQgaXNOb3RQcmV2aW91cyA9IGRpciAhPT0gcHJldmlvdXNcbiAgICBsZXQgZ3JpZElzRnJlZSA9IGV4aXN0aW5nRmVhdHVyZXMgPT09IDBcbiAgICBpZiAoaGFzRmVhdHVyZSAmJiBpc05vdFByZXZpb3VzICYmIGdyaWRJc0ZyZWUpIHtcbiAgICAgIGdlbmVyYXRlKGdyaWQsIHJhbmRvbSwgby54LCBvLnksIGRpciwgaXRlciAtIDEpXG4gICAgfVxuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTd2lwZSB7XG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICB0aGlzLnhEb3duID0gbnVsbFxuICAgIHRoaXMueURvd24gPSBudWxsXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ3RvdWNoc3RhcnQnLCB0aGlzLmhhbmRsZVRvdWNoU3RhcnQuYmluZCh0aGlzKSwgZmFsc2UpXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAndG91Y2htb3ZlJywgdGhpcy5oYW5kbGVUb3VjaE1vdmUuYmluZCh0aGlzKSwgZmFsc2UpXG4gIH1cblxuICBoYW5kbGVUb3VjaFN0YXJ0KGV2ZW50KSB7XG4gICAgdGhpcy54RG93biA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WFxuICAgIHRoaXMueURvd24gPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFlcbiAgfVxuXG4gIGhhbmRsZVRvdWNoTW92ZShldmVudCkge1xuICAgIGlmICghdGhpcy54RG93biB8fCAhdGhpcy55RG93biB8fCAhdGhpcy5vblN3aXBlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB2YXIgeFVwID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYXG4gICAgdmFyIHlVcCA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WVxuXG4gICAgdGhpcy54RGlmZiA9IHRoaXMueERvd24gLSB4VXBcbiAgICB0aGlzLnlEaWZmID0gdGhpcy55RG93biAtIHlVcFxuXG4gICAgaWYgKE1hdGguYWJzKHRoaXMueERpZmYpID4gTWF0aC5hYnModGhpcy55RGlmZikpIHsgLy8gTW9zdCBzaWduaWZpY2FudC5cbiAgICAgIGlmICh0aGlzLnhEaWZmID4gMCkge1xuICAgICAgICB0aGlzLm9uU3dpcGUoZXZlbnQsIFwiU3dpcGVMZWZ0XCIpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9uU3dpcGUoZXZlbnQsIFwiU3dpcGVSaWdodFwiKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy55RGlmZiA+IDApIHtcbiAgICAgICAgdGhpcy5vblN3aXBlKGV2ZW50LCBcIlN3aXBlVXBcIilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub25Td2lwZShldmVudCwgXCJTd2lwZURvd25cIilcbiAgICAgIH1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB9XG5cbiAgICB0aGlzLnhEb3duID0gbnVsbFxuICAgIHRoaXMueURvd24gPSBudWxsXG4gIH1cbn1cbiIsImltcG9ydCB7IHJvdXRpbmUsIFJhbmRvbSB9IGZyb20gXCIuL3V0aWxzXCJcbmltcG9ydCBHcmlkIGZyb20gXCIuL2dyaWRcIlxuaW1wb3J0IHsgRmVhdHVyZSwgZ2VuZXJhdGUsIHNoaWZ0RmVhdHVyZSB9IGZyb20gXCIuL21hemVnZW5cIlxuaW1wb3J0IFN3aXBlIGZyb20gXCIuL3N3aXBlXCJcbmNvbnN0IFBhcmFtID0ge1xuICAvLyB3aWR0aCBhbmQgaGVpZ2h0IG9mIHJvb21zIGluIHBpeGVsc1xuICBST09NX1NJWkU6IDUsXG4gIC8vIGxhcmdlciBzY2FsZSBmb3IgYmlnZ2VyIHBpeGVsc1xuICBTQ0FMRTogMzIsXG4gIElURVJBVElPTlM6IDEyXG59XG5cbmNvbnN0IHJhbmRvbSA9IG5ldyBSYW5kb20od2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyKDEpKVxuXG5jb25zdCBzdHJva2VQYXRoID0gZnVuY3Rpb24gKGN0eCwgeDEsIHkxLCB4MiwgeTIpIHtcbiAgY3R4LmJlZ2luUGF0aCgpXG4gIGN0eC5tb3ZlVG8oeDEsIHkxKVxuICBjdHgubGluZVRvKHgyLCB5MilcbiAgY3R4LnN0cm9rZSgpXG59XG5cbmNvbnN0IGRyYXdSb29tRmVhdHVyZXMgPSBmdW5jdGlvbiAoY3R4LCBjeCwgY3ksIGZlYXR1cmVzKSB7XG4gIHZhciBkb29yU2l6ZSA9IE1hdGgucm91bmQoUGFyYW0uUk9PTV9TSVpFIC8gMylcbiAgaWYgKChmZWF0dXJlcyAmIEZlYXR1cmUuTm9ydGhEb29yKSAhPT0gMCkge1xuICAgIHN0cm9rZVBhdGgoY3R4LCBjeCArIGRvb3JTaXplLCBjeSArIC41LCBjeCArIFBhcmFtLlJPT01fU0laRSAtIGRvb3JTaXplLCBjeSArIC41KVxuICB9XG4gIGlmICgoZmVhdHVyZXMgJiBGZWF0dXJlLk5vcnRoV2FsbCkgIT09IDApIHtcbiAgICBzdHJva2VQYXRoKGN0eCwgY3ggKyAxLCBjeSArIC41LCBjeCArIFBhcmFtLlJPT01fU0laRSAtIDEsIGN5ICsgLjUpXG4gIH1cbiAgaWYgKChmZWF0dXJlcyAmIEZlYXR1cmUuRWFzdERvb3IpICE9PSAwKSB7XG4gICAgc3Ryb2tlUGF0aChjdHgsIGN4ICsgUGFyYW0uUk9PTV9TSVpFIC0gLjUsIGN5ICsgZG9vclNpemUsIGN4ICsgUGFyYW0uUk9PTV9TSVpFIC0gLjUsIGN5ICsgUGFyYW0uUk9PTV9TSVpFIC0gZG9vclNpemUpXG4gIH1cbiAgaWYgKChmZWF0dXJlcyAmIEZlYXR1cmUuRWFzdFdhbGwpICE9PSAwKSB7XG4gICAgc3Ryb2tlUGF0aChjdHgsIGN4ICsgUGFyYW0uUk9PTV9TSVpFIC0gLjUsIGN5ICsgMSwgY3ggKyBQYXJhbS5ST09NX1NJWkUgLSAuNSwgY3kgKyBQYXJhbS5ST09NX1NJWkUgLSAxKVxuICB9XG4gIGlmICgoZmVhdHVyZXMgJiBGZWF0dXJlLlNvdXRoRG9vcikgIT09IDApIHtcbiAgICBzdHJva2VQYXRoKGN0eCwgY3ggKyBkb29yU2l6ZSwgY3kgKyBQYXJhbS5ST09NX1NJWkUgLSAuNSwgY3ggKyBQYXJhbS5ST09NX1NJWkUgLSBkb29yU2l6ZSwgY3kgKyBQYXJhbS5ST09NX1NJWkUgLSAuNSlcbiAgfVxuICBpZiAoKGZlYXR1cmVzICYgRmVhdHVyZS5Tb3V0aFdhbGwpICE9PSAwKSB7XG4gICAgc3Ryb2tlUGF0aChjdHgsIGN4ICsgMSwgY3kgKyBQYXJhbS5ST09NX1NJWkUgLSAuNSwgY3ggKyBQYXJhbS5ST09NX1NJWkUgLSAxLCBjeSArIFBhcmFtLlJPT01fU0laRSAtIC41KVxuICB9XG4gIGlmICgoZmVhdHVyZXMgJiBGZWF0dXJlLldlc3REb29yKSAhPT0gMCkge1xuICAgIHN0cm9rZVBhdGgoY3R4LCBjeCArIC41LCBjeSArIGRvb3JTaXplLCBjeCArIC41LCBjeSArIFBhcmFtLlJPT01fU0laRSAtIGRvb3JTaXplKVxuICB9XG4gIGlmICgoZmVhdHVyZXMgJiBGZWF0dXJlLldlc3RXYWxsKSAhPT0gMCkge1xuICAgIHN0cm9rZVBhdGgoY3R4LCBjeCArIC41LCBjeSArIDEsIGN4ICsgLjUsIGN5ICsgUGFyYW0uUk9PTV9TSVpFIC0gMSlcbiAgfVxufVxuXG5jb25zdCBNb3ZlTm9ydGggPSB7b2Zmc2V0OiB7eDogMCwgeTogLTF9LCBtYXNrOiBGZWF0dXJlLk5vcnRofVxuY29uc3QgTW92ZUVhc3QgPSB7b2Zmc2V0OiB7eDogMSwgeTogMH0sIG1hc2s6IEZlYXR1cmUuRWFzdH1cbmNvbnN0IE1vdmVTb3V0aCA9IHtvZmZzZXQ6IHt4OiAwLCB5OiAxfSwgbWFzazogRmVhdHVyZS5Tb3V0aH1cbmNvbnN0IE1vdmVXZXN0ID0ge29mZnNldDoge3g6IC0xLCB5OiAwfSwgbWFzazogRmVhdHVyZS5XZXN0fVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lIHtcbiAgY29uc3RydWN0b3IoY2FudmFzKSB7XG4gICAgdGhpcy5jYW52YXMgPSBjYW52YXNcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0XG4gICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIilcbiAgICB0aGlzLmdyaWQgPSBuZXcgR3JpZChcbiAgICAgIHBhcnNlSW50KGNhbnZhcy53aWR0aCAvIFBhcmFtLlNDQUxFIC8gUGFyYW0uUk9PTV9TSVpFKSxcbiAgICAgIHBhcnNlSW50KGNhbnZhcy5oZWlnaHQgLyBQYXJhbS5TQ0FMRSAvIFBhcmFtLlJPT01fU0laRSkpXG4gICAgdGhpcy5yZXNldCgpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB0aGlzLmhhbmRsZUlucHV0KGUsIGUua2V5KSlcbiAgICBsZXQgc3dpcGUgPSBuZXcgU3dpcGUoY2FudmFzKVxuICAgIHN3aXBlLm9uU3dpcGUgPSAoZSwgc3dpcGVEaXIpID0+IHRoaXMuaGFuZGxlSW5wdXQoZSwgc3dpcGVEaXIpXG4gIH1cbiAgcmVzZXQobmV3SGFzaCkge1xuICAgIGlmIChuZXdIYXNoKVxuICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKG51bGwsIG51bGwsIFwiI1wiICsgcmFuZG9tLmdldFN0YXRlKCkpXG4gICAgdGhpcy5ncmlkLnJlc2V0KClcbiAgICBjb25zdCBjZW50ZXJYID0gcGFyc2VJbnQodGhpcy5ncmlkLndpZHRoIC8gMilcbiAgICBjb25zdCBjZW50ZXJZID0gcGFyc2VJbnQodGhpcy5ncmlkLmhlaWdodCAvIDIpXG4gICAgZ2VuZXJhdGUodGhpcy5ncmlkLCByYW5kb20sIGNlbnRlclgsIGNlbnRlclksIDAsIFBhcmFtLklURVJBVElPTlMpXG4gICAgdGhpcy5wbGF5ZXIgPSB7IHBvczogeyB4OiBjZW50ZXJYLCB5OiBjZW50ZXJZIH0gfVxuICAgIHRoaXMuZ2VuZXJhdGVHZW1zKClcbiAgICB0aGlzLmRyYXcoKVxuICB9XG4gIGdlbmVyYXRlR2VtcygpIHtcbiAgICB0aGlzLm51bUdlbXMgPSAzICsgTWF0aC5yb3VuZChyYW5kb20ubmV4dCgpICogOSlcbiAgICB0aGlzLmdlbXMgPSBbXVxuICAgIHdoaWxlICh0aGlzLmdlbXMubGVuZ3RoIDwgdGhpcy5udW1HZW1zKSB7XG4gICAgICBsZXQgZ2VtID0ge1xuICAgICAgICB4OiBwYXJzZUludChyYW5kb20ubmV4dCgpICogdGhpcy5ncmlkLndpZHRoKSxcbiAgICAgICAgeTogcGFyc2VJbnQocmFuZG9tLm5leHQoKSAqIHRoaXMuZ3JpZC5oZWlnaHQpXG4gICAgICB9XG4gICAgICBpZiAodGhpcy5ncmlkLmdldChnZW0ueCwgZ2VtLnkpICE9PSAwKSB7XG4gICAgICAgIHRoaXMuZ2Vtcy5wdXNoKGdlbSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcGxheWVyTW92ZUJ5KGRlbHRhVmVjdG9yKSB7XG4gICAgbGV0IGluaXRYID0gdGhpcy5wbGF5ZXIucG9zLnhcbiAgICBsZXQgaW5pdFkgPSB0aGlzLnBsYXllci5wb3MueVxuICAgIHJvdXRpbmUoNTAwLCBmdW5jdGlvbiAoZGVsdGEpIHtcbiAgICAgIHRoaXMucGxheWVyLnBvcy54ID0gaW5pdFggKyBkZWx0YVZlY3Rvci54ICogZGVsdGFcbiAgICAgIHRoaXMucGxheWVyLnBvcy55ID0gaW5pdFkgKyBkZWx0YVZlY3Rvci55ICogZGVsdGFcbiAgICAgIGlmIChkZWx0YSA9PT0gMSkge1xuICAgICAgICB0aGlzLmNoZWNrR2Vtc0NvbGxlY3RlZCgpXG4gICAgICB9XG4gICAgICB0aGlzLmRyYXcoKVxuICAgIH0uYmluZCh0aGlzKSlcbiAgfVxuICBwbGF5ZXJNb3ZlKGRpcikge1xuICAgIGxldCB0YXJnZXQgPSB7XG4gICAgICB4OiB0aGlzLnBsYXllci5wb3MueCArIGRpci5vZmZzZXQueCxcbiAgICAgIHk6IHRoaXMucGxheWVyLnBvcy55ICsgZGlyLm9mZnNldC55XG4gICAgfVxuICAgIGxldCByb29tRnJvbSA9IHRoaXMuZ3JpZC5nZXQodGhpcy5wbGF5ZXIucG9zLngsIHRoaXMucGxheWVyLnBvcy55KVxuICAgIGxldCByb29tVG8gPSB0aGlzLmdyaWQuZ2V0KHRhcmdldC54LCB0YXJnZXQueSlcbiAgICBsZXQgY2FuTW92ZVRvID0gKHJvb21UbyAmIHNoaWZ0RmVhdHVyZShkaXIubWFzaykpICE9PSAwXG4gICAgbGV0IGNhbk1vdmVGcm9tID0gKHJvb21Gcm9tICYgZGlyLm1hc2spICE9PSAwXG4gICAgaWYgKGNhbk1vdmVGcm9tICYmIGNhbk1vdmVUbykge1xuICAgICAgdGhpcy5wbGF5ZXJNb3ZlQnkoZGlyLm9mZnNldClcbiAgICB9XG4gIH1cbiAgY2hlY2tHZW1zQ29sbGVjdGVkKCkge1xuICAgIHRoaXMuZ2VtcyA9IHRoaXMuZ2Vtcy5maWx0ZXIoZnVuY3Rpb24gKGdlbSkge1xuICAgICAgcmV0dXJuICEoZ2VtLnggPT09IHRoaXMucGxheWVyLnBvcy54ICYmIGdlbS55ID09PSB0aGlzLnBsYXllci5wb3MueSlcbiAgICB9LmJpbmQodGhpcykpXG4gICAgaWYgKHRoaXMuZ2Vtcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMucmVzZXQodHJ1ZSlcbiAgICB9XG4gIH1cbiAgaGFuZGxlSW5wdXQoZSwgaW5wdXQpIHtcbiAgICBzd2l0Y2ggKGlucHV0KSB7XG4gICAgICBjYXNlIFwiU3dpcGVVcFwiOlxuICAgICAgY2FzZSBcIkFycm93VXBcIjpcbiAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlKE1vdmVOb3J0aClcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIlN3aXBlRG93blwiOlxuICAgICAgY2FzZSBcIkFycm93RG93blwiOlxuICAgICAgICB0aGlzLnBsYXllck1vdmUoTW92ZVNvdXRoKVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiU3dpcGVMZWZ0XCI6XG4gICAgICBjYXNlIFwiQXJyb3dMZWZ0XCI6XG4gICAgICAgIHRoaXMucGxheWVyTW92ZShNb3ZlV2VzdClcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIlN3aXBlUmlnaHRcIjpcbiAgICAgIGNhc2UgXCJBcnJvd1JpZ2h0XCI6XG4gICAgICAgIHRoaXMucGxheWVyTW92ZShNb3ZlRWFzdClcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBkcmF3KCkge1xuICAgIHRoaXMuZHJhd01hemUodGhpcy5jdHgpXG4gICAgdGhpcy5kcmF3R2Vtcyh0aGlzLmN0eClcbiAgICB0aGlzLmRyYXdQbGF5ZXIodGhpcy5jdHgpXG4gIH1cbiAgZHJhd01hemUoY3R4KSB7XG4gICAgY3R4LnNhdmUoKVxuICAgIGN0eC5zY2FsZShQYXJhbS5TQ0FMRSwgUGFyYW0uU0NBTEUpXG4gICAgY3R4LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodClcbiAgICBmb3IgKGxldCBneCA9IDA7IGd4IDwgdGhpcy5ncmlkLndpZHRoOyBneCsrKSB7XG4gICAgICBmb3IgKGxldCBneSA9IDA7IGd5IDwgdGhpcy5ncmlkLmhlaWdodDsgZ3krKykge1xuICAgICAgICB0aGlzLmRyYXdSb29tKGN0eCwgZ3gsIGd5KVxuICAgICAgfVxuICAgIH1cbiAgICBjdHgucmVzdG9yZSgpXG4gIH1cbiAgZHJhd1BsYXllcihjdHgpIHtcbiAgICBjdHguc2F2ZSgpXG4gICAgY3R4LmZpbGxTdHlsZSA9IFwicmdiYSg4MCwgMjIwLCAyNTUsIDEpXCJcbiAgICB2YXIgb2Zmc2V0TXVsdCA9IFBhcmFtLlJPT01fU0laRSAqIFBhcmFtLlNDQUxFXG4gICAgdmFyIHJvb21DZW50ZXJPZmZzZXQgPSBvZmZzZXRNdWx0ICogLjRcbiAgICB2YXIgY2FudmFzWCA9IHRoaXMucGxheWVyLnBvcy54ICogb2Zmc2V0TXVsdFxuICAgIHZhciBjYW52YXNZID0gdGhpcy5wbGF5ZXIucG9zLnkgKiBvZmZzZXRNdWx0XG4gICAgY3R4LmZpbGxSZWN0KFxuICAgICAgY2FudmFzWCArIHJvb21DZW50ZXJPZmZzZXQsXG4gICAgICBjYW52YXNZICsgcm9vbUNlbnRlck9mZnNldCxcbiAgICAgIFBhcmFtLlNDQUxFLCBQYXJhbS5TQ0FMRSlcbiAgICBjdHgucmVzdG9yZSgpXG4gIH1cbiAgZHJhd0dlbXMoY3R4KSB7XG4gICAgY3R4LnNhdmUoKVxuICAgIGN0eC5maWxsU3R5bGUgPSBcInJnYmEoODAsIDI1NSwgODAsIDEpXCJcbiAgICB2YXIgb2Zmc2V0TXVsdCA9IFBhcmFtLlJPT01fU0laRSAqIFBhcmFtLlNDQUxFXG4gICAgdmFyIHJvb21DZW50ZXJPZmZzZXQgPSBvZmZzZXRNdWx0ICogLjRcbiAgICBmb3IgKHZhciBpID0gMCwgbiA9IHRoaXMuZ2Vtcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHZhciBjYW52YXNYID0gdGhpcy5nZW1zW2ldLnggKiBvZmZzZXRNdWx0XG4gICAgICB2YXIgY2FudmFzWSA9IHRoaXMuZ2Vtc1tpXS55ICogb2Zmc2V0TXVsdFxuICAgICAgY3R4LmZpbGxSZWN0KFxuICAgICAgICBjYW52YXNYICsgcm9vbUNlbnRlck9mZnNldCxcbiAgICAgICAgY2FudmFzWSArIHJvb21DZW50ZXJPZmZzZXQsXG4gICAgICAgIFBhcmFtLlNDQUxFLCBQYXJhbS5TQ0FMRSlcbiAgICB9XG4gICAgY3R4LnJlc3RvcmUoKVxuICB9XG4gIGRyYXdSb29tKGN0eCwgZ3gsIGd5KSB7XG4gICAgdmFyIGZlYXR1cmVzID0gdGhpcy5ncmlkLmdldChneCwgZ3kpXG4gICAgaWYgKGZlYXR1cmVzID09IDApIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB2YXIgY3ggPSBneCAqIFBhcmFtLlJPT01fU0laRVxuICAgIHZhciBjeSA9IGd5ICogUGFyYW0uUk9PTV9TSVpFXG5cbiAgICBjdHguc2F2ZSgpXG4gICAgY3R4LmZpbGxTdHlsZSA9IFwicmdiYSgxMjgsMTI4LDEyOCwxKVwiXG4gICAgY3R4LmZpbGxSZWN0KGN4LCBjeSwgUGFyYW0uUk9PTV9TSVpFLCBQYXJhbS5ST09NX1NJWkUpXG4gICAgY3R4LmZpbGxTdHlsZSA9IFwicmdiYSg2NCw2NCw2NCwxKVwiXG4gICAgY3R4LmZpbGxSZWN0KGN4ICsgMSwgY3kgKyAxLCBQYXJhbS5ST09NX1NJWkUgLSAyLCBQYXJhbS5ST09NX1NJWkUgLSAyKVxuICAgIGN0eC5zdHJva2VTdHlsZSA9IFwicmdiYSg2NCwgNjQsIDY0LCAxKVwiXG4gICAgZHJhd1Jvb21GZWF0dXJlcyhjdHgsIGN4LCBjeSwgZmVhdHVyZXMpXG4gICAgY3R4LnJlc3RvcmUoKVxuXG4gICAgY3R4LnNhdmUoKVxuICAgIGN0eC5zdHJva2VTdHlsZSA9IFwicmdiYSgwLCAwLCAwLCAuMSlcIlxuICAgIGN0eC5zY2FsZSgxIC8gUGFyYW0uU0NBTEUsIDEgLyBQYXJhbS5TQ0FMRSlcbiAgICBjdHguc3Ryb2tlUmVjdChcbiAgICAgIGN4ICogUGFyYW0uU0NBTEUgKyAuNSxcbiAgICAgIGN5ICogUGFyYW0uU0NBTEUgKyAuNSxcbiAgICAgIFBhcmFtLlJPT01fU0laRSAqIFBhcmFtLlNDQUxFIC0gMSxcbiAgICAgIFBhcmFtLlJPT01fU0laRSAqIFBhcmFtLlNDQUxFIC0gMSlcbiAgICBjdHgucmVzdG9yZSgpXG4gIH1cbn1cbiIsImltcG9ydCBcIi4vbWFpbi5jc3NcIlxuaW1wb3J0IEdhbWUgZnJvbSBcIi4vZ2FtZVwiXG5cbmNvbnN0IHN0YXJ0U2NyZWVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxubGV0IGhpZGVTdGFydFNjcmVlblxuaGlkZVN0YXJ0U2NyZWVuID0gKGUpID0+IHtcbiAgc3RhcnRTY3JlZW4uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gIHN0YXJ0U2NyZWVuLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoaWRlU3RhcnRTY3JlZW4pXG59XG5zdGFydFNjcmVlbi5jbGFzc0xpc3QuYWRkKFwic3RhcnQtc2NyZWVuXCIpXG5zdGFydFNjcmVlbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGlkZVN0YXJ0U2NyZWVuKVxuc3RhcnRTY3JlZW4uaW5uZXJIVE1MID0gYFxuPGRpdj5cbjxkaXYgY2xhc3M9XCJ0aXRsZVwiPkNvbGxlY3QgZ2VtcyBpbiBNYXplPC9kaXY+XG48ZGl2PlByZXNzIGFycm93IGtleXMgdG8gbW92ZS48L2Rpdj5cbjxkaXY+T3Igc3dpcGUgdG8gbW92ZS48L2Rpdj5cbjxkaXY+Q2xpY2sgb3IgdGFwIHRvIHN0YXJ0PC9kaXY+XG48L2Rpdj5cbmBcbmxldCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpXG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNhbnZhcylcbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc3RhcnRTY3JlZW4pXG53aW5kb3cuZ2FtZSA9IG5ldyBHYW1lKGNhbnZhcylcbiJdLCJzb3VyY2VSb290IjoiIn0=