!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){t.exports=n.p+"87f51cd97d4e3f4d576318c7b8442b76.css"},function(t,e,n){"use strict";n.r(e);n(0);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}var a=function(t,e,n){return Math.max(e,Math.min(n,t))},s=function(t){return~t>>>0},h=function(t,e,n){var i=(1<<n)-1;return t<<(e%=n)&i|(t&i)>>n-e},l=function(t){for(var e=0,n=1779033703^t.length;e<t.length;e++)n=(n=Math.imul(n^t.charCodeAt(e),3432918353))<<13|n>>>19;return function(){return n=Math.imul(n^n>>>16,2246822507),n=Math.imul(n^n>>>13,3266489909),(n^=n>>>16)>>>0}},u=function(){function t(e){i(this,t),this.state=e}return o(t,[{key:"next",value:function(){var t=this.state+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967295}}]),t}(),c=function(){function t(e){i(this,t),void 0!==e&&(e=parseInt(e,36)),e||(e=(new Date).toISOString(),e=l(e)()),this.generator=new u(e)}return o(t,[{key:"next",value:function(){return this.generator.next()}},{key:"getState",value:function(){return this.generator.state.toString(36)}}]),t}();function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var y=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=e,this.height=n,this.cells=new Array(this.width*this.height).fill(0)}var e,n,i;return e=t,(n=[{key:"reset",value:function(){this.cells=new Array(this.width*this.height).fill(0)}},{key:"within",value:function(t,e){return t>=0&&t<this.width&&e>=0&&e<this.height}},{key:"set",value:function(t,e,n){t=a(t,0,this.width-1),e=a(e,0,this.height-1),this.cells[e*this.width+t]=n}},{key:"get",value:function(t,e){return t=a(t,0,this.width-1),e=a(e,0,this.height-1),this.cells[e*this.width+t]}}])&&f(e.prototype,n),i&&f(e,i),t}(),d={NorthDoor:Math.pow(2,0),NorthWall:Math.pow(2,1),EastDoor:Math.pow(2,2),EastWall:Math.pow(2,3),SouthDoor:Math.pow(2,4),SouthWall:Math.pow(2,5),WestDoor:Math.pow(2,6),WestWall:Math.pow(2,7),ALL:256};d.North=d.NorthDoor|d.NorthWall,d.East=d.EastDoor|d.EastWall,d.South=d.SouthDoor|d.SouthWall,d.West=d.WestDoor|d.WestWall,d.DOOR_MASK=d.NorthDoor|d.EastDoor|d.SouthDoor|d.WestDoor,d.WALL_MASK=d.NorthWall|d.EastWall|d.SouthWall|d.WestWall;var v=[{x:0,y:-1},{x:0,y:-1},{x:1,y:0},{x:1,y:0},{x:0,y:1},{x:0,y:1},{x:-1,y:0},{x:-1,y:0}],p=function(t,e,n){return{x:t+v[n].x,y:e+v[n].y}},w=function(t){return h(t,4,8)},S=function(t,e,n){var i=n|h(n,1,8);return e=w(e)&i,t&s(i)|e},g=function t(e,n,i,r,o,a){var l=o=w(o);a>0&&(l=function(t,e){var n=Math.floor(t.next()*d.ALL),i=Math.floor(t.next()*d.ALL),r=n&d.DOOR_MASK|e&d.DOOR_MASK;return(i&d.WALL_MASK|e&d.WALL_MASK)&s(h(r,1,8))|r}(n,o)),l=function(t,e,n,i){for(var r=0;r<8;r+=2){var o=1<<r,a=1<<r+1,h=p(e,n,r);if(t.within(h.x,h.y)){var l=t.get(h.x,h.y);0!==l&&(i=S(i,l,o))}else i&=s(o|a)}return i}(e,i,r,l),e.set(i,r,l);for(var u=0;u<8;u++){var c=1<<u,f=p(i,r,u);if(e.within(f.x,f.y)){var y=e.get(f.x,f.y);0!=(l&c)&&c!==o&&0===y&&t(e,n,f.x,f.y,c,a-1)}}};function O(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var M=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.xDown=null,this.yDown=null,this.element=e,this.element.addEventListener("touchstart",this.handleTouchStart.bind(this),!1),this.element.addEventListener("touchmove",this.handleTouchMove.bind(this),!1)}var e,n,i;return e=t,(n=[{key:"handleTouchStart",value:function(t){this.xDown=t.touches[0].clientX,this.yDown=t.touches[0].clientY}},{key:"handleTouchMove",value:function(t){if(this.xDown&&this.yDown&&this.onSwipe){var e=t.touches[0].clientX,n=t.touches[0].clientY;this.xDiff=this.xDown-e,this.yDiff=this.yDown-n,Math.abs(this.xDiff)>Math.abs(this.yDiff)?this.xDiff>0?this.onSwipe(t,"SwipeLeft"):this.onSwipe(t,"SwipeRight"):this.yDiff>0?this.onSwipe(t,"SwipeUp"):this.onSwipe(t,"SwipeDown"),this.xDown=null,this.yDown=null}}}])&&O(e.prototype,n),i&&O(e,i),t}();function E(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var m,x={ROOM_SIZE:5,SCALE:32,ITERATIONS:12},b=new c(window.location.hash.substr(1)),k=function(t,e,n,i,r){t.beginPath(),t.moveTo(e,n),t.lineTo(i,r),t.stroke()},R={offset:{x:0,y:-1},mask:d.North},I={offset:{x:1,y:0},mask:d.East},D={offset:{x:0,y:1},mask:d.South},_={offset:{x:-1,y:0},mask:d.West},A=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.ctx=this.canvas.getContext("2d"),this.grid=new y(parseInt(e.width/x.SCALE/x.ROOM_SIZE),parseInt(e.height/x.SCALE/x.ROOM_SIZE)),this.reset(),window.addEventListener("keydown",function(t){return n.handleInput(t,t.key)}),new M(window.document.body).onSwipe=function(t,e){return n.handleInput(t,e)}}var e,n,i;return e=t,(n=[{key:"reset",value:function(t){t&&window.history.pushState(null,null,"#"+b.getState()),this.grid.reset();var e=parseInt(this.grid.width/2),n=parseInt(this.grid.height/2);g(this.grid,b,e,n,0,x.ITERATIONS),this.player={pos:{x:e,y:n}},this.generateGems(),this.draw()}},{key:"generateGems",value:function(){for(this.numGems=3+Math.round(9*b.next()),this.gems=[];this.gems.length<this.numGems;){var t={x:parseInt(b.next()*this.grid.width),y:parseInt(b.next()*this.grid.height)};0!==this.grid.get(t.x,t.y)&&this.gems.push(t)}}},{key:"playerMoveBy",value:function(t){var e,n,i,r,o=this.player.pos.x,a=this.player.pos.y;e=500,n=function(e){this.player.pos.x=o+t.x*e,this.player.pos.y=a+t.y*e,1===e&&this.checkGemsCollected(),this.draw()}.bind(this),r=null,i=function(t){null===r&&(r=t);var o=(t-r)/e;o<1?(n(o),window.requestAnimationFrame(i)):n(1)},window.requestAnimationFrame(i)}},{key:"playerMove",value:function(t){var e={x:this.player.pos.x+t.offset.x,y:this.player.pos.y+t.offset.y},n=this.grid.get(this.player.pos.x,this.player.pos.y),i=0!=(this.grid.get(e.x,e.y)&w(t.mask));0!=(n&t.mask)&&i&&this.playerMoveBy(t.offset)}},{key:"checkGemsCollected",value:function(){this.gems=this.gems.filter(function(t){return!(t.x===this.player.pos.x&&t.y===this.player.pos.y)}.bind(this)),0===this.gems.length&&this.reset(!0)}},{key:"handleInput",value:function(t,e){switch(e){case"SwipeUp":case"ArrowUp":this.playerMove(R),t.preventDefault();break;case"SwipeDown":case"ArrowDown":this.playerMove(D),t.preventDefault();break;case"SwipeLeft":case"ArrowLeft":this.playerMove(_),t.preventDefault();break;case"SwipeRight":case"ArrowRight":this.playerMove(I),t.preventDefault()}}},{key:"draw",value:function(){this.drawMaze(this.ctx),this.drawGems(this.ctx),this.drawPlayer(this.ctx)}},{key:"drawMaze",value:function(t){t.save(),t.scale(x.SCALE,x.SCALE),t.fillStyle="black",t.fillRect(0,0,this.canvas.width,this.canvas.height);for(var e=0;e<this.grid.width;e++)for(var n=0;n<this.grid.height;n++)this.drawRoom(t,e,n);t.restore()}},{key:"drawPlayer",value:function(t){t.save(),t.fillStyle="rgba(80, 220, 255, 1)";var e=x.ROOM_SIZE*x.SCALE,n=.4*e,i=this.player.pos.x*e,r=this.player.pos.y*e;t.fillRect(i+n,r+n,x.SCALE,x.SCALE),t.restore()}},{key:"drawGems",value:function(t){t.save(),t.fillStyle="rgba(80, 255, 80, 1)";for(var e=x.ROOM_SIZE*x.SCALE,n=.4*e,i=0,r=this.gems.length;i<r;i++){var o=this.gems[i].x*e,a=this.gems[i].y*e;t.fillRect(o+n,a+n,x.SCALE,x.SCALE)}t.restore()}},{key:"drawRoom",value:function(t,e,n){var i=this.grid.get(e,n);if(0!=i){var r=e*x.ROOM_SIZE,o=n*x.ROOM_SIZE;t.save(),t.fillStyle="rgba(128,128,128,1)",t.fillRect(r,o,x.ROOM_SIZE,x.ROOM_SIZE),t.fillStyle="rgba(64,64,64,1)",t.fillRect(r+1,o+1,x.ROOM_SIZE-2,x.ROOM_SIZE-2),t.strokeStyle="rgba(64, 64, 64, 1)",function(t,e,n,i){var r=Math.round(x.ROOM_SIZE/3);0!=(i&d.NorthDoor)&&k(t,e+r,n+.5,e+x.ROOM_SIZE-r,n+.5),0!=(i&d.NorthWall)&&k(t,e+1,n+.5,e+x.ROOM_SIZE-1,n+.5),0!=(i&d.EastDoor)&&k(t,e+x.ROOM_SIZE-.5,n+r,e+x.ROOM_SIZE-.5,n+x.ROOM_SIZE-r),0!=(i&d.EastWall)&&k(t,e+x.ROOM_SIZE-.5,n+1,e+x.ROOM_SIZE-.5,n+x.ROOM_SIZE-1),0!=(i&d.SouthDoor)&&k(t,e+r,n+x.ROOM_SIZE-.5,e+x.ROOM_SIZE-r,n+x.ROOM_SIZE-.5),0!=(i&d.SouthWall)&&k(t,e+1,n+x.ROOM_SIZE-.5,e+x.ROOM_SIZE-1,n+x.ROOM_SIZE-.5),0!=(i&d.WestDoor)&&k(t,e+.5,n+r,e+.5,n+x.ROOM_SIZE-r),0!=(i&d.WestWall)&&k(t,e+.5,n+1,e+.5,n+x.ROOM_SIZE-1)}(t,r,o,i),t.restore(),t.save(),t.strokeStyle="rgba(0, 0, 0, .1)",t.scale(1/x.SCALE,1/x.SCALE),t.strokeRect(r*x.SCALE+.5,o*x.SCALE+.5,x.ROOM_SIZE*x.SCALE-1,x.ROOM_SIZE*x.SCALE-1),t.restore()}}}])&&E(e.prototype,n),i&&E(e,i),t}(),L=document.createElement("div");m=function(t){L.style.display="none",L.removeEventListener("click",m)},L.classList.add("start-screen"),L.addEventListener("click",m),L.innerHTML='\n<div>\n<div class="title">Collect gems in Maze</div>\n<div>Press arrow keys to move.</div>\n<div>Or swipe to move.</div>\n<div>Click or tap to start</div>\n</div>\n';var W=document.createElement("canvas");document.body.appendChild(W),document.body.appendChild(L),window.game=new A(W)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4uY3NzIiwid2VicGFjazovLy8uL3NyYy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JpZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbWF6ZWdlbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3dpcGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4uanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJjbGFtcCIsInZhbCIsIm1pbiIsIm1heCIsIk1hdGgiLCJub3QiLCJyb3RsIiwic2hpZnRDb3VudCIsInNpemUiLCJzaXplTWFzayIsInhtdXIzIiwic3RyIiwiaCIsImxlbmd0aCIsImltdWwiLCJjaGFyQ29kZUF0IiwiTXVsYmVycnkzMiIsInNlZWQiLCJ0aGlzIiwic3RhdGUiLCJSYW5kb20iLCJpbml0U2VlZCIsInVuZGVmaW5lZCIsInBhcnNlSW50IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZ2VuZXJhdG9yIiwibmV4dCIsInRvU3RyaW5nIiwiR3JpZCIsIndpZHRoIiwiaGVpZ2h0IiwiY2VsbHMiLCJBcnJheSIsImZpbGwiLCJ4IiwieSIsIkZlYXR1cmUiLCJOb3J0aERvb3IiLCJOb3J0aFdhbGwiLCJFYXN0RG9vciIsIkVhc3RXYWxsIiwiU291dGhEb29yIiwiU291dGhXYWxsIiwiV2VzdERvb3IiLCJXZXN0V2FsbCIsIkFMTCIsIk5vcnRoIiwiRWFzdCIsIlNvdXRoIiwiV2VzdCIsIkRPT1JfTUFTSyIsIldBTExfTUFTSyIsIk9GRlNFVCIsIm9mZnNldCIsImRpciIsInNoaWZ0RmVhdHVyZSIsImZlYXR1cmVzIiwibWVyZ2VGZWF0dXJlcyIsImEiLCJiIiwibWFzayIsImdlbmVyYXRlIiwiZ3JpZCIsInJhbmRvbSIsInByZXZpb3VzIiwiaXRlciIsInJhbmRvbURvb3JzIiwiZmxvb3IiLCJyYW5kb21XYWxscyIsImRvb3JzIiwiZ2VuZXJhdGVGZWF0dXJlcyIsImRpcjEiLCJ3aXRoaW4iLCJleGlzdGluZ0ZlYXR1cmVzIiwibWVyZ2VBZGphY2VudCIsInNldCIsIlN3aXBlIiwiZWxlbWVudCIsInhEb3duIiwieURvd24iLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlVG91Y2hTdGFydCIsImhhbmRsZVRvdWNoTW92ZSIsImV2ZW50IiwidG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwib25Td2lwZSIsInhVcCIsInlVcCIsInhEaWZmIiwieURpZmYiLCJhYnMiLCJoaWRlU3RhcnRTY3JlZW4iLCJQYXJhbSIsIlJPT01fU0laRSIsIlNDQUxFIiwiSVRFUkFUSU9OUyIsIndpbmRvdyIsImxvY2F0aW9uIiwiaGFzaCIsInN1YnN0ciIsInN0cm9rZVBhdGgiLCJjdHgiLCJ4MSIsInkxIiwieDIiLCJ5MiIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsIk1vdmVOb3J0aCIsIk1vdmVFYXN0IiwiTW92ZVNvdXRoIiwiTW92ZVdlc3QiLCJHYW1lIiwiY2FudmFzIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiZ2V0Q29udGV4dCIsInJlc2V0IiwiZSIsImhhbmRsZUlucHV0IiwiZG9jdW1lbnQiLCJib2R5Iiwic3dpcGVEaXIiLCJuZXdIYXNoIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsImdldFN0YXRlIiwiY2VudGVyWCIsImNlbnRlclkiLCJwbGF5ZXIiLCJwb3MiLCJnZW5lcmF0ZUdlbXMiLCJkcmF3IiwibnVtR2VtcyIsInJvdW5kIiwiZ2VtcyIsImdlbSIsInB1c2giLCJkZWx0YVZlY3RvciIsImR1cmF0aW9uTXMiLCJmcmFtZUZuIiwiZnJhbWVGbldyYXBwZXIiLCJpbml0aWFsIiwiaW5pdFgiLCJpbml0WSIsImRlbHRhIiwiY2hlY2tHZW1zQ29sbGVjdGVkIiwidGltZXN0YW1wIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidGFyZ2V0Iiwicm9vbUZyb20iLCJjYW5Nb3ZlVG8iLCJwbGF5ZXJNb3ZlQnkiLCJmaWx0ZXIiLCJpbnB1dCIsInBsYXllck1vdmUiLCJwcmV2ZW50RGVmYXVsdCIsImRyYXdNYXplIiwiZHJhd0dlbXMiLCJkcmF3UGxheWVyIiwic2F2ZSIsInNjYWxlIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJneCIsImd5IiwiZHJhd1Jvb20iLCJyZXN0b3JlIiwib2Zmc2V0TXVsdCIsInJvb21DZW50ZXJPZmZzZXQiLCJjYW52YXNYIiwiY2FudmFzWSIsImN4IiwiY3kiLCJzdHJva2VTdHlsZSIsImRvb3JTaXplIiwiZHJhd1Jvb21GZWF0dXJlcyIsInN0cm9rZVJlY3QiLCJzdGFydFNjcmVlbiIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsImRpc3BsYXkiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xhc3NMaXN0IiwiYWRkIiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJnYW1lIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQTFCLEVBQW9Ca0IsRUFBRU8sR0FDdEJYLE9BQU9DLGVBQWVVLEVBQUksVUFBVyxDQUFFVCxZQUFZLEVBQU1LLE1BQU9BLElBQ3RELEVBQVBFLEdBQTRCLGlCQUFURixFQUFtQixJQUFJLElBQUlNLEtBQU9OLEVBQU9yQixFQUFvQlUsRUFBRWUsRUFBSUUsRUFBSyxTQUFTQSxHQUFPLE9BQU9OLEVBQU1NLElBQVFDLEtBQUssS0FBTUQsSUFDOUksT0FBT0YsR0FJUnpCLEVBQW9CNkIsRUFBSSxTQUFTMUIsR0FDaEMsSUFBSVMsRUFBU1QsR0FBVUEsRUFBT3FCLFdBQzdCLFdBQXdCLE9BQU9yQixFQUFnQixTQUMvQyxXQUE4QixPQUFPQSxHQUV0QyxPQURBSCxFQUFvQlUsRUFBRUUsRUFBUSxJQUFLQSxHQUM1QkEsR0FJUlosRUFBb0JhLEVBQUksU0FBU2lCLEVBQVFDLEdBQVksT0FBT2pCLE9BQU9rQixVQUFVQyxlQUFlMUIsS0FBS3VCLEVBQVFDLElBR3pHL0IsRUFBb0JrQyxFQUFJLEdBSWpCbEMsRUFBb0JBLEVBQW9CbUMsRUFBSSxHLGtCQ2xGckRoQyxFQUFPRCxRQUFVLElBQTBCLHdDLHNXQ0FwQyxJQUFNa0MsRUFBUSxTQUFVQyxFQUFLQyxFQUFLQyxHQUN2QyxPQUFPQyxLQUFLRCxJQUFJRCxFQUFLRSxLQUFLRixJQUFJQyxFQUFLRixLQUd4QkksRUFBTSxTQUFVcEIsR0FHM0IsT0FBUUEsSUFBVSxHQUdQcUIsRUFBTyxTQUFVTCxFQUFLTSxFQUFZQyxHQUc3QyxJQUFJQyxHQUFZLEdBQUtELEdBQVEsRUFDN0IsT0FDR1AsSUFISE0sR0FBMEJDLEdBR0ZDLEdBQ25CUixFQUFNUSxJQUFjRCxFQUFPRCxHQXlCckJHLEVBQVEsU0FBVUMsR0FDN0IsSUFBSyxJQUFJM0MsRUFBSSxFQUFHNEMsRUFBSSxXQUFhRCxFQUFJRSxPQUFRN0MsRUFBSTJDLEVBQUlFLE9BQVE3QyxJQUV6RDRDLEdBREZBLEVBQUlSLEtBQUtVLEtBQUtGLEVBQUlELEVBQUlJLFdBQVcvQyxHQUFJLGNBQzFCLEdBQUs0QyxJQUFNLEdBQ3hCLE9BQU8sV0FHTCxPQUZBQSxFQUFJUixLQUFLVSxLQUFLRixFQUFJQSxJQUFNLEdBQUksWUFDNUJBLEVBQUlSLEtBQUtVLEtBQUtGLEVBQUlBLElBQU0sR0FBSSxhQUNwQkEsR0FBS0EsSUFBTSxNQUFRLElBS2xCSSxFQUFiLFdBQ0UsV0FBWUMsR0FBTSxVQUNoQkMsS0FBS0MsTUFBUUYsRUFGakIseUNBS0ksSUFBSS9CLEVBQUlnQyxLQUFLQyxPQUFTLFdBR3RCLE9BRkFqQyxFQUFJa0IsS0FBS1UsS0FBSzVCLEVBQUlBLElBQU0sR0FBUSxFQUFKQSxNQUM1QkEsR0FBS0EsRUFBSWtCLEtBQUtVLEtBQUs1QixFQUFJQSxJQUFNLEVBQU8sR0FBSkEsSUFDbkJBLElBQU0sTUFBUSxHQUFLLGVBUnBDLEtBYWFrQyxFQUFiLFdBQ0UsV0FBWUMsR0FBVSxlQUNIQyxJQUFiRCxJQUNGQSxFQUFXRSxTQUFTRixFQUFVLEtBRTNCQSxJQUNIQSxHQUFZLElBQUlHLE1BQVFDLGNBQ3hCSixFQUFXWCxFQUFNVyxFQUFOWCxJQUViUSxLQUFLUSxVQUFZLElBQUlWLEVBQVdLLEdBVHBDLHlDQVlJLE9BQU9ILEtBQUtRLFVBQVVDLFNBWjFCLGlDQWVJLE9BQU9ULEtBQUtRLFVBQVVQLE1BQU1TLFNBQVMsUUFmekMsSywwS0NoRXFCQyxFLFdBQ25CLFdBQVlDLEVBQU9DLEksNEZBQVEsU0FDekJiLEtBQUtZLE1BQVFBLEVBQ2JaLEtBQUthLE9BQVNBLEVBQ2RiLEtBQUtjLE1BQVEsSUFBSUMsTUFBTWYsS0FBS1ksTUFBUVosS0FBS2EsUUFBUUcsS0FBSyxHLHVEQUl0RGhCLEtBQUtjLE1BQVEsSUFBSUMsTUFBTWYsS0FBS1ksTUFBUVosS0FBS2EsUUFBUUcsS0FBSyxLLDZCQUdoREMsRUFBR0MsR0FDVCxPQUFPRCxHQUFLLEdBQUtBLEVBQUlqQixLQUFLWSxPQUFTTSxHQUFLLEdBQUtBLEVBQUlsQixLQUFLYSxTLDBCQUduREksRUFBR0MsRUFBR25ELEdBQ1RrRCxFQUFJbkMsRUFBTW1DLEVBQUcsRUFBR2pCLEtBQUtZLE1BQVEsR0FDN0JNLEVBQUlwQyxFQUFNb0MsRUFBRyxFQUFHbEIsS0FBS2EsT0FBUyxHQUM5QmIsS0FBS2MsTUFBTUksRUFBSWxCLEtBQUtZLE1BQVFLLEdBQUtsRCxJLDBCQUc5QmtELEVBQUdDLEdBR04sT0FGQUQsRUFBSW5DLEVBQU1tQyxFQUFHLEVBQUdqQixLQUFLWSxNQUFRLEdBQzdCTSxFQUFJcEMsRUFBTW9DLEVBQUcsRUFBR2xCLEtBQUthLE9BQVMsR0FDdkJiLEtBQUtjLE1BQU1JLEVBQUlsQixLQUFLWSxNQUFRSyxRLGdDQ25CMUJFLEVBQVUsQ0FDckJDLFVBQVcsS0FBRixJQUFFLEVBQUssR0FDaEJDLFVBQVcsS0FBRixJQUFFLEVBQUssR0FDaEJDLFNBQVUsS0FBRixJQUFFLEVBQUssR0FDZkMsU0FBVSxLQUFGLElBQUUsRUFBSyxHQUNmQyxVQUFXLEtBQUYsSUFBRSxFQUFLLEdBQ2hCQyxVQUFXLEtBQUYsSUFBRSxFQUFLLEdBQ2hCQyxTQUFVLEtBQUYsSUFBRSxFQUFLLEdBQ2ZDLFNBQVUsS0FBRixJQUFFLEVBQUssR0FDZkMsSUFBSyxLQUVQVCxFQUFRVSxNQUFRVixFQUFRQyxVQUFZRCxFQUFRRSxVQUM1Q0YsRUFBUVcsS0FBT1gsRUFBUUcsU0FBV0gsRUFBUUksU0FDMUNKLEVBQVFZLE1BQVFaLEVBQVFLLFVBQVlMLEVBQVFNLFVBQzVDTixFQUFRYSxLQUFPYixFQUFRTyxTQUFXUCxFQUFRUSxTQUMxQ1IsRUFBUWMsVUFBWWQsRUFBUUMsVUFBWUQsRUFBUUcsU0FBV0gsRUFBUUssVUFBWUwsRUFBUU8sU0FDdkZQLEVBQVFlLFVBQVlmLEVBQVFFLFVBQVlGLEVBQVFJLFNBQVdKLEVBQVFNLFVBQVlOLEVBQVFRLFNBR3ZGLElBQU1RLEVBQVMsQ0FDYixDQUFFbEIsRUFBRyxFQUFHQyxHQUFJLEdBQUssQ0FBRUQsRUFBRyxFQUFHQyxHQUFJLEdBQUssQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQUssQ0FBRUQsRUFBRyxFQUFHQyxFQUFHLEdBQzdELENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUFLLENBQUVELEVBQUcsRUFBR0MsRUFBRyxHQUFLLENBQUVELEdBQUksRUFBR0MsRUFBRyxHQUFLLENBQUVELEdBQUksRUFBR0MsRUFBRyxJQUd6RGtCLEVBQVMsU0FBVW5CLEVBQUdDLEVBQUdtQixHQUM3QixNQUFPLENBQUVwQixFQUFHQSxFQUFJa0IsRUFBT0UsR0FBS3BCLEVBQUdDLEVBQUdBLEVBQUlpQixFQUFPRSxHQUFLbkIsSUFHdkNvQixFQUFlLFNBQVVDLEdBQ3BDLE9BQU9uRCxFQUFLbUQsRUFBVSxFQUFHLElBR3JCQyxFQUFnQixTQUFVQyxFQUFHQyxFQUFHTCxHQUdwQyxJQUFJTSxFQUFPTixFQUFNakQsRUFBS2lELEVBQUssRUFBRyxHQUU5QixPQURBSyxFQUFJSixFQUFhSSxHQUFLQyxFQUNkRixFQUFJdEQsRUFBSXdELEdBQVFELEdBbUNiRSxFQUFXLFNBQVhBLEVBQXFCQyxFQUFNQyxFQUFRN0IsRUFBR0MsRUFBRzZCLEVBQVVDLEdBRTlELElBQUlULEVBREpRLEVBQVdULEVBQWFTLEdBRXBCQyxFQUFPLElBQ1RULEVBaEJxQixTQUFVTyxFQUFRQyxHQUN6QyxJQUFJRSxFQUFjL0QsS0FBS2dFLE1BQU1KLEVBQU9yQyxPQUFTVSxFQUFRUyxLQUNqRHVCLEVBQWNqRSxLQUFLZ0UsTUFBTUosRUFBT3JDLE9BQVNVLEVBQVFTLEtBQ2pEd0IsRUFBU0gsRUFBYzlCLEVBQVFjLFVBQWNjLEVBQVc1QixFQUFRYyxVQU1wRSxPQUxha0IsRUFBY2hDLEVBQVFlLFVBQWNhLEVBQVc1QixFQUFRZSxXQUlwRC9DLEVBQUlDLEVBQUtnRSxFQUFPLEVBQUcsSUFDUkEsRUFPZEMsQ0FBaUJQLEVBQVFDLElBR3RDUixFQXZDb0IsU0FBVU0sRUFBTTVCLEVBQUdDLEVBQUdxQixHQUMxQyxJQUFLLElBQUl6RixFQUFJLEVBQUdBLEVBQUksRUFBR0EsR0FBSyxFQUFHLENBQzdCLElBQUl1RixFQUFNLEdBQUt2RixFQUNYd0csRUFBTyxHQUFNeEcsRUFBSSxFQUNqQlMsRUFBSTZFLEVBQU9uQixFQUFHQyxFQUFHcEUsR0FHckIsR0FBSytGLEVBQUtVLE9BQU9oRyxFQUFFMEQsRUFBRzFELEVBQUUyRCxHQUduQixDQUNILElBQUlzQyxFQUFtQlgsRUFBS2xGLElBQUlKLEVBQUUwRCxFQUFHMUQsRUFBRTJELEdBQ2QsSUFBckJzQyxJQUNGakIsRUFBV0MsRUFBY0QsRUFBVWlCLEVBQWtCbkIsU0FMdkRFLEdBQVlwRCxFQUFJa0QsRUFBTWlCLEdBUzFCLE9BQU9mLEVBc0JJa0IsQ0FBY1osRUFBTTVCLEVBQUdDLEVBQUdxQixHQUNyQ00sRUFBS2EsSUFBSXpDLEVBQUdDLEVBQUdxQixHQUdmLElBQUssSUFBSXpGLEVBQUksRUFBR0EsRUFBSSxFQUFHQSxJQUFLLENBQzFCLElBQUl1RixFQUFNLEdBQUt2RixFQUNYUyxFQUFJNkUsRUFBT25CLEVBQUdDLEVBQUdwRSxHQUNyQixHQUFLK0YsRUFBS1UsT0FBT2hHLEVBQUUwRCxFQUFHMUQsRUFBRTJELEdBQXhCLENBR0EsSUFBSXNDLEVBQW1CWCxFQUFLbEYsSUFBSUosRUFBRTBELEVBQUcxRCxFQUFFMkQsR0FDRCxJQUFwQnFCLEVBQVdGLElBQ1RBLElBQVFVLEdBQ1UsSUFBckJTLEdBRWZaLEVBQVNDLEVBQU1DLEVBQVF2RixFQUFFMEQsRUFBRzFELEVBQUUyRCxFQUFHbUIsRUFBS1csRUFBTyxNLDBLQ3JHOUJXLEUsV0FDbkIsV0FBWUMsSSw0RkFBUyxTQUNuQjVELEtBQUs2RCxNQUFRLEtBQ2I3RCxLQUFLOEQsTUFBUSxLQUNiOUQsS0FBSzRELFFBQVVBLEVBQ2Y1RCxLQUFLNEQsUUFBUUcsaUJBQ1gsYUFBYy9ELEtBQUtnRSxpQkFBaUIxRixLQUFLMEIsT0FBTyxHQUNsREEsS0FBSzRELFFBQVFHLGlCQUNYLFlBQWEvRCxLQUFLaUUsZ0JBQWdCM0YsS0FBSzBCLE9BQU8sRyxnRUFHakNrRSxHQUNmbEUsS0FBSzZELE1BQVFLLEVBQU1DLFFBQVEsR0FBR0MsUUFDOUJwRSxLQUFLOEQsTUFBUUksRUFBTUMsUUFBUSxHQUFHRSxVLHNDQUdoQkgsR0FDZCxHQUFLbEUsS0FBSzZELE9BQVU3RCxLQUFLOEQsT0FBVTlELEtBQUtzRSxRQUF4QyxDQUlBLElBQUlDLEVBQU1MLEVBQU1DLFFBQVEsR0FBR0MsUUFDdkJJLEVBQU1OLEVBQU1DLFFBQVEsR0FBR0UsUUFFM0JyRSxLQUFLeUUsTUFBUXpFLEtBQUs2RCxNQUFRVSxFQUMxQnZFLEtBQUswRSxNQUFRMUUsS0FBSzhELE1BQVFVLEVBRXRCdEYsS0FBS3lGLElBQUkzRSxLQUFLeUUsT0FBU3ZGLEtBQUt5RixJQUFJM0UsS0FBSzBFLE9BQ25DMUUsS0FBS3lFLE1BQVEsRUFDZnpFLEtBQUtzRSxRQUFRSixFQUFPLGFBRXBCbEUsS0FBS3NFLFFBQVFKLEVBQU8sY0FHbEJsRSxLQUFLMEUsTUFBUSxFQUNmMUUsS0FBS3NFLFFBQVFKLEVBQU8sV0FFcEJsRSxLQUFLc0UsUUFBUUosRUFBTyxhQUl4QmxFLEtBQUs2RCxNQUFRLEtBQ2I3RCxLQUFLOEQsTUFBUSxXLHNNQ3RDakIsSUNBSWMsRURBRUMsRUFBUSxDQUVaQyxVQUFXLEVBRVhDLE1BQU8sR0FDUEMsV0FBWSxJQUdSbEMsRUFBUyxJQUFJNUMsRUFBTytFLE9BQU9DLFNBQVNDLEtBQUtDLE9BQU8sSUFFaERDLEVBQWEsU0FBVUMsRUFBS0MsRUFBSUMsRUFBSUMsRUFBSUMsR0FDNUNKLEVBQUlLLFlBQ0pMLEVBQUlNLE9BQU9MLEVBQUlDLEdBQ2ZGLEVBQUlPLE9BQU9KLEVBQUlDLEdBQ2ZKLEVBQUlRLFVBK0JBQyxFQUFZLENBQUMzRCxPQUFRLENBQUNuQixFQUFHLEVBQUdDLEdBQUksR0FBSXlCLEtBQU14QixFQUFRVSxPQUNsRG1FLEVBQVcsQ0FBQzVELE9BQVEsQ0FBQ25CLEVBQUcsRUFBR0MsRUFBRyxHQUFJeUIsS0FBTXhCLEVBQVFXLE1BQ2hEbUUsRUFBWSxDQUFDN0QsT0FBUSxDQUFDbkIsRUFBRyxFQUFHQyxFQUFHLEdBQUl5QixLQUFNeEIsRUFBUVksT0FDakRtRSxFQUFXLENBQUM5RCxPQUFRLENBQUNuQixHQUFJLEVBQUdDLEVBQUcsR0FBSXlCLEtBQU14QixFQUFRYSxNQUVsQ21FLEUsV0FDbkIsV0FBWUMsR0FBUSxZLDRGQUFBLFNBQ2xCcEcsS0FBS29HLE9BQVNBLEVBQ2RwRyxLQUFLb0csT0FBT3hGLE1BQVFxRSxPQUFPb0IsV0FDM0JyRyxLQUFLb0csT0FBT3ZGLE9BQVNvRSxPQUFPcUIsWUFDNUJ0RyxLQUFLc0YsSUFBTXRGLEtBQUtvRyxPQUFPRyxXQUFXLE1BQ2xDdkcsS0FBSzZDLEtBQU8sSUFBSWxDLEVBQ2ROLFNBQVMrRixFQUFPeEYsTUFBUWlFLEVBQU1FLE1BQVFGLEVBQU1DLFdBQzVDekUsU0FBUytGLEVBQU92RixPQUFTZ0UsRUFBTUUsTUFBUUYsRUFBTUMsWUFDL0M5RSxLQUFLd0csUUFDTHZCLE9BQU9sQixpQkFBaUIsVUFBVyxTQUFDMEMsR0FBRCxPQUFPLEVBQUtDLFlBQVlELEVBQUdBLEVBQUVwSSxPQUNwRCxJQUFJc0YsRUFBTXNCLE9BQU8wQixTQUFTQyxNQUNoQ3RDLFFBQVUsU0FBQ21DLEVBQUdJLEdBQUosT0FBaUIsRUFBS0gsWUFBWUQsRUFBR0ksSSxxREFFakRDLEdBQ0FBLEdBQ0Y3QixPQUFPOEIsUUFBUUMsVUFBVSxLQUFNLEtBQU0sSUFBTWxFLEVBQU9tRSxZQUNwRGpILEtBQUs2QyxLQUFLMkQsUUFDVixJQUFNVSxFQUFVN0csU0FBU0wsS0FBSzZDLEtBQUtqQyxNQUFRLEdBQ3JDdUcsRUFBVTlHLFNBQVNMLEtBQUs2QyxLQUFLaEMsT0FBUyxHQUM1QytCLEVBQVM1QyxLQUFLNkMsS0FBTUMsRUFBUW9FLEVBQVNDLEVBQVMsRUFBR3RDLEVBQU1HLFlBQ3ZEaEYsS0FBS29ILE9BQVMsQ0FBRUMsSUFBSyxDQUFFcEcsRUFBR2lHLEVBQVNoRyxFQUFHaUcsSUFDdENuSCxLQUFLc0gsZUFDTHRILEtBQUt1SCxTLHFDQUtMLElBRkF2SCxLQUFLd0gsUUFBVSxFQUFJdEksS0FBS3VJLE1BQXNCLEVBQWhCM0UsRUFBT3JDLFFBQ3JDVCxLQUFLMEgsS0FBTyxHQUNMMUgsS0FBSzBILEtBQUsvSCxPQUFTSyxLQUFLd0gsU0FBUyxDQUN0QyxJQUFJRyxFQUFNLENBQ1IxRyxFQUFHWixTQUFTeUMsRUFBT3JDLE9BQVNULEtBQUs2QyxLQUFLakMsT0FDdENNLEVBQUdiLFNBQVN5QyxFQUFPckMsT0FBU1QsS0FBSzZDLEtBQUtoQyxTQUVKLElBQWhDYixLQUFLNkMsS0FBS2xGLElBQUlnSyxFQUFJMUcsRUFBRzBHLEVBQUl6RyxJQUMzQmxCLEtBQUswSCxLQUFLRSxLQUFLRCxNLG1DQUlSRSxHQUNYLElKdkU2QkMsRUFBWUMsRUFFdkNDLEVBREFDLEVJc0VFQyxFQUFRbEksS0FBS29ILE9BQU9DLElBQUlwRyxFQUN4QmtILEVBQVFuSSxLQUFLb0gsT0FBT0MsSUFBSW5HLEVKeEVDNEcsRUl5RXJCLElKekVpQ0MsRUl5RTVCLFNBQVVLLEdBQ3JCcEksS0FBS29ILE9BQU9DLElBQUlwRyxFQUFJaUgsRUFBUUwsRUFBWTVHLEVBQUltSCxFQUM1Q3BJLEtBQUtvSCxPQUFPQyxJQUFJbkcsRUFBSWlILEVBQVFOLEVBQVkzRyxFQUFJa0gsRUFDOUIsSUFBVkEsR0FDRnBJLEtBQUtxSSxxQkFFUHJJLEtBQUt1SCxRQUNMakosS0FBSzBCLE1KL0VMaUksRUFBVSxLQUVkRCxFQUFpQixTQUFTTSxHQUNSLE9BQVpMLElBQWtCQSxFQUFVSyxHQUNoQyxJQUFJRixHQUFTRSxFQUFZTCxHQUFXSCxFQUNoQ00sRUFBUSxHQUNWTCxFQUFRSyxHQUNSbkQsT0FBT3NELHNCQUFzQlAsSUFHN0JELEVBQVEsSUFHWjlDLE9BQU9zRCxzQkFBc0JQLEssaUNJb0VsQjNGLEdBQ1QsSUFBSW1HLEVBQVMsQ0FDWHZILEVBQUdqQixLQUFLb0gsT0FBT0MsSUFBSXBHLEVBQUlvQixFQUFJRCxPQUFPbkIsRUFDbENDLEVBQUdsQixLQUFLb0gsT0FBT0MsSUFBSW5HLEVBQUltQixFQUFJRCxPQUFPbEIsR0FFaEN1SCxFQUFXekksS0FBSzZDLEtBQUtsRixJQUFJcUMsS0FBS29ILE9BQU9DLElBQUlwRyxFQUFHakIsS0FBS29ILE9BQU9DLElBQUluRyxHQUU1RHdILEVBQWtELElBRHpDMUksS0FBSzZDLEtBQUtsRixJQUFJNkssRUFBT3ZILEVBQUd1SCxFQUFPdEgsR0FDbEJvQixFQUFhRCxFQUFJTSxPQUNDLElBQXpCOEYsRUFBV3BHLEVBQUlNLE9BQ2YrRixHQUNqQjFJLEtBQUsySSxhQUFhdEcsRUFBSUQsVSwyQ0FJeEJwQyxLQUFLMEgsS0FBTzFILEtBQUswSCxLQUFLa0IsT0FBTyxTQUFVakIsR0FDckMsUUFBU0EsRUFBSTFHLElBQU1qQixLQUFLb0gsT0FBT0MsSUFBSXBHLEdBQUswRyxFQUFJekcsSUFBTWxCLEtBQUtvSCxPQUFPQyxJQUFJbkcsSUFDbEU1QyxLQUFLMEIsT0FDa0IsSUFBckJBLEtBQUswSCxLQUFLL0gsUUFDWkssS0FBS3dHLE9BQU0sSyxrQ0FHSEMsRUFBR29DLEdBQ2IsT0FBUUEsR0FDTixJQUFLLFVBQ0wsSUFBSyxVQUNIN0ksS0FBSzhJLFdBQVcvQyxHQUNoQlUsRUFBRXNDLGlCQUNGLE1BQ0YsSUFBSyxZQUNMLElBQUssWUFDSC9JLEtBQUs4SSxXQUFXN0MsR0FDaEJRLEVBQUVzQyxpQkFDRixNQUNGLElBQUssWUFDTCxJQUFLLFlBQ0gvSSxLQUFLOEksV0FBVzVDLEdBQ2hCTyxFQUFFc0MsaUJBQ0YsTUFDRixJQUFLLGFBQ0wsSUFBSyxhQUNIL0ksS0FBSzhJLFdBQVc5QyxHQUNoQlMsRUFBRXNDLG9CLDZCQUtOL0ksS0FBS2dKLFNBQVNoSixLQUFLc0YsS0FDbkJ0RixLQUFLaUosU0FBU2pKLEtBQUtzRixLQUNuQnRGLEtBQUtrSixXQUFXbEosS0FBS3NGLE8sK0JBRWRBLEdBQ1BBLEVBQUk2RCxPQUNKN0QsRUFBSThELE1BQU12RSxFQUFNRSxNQUFPRixFQUFNRSxPQUM3Qk8sRUFBSStELFVBQVksUUFDaEIvRCxFQUFJZ0UsU0FBUyxFQUFHLEVBQUd0SixLQUFLb0csT0FBT3hGLE1BQU9aLEtBQUtvRyxPQUFPdkYsUUFDbEQsSUFBSyxJQUFJMEksRUFBSyxFQUFHQSxFQUFLdkosS0FBSzZDLEtBQUtqQyxNQUFPMkksSUFDckMsSUFBSyxJQUFJQyxFQUFLLEVBQUdBLEVBQUt4SixLQUFLNkMsS0FBS2hDLE9BQVEySSxJQUN0Q3hKLEtBQUt5SixTQUFTbkUsRUFBS2lFLEVBQUlDLEdBRzNCbEUsRUFBSW9FLFksaUNBRUtwRSxHQUNUQSxFQUFJNkQsT0FDSjdELEVBQUkrRCxVQUFZLHdCQUNoQixJQUFJTSxFQUFhOUUsRUFBTUMsVUFBWUQsRUFBTUUsTUFDckM2RSxFQUFnQyxHQUFiRCxFQUNuQkUsRUFBVTdKLEtBQUtvSCxPQUFPQyxJQUFJcEcsRUFBSTBJLEVBQzlCRyxFQUFVOUosS0FBS29ILE9BQU9DLElBQUluRyxFQUFJeUksRUFDbENyRSxFQUFJZ0UsU0FDRk8sRUFBVUQsRUFDVkUsRUFBVUYsRUFDVi9FLEVBQU1FLE1BQU9GLEVBQU1FLE9BQ3JCTyxFQUFJb0UsWSwrQkFFR3BFLEdBQ1BBLEVBQUk2RCxPQUNKN0QsRUFBSStELFVBQVksdUJBR2hCLElBRkEsSUFBSU0sRUFBYTlFLEVBQU1DLFVBQVlELEVBQU1FLE1BQ3JDNkUsRUFBZ0MsR0FBYkQsRUFDZDdNLEVBQUksRUFBR3lCLEVBQUl5QixLQUFLMEgsS0FBSy9ILE9BQVE3QyxFQUFJeUIsRUFBR3pCLElBQUssQ0FDaEQsSUFBSStNLEVBQVU3SixLQUFLMEgsS0FBSzVLLEdBQUdtRSxFQUFJMEksRUFDM0JHLEVBQVU5SixLQUFLMEgsS0FBSzVLLEdBQUdvRSxFQUFJeUksRUFDL0JyRSxFQUFJZ0UsU0FDRk8sRUFBVUQsRUFDVkUsRUFBVUYsRUFDVi9FLEVBQU1FLE1BQU9GLEVBQU1FLE9BRXZCTyxFQUFJb0UsWSwrQkFFR3BFLEVBQUtpRSxFQUFJQyxHQUNoQixJQUFJakgsRUFBV3ZDLEtBQUs2QyxLQUFLbEYsSUFBSTRMLEVBQUlDLEdBQ2pDLEdBQWdCLEdBQVpqSCxFQUFKLENBR0EsSUFBSXdILEVBQUtSLEVBQUsxRSxFQUFNQyxVQUNoQmtGLEVBQUtSLEVBQUszRSxFQUFNQyxVQUVwQlEsRUFBSTZELE9BQ0o3RCxFQUFJK0QsVUFBWSxzQkFDaEIvRCxFQUFJZ0UsU0FBU1MsRUFBSUMsRUFBSW5GLEVBQU1DLFVBQVdELEVBQU1DLFdBQzVDUSxFQUFJK0QsVUFBWSxtQkFDaEIvRCxFQUFJZ0UsU0FBU1MsRUFBSyxFQUFHQyxFQUFLLEVBQUduRixFQUFNQyxVQUFZLEVBQUdELEVBQU1DLFVBQVksR0FDcEVRLEVBQUkyRSxZQUFjLHNCQTFMRyxTQUFVM0UsRUFBS3lFLEVBQUlDLEVBQUl6SCxHQUM5QyxJQUFJMkgsRUFBV2hMLEtBQUt1SSxNQUFNNUMsRUFBTUMsVUFBWSxHQUNMLElBQWxDdkMsRUFBV3BCLEVBQVFDLFlBQ3RCaUUsRUFBV0MsRUFBS3lFLEVBQUtHLEVBQVVGLEVBQUssR0FBSUQsRUFBS2xGLEVBQU1DLFVBQVlvRixFQUFVRixFQUFLLElBRXpDLElBQWxDekgsRUFBV3BCLEVBQVFFLFlBQ3RCZ0UsRUFBV0MsRUFBS3lFLEVBQUssRUFBR0MsRUFBSyxHQUFJRCxFQUFLbEYsRUFBTUMsVUFBWSxFQUFHa0YsRUFBSyxJQUU1QixJQUFqQ3pILEVBQVdwQixFQUFRRyxXQUN0QitELEVBQVdDLEVBQUt5RSxFQUFLbEYsRUFBTUMsVUFBWSxHQUFJa0YsRUFBS0UsRUFBVUgsRUFBS2xGLEVBQU1DLFVBQVksR0FBSWtGLEVBQUtuRixFQUFNQyxVQUFZb0YsR0FFeEUsSUFBakMzSCxFQUFXcEIsRUFBUUksV0FDdEI4RCxFQUFXQyxFQUFLeUUsRUFBS2xGLEVBQU1DLFVBQVksR0FBSWtGLEVBQUssRUFBR0QsRUFBS2xGLEVBQU1DLFVBQVksR0FBSWtGLEVBQUtuRixFQUFNQyxVQUFZLEdBRWhFLElBQWxDdkMsRUFBV3BCLEVBQVFLLFlBQ3RCNkQsRUFBV0MsRUFBS3lFLEVBQUtHLEVBQVVGLEVBQUtuRixFQUFNQyxVQUFZLEdBQUlpRixFQUFLbEYsRUFBTUMsVUFBWW9GLEVBQVVGLEVBQUtuRixFQUFNQyxVQUFZLElBRTdFLElBQWxDdkMsRUFBV3BCLEVBQVFNLFlBQ3RCNEQsRUFBV0MsRUFBS3lFLEVBQUssRUFBR0MsRUFBS25GLEVBQU1DLFVBQVksR0FBSWlGLEVBQUtsRixFQUFNQyxVQUFZLEVBQUdrRixFQUFLbkYsRUFBTUMsVUFBWSxJQUVoRSxJQUFqQ3ZDLEVBQVdwQixFQUFRTyxXQUN0QjJELEVBQVdDLEVBQUt5RSxFQUFLLEdBQUlDLEVBQUtFLEVBQVVILEVBQUssR0FBSUMsRUFBS25GLEVBQU1DLFVBQVlvRixHQUVwQyxJQUFqQzNILEVBQVdwQixFQUFRUSxXQUN0QjBELEVBQVdDLEVBQUt5RSxFQUFLLEdBQUlDLEVBQUssRUFBR0QsRUFBSyxHQUFJQyxFQUFLbkYsRUFBTUMsVUFBWSxHQW1LakVxRixDQUFpQjdFLEVBQUt5RSxFQUFJQyxFQUFJekgsR0FDOUIrQyxFQUFJb0UsVUFFSnBFLEVBQUk2RCxPQUNKN0QsRUFBSTJFLFlBQWMsb0JBQ2xCM0UsRUFBSThELE1BQU0sRUFBSXZFLEVBQU1FLE1BQU8sRUFBSUYsRUFBTUUsT0FDckNPLEVBQUk4RSxXQUNGTCxFQUFLbEYsRUFBTUUsTUFBUSxHQUNuQmlGLEVBQUtuRixFQUFNRSxNQUFRLEdBQ25CRixFQUFNQyxVQUFZRCxFQUFNRSxNQUFRLEVBQ2hDRixFQUFNQyxVQUFZRCxFQUFNRSxNQUFRLEdBQ2xDTyxFQUFJb0UsZ0IsZ0NDeE5GVyxFQUFjMUQsU0FBUzJELGNBQWMsT0FFM0MxRixFQUFrQixTQUFDNkIsR0FDakI0RCxFQUFZRSxNQUFNQyxRQUFVLE9BQzVCSCxFQUFZSSxvQkFBb0IsUUFBUzdGLElBRTNDeUYsRUFBWUssVUFBVUMsSUFBSSxnQkFDMUJOLEVBQVl0RyxpQkFBaUIsUUFBU2EsR0FDdEN5RixFQUFZTyxVQUFaLHlLQVFBLElBQUl4RSxFQUFTTyxTQUFTMkQsY0FBYyxVQUNwQzNELFNBQVNDLEtBQUtpRSxZQUFZekUsR0FDMUJPLFNBQVNDLEtBQUtpRSxZQUFZUixHQUMxQnBGLE9BQU82RixLQUFPLElBQUkzRSxFQUFLQyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiODdmNTFjZDk3ZDRlM2Y0ZDU3NjMxOGM3Yjg0NDJiNzYuY3NzXCI7IiwiZXhwb3J0IGNvbnN0IGNsYW1wID0gZnVuY3Rpb24gKHZhbCwgbWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCB2YWwpKVxufVxuXG5leHBvcnQgY29uc3Qgbm90ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gIC8vIGphdmFzY3JpcHQgYml0d2lzZSBub3QgKH52YWx1ZSkgcmVzdWx0cyBpbiBzaWduIGJpdCBmbGlwXG4gIC8vIG1ha2luZyB2YWx1ZSBhIHNpZ25lZCB2YWx1ZSwgbWFrZSBpdCB1bnNpZ25lZFxuICByZXR1cm4gfnZhbHVlID4+PiAwXG59XG5cbmV4cG9ydCBjb25zdCByb3RsID0gZnVuY3Rpb24gKHZhbCwgc2hpZnRDb3VudCwgc2l6ZSkge1xuICAvLyByb3RhdGUgYml0cyBsZWZ0IGJ5IHNoaWZ0Q291bnQgYW5kIHdyYXAgYXQgc2l6ZVxuICBzaGlmdENvdW50ID0gc2hpZnRDb3VudCAlIHNpemVcbiAgbGV0IHNpemVNYXNrID0gKDEgPDwgc2l6ZSkgLSAxXG4gIHJldHVybiAoXG4gICAgKHZhbCA8PCBzaGlmdENvdW50KSAmIHNpemVNYXNrXG4gICAgfCAodmFsICYgc2l6ZU1hc2spID4+IChzaXplIC0gc2hpZnRDb3VudClcbiAgKVxufVxuXG4vLyBmdW5jdGlvbiBmcmFtZUZuKGRlbHRhKVxuLy8gZGVsdGEgaXMgYSBkb3VibGUgZnJvbSAwIHRvIDFcbmV4cG9ydCBjb25zdCByb3V0aW5lID0gZnVuY3Rpb24gKGR1cmF0aW9uTXMsIGZyYW1lRm4pIHtcbiAgbGV0IGluaXRpYWwgPSBudWxsXG4gIGxldCBmcmFtZUZuV3JhcHBlcjtcbiAgZnJhbWVGbldyYXBwZXIgPSBmdW5jdGlvbih0aW1lc3RhbXApIHtcbiAgICBpZiAoaW5pdGlhbCA9PT0gbnVsbCkgaW5pdGlhbCA9IHRpbWVzdGFtcFxuICAgIGxldCBkZWx0YSA9ICh0aW1lc3RhbXAgLSBpbml0aWFsKSAvIGR1cmF0aW9uTXNcbiAgICBpZiAoZGVsdGEgPCAxKSB7XG4gICAgICBmcmFtZUZuKGRlbHRhKVxuICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZUZuV3JhcHBlcilcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBmcmFtZUZuKDEpXG4gICAgfVxuICB9XG4gIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnJhbWVGbldyYXBwZXIpXG59XG5cblxuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTIxMjk1L3NlZWRpbmctdGhlLXJhbmRvbS1udW1iZXItZ2VuZXJhdG9yLWluLWphdmFzY3JpcHRcbmV4cG9ydCBjb25zdCB4bXVyMyA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGggPSAxNzc5MDMzNzAzIF4gc3RyLmxlbmd0aDsgaSA8IHN0ci5sZW5ndGg7IGkrKylcbiAgICBoID0gTWF0aC5pbXVsKGggXiBzdHIuY2hhckNvZGVBdChpKSwgMzQzMjkxODM1MyksXG4gICAgICBoID0gaCA8PCAxMyB8IGggPj4+IDE5O1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGggPSBNYXRoLmltdWwoaCBeIGggPj4+IDE2LCAyMjQ2ODIyNTA3KTtcbiAgICBoID0gTWF0aC5pbXVsKGggXiBoID4+PiAxMywgMzI2NjQ4OTkwOSk7XG4gICAgcmV0dXJuIChoIF49IGggPj4+IDE2KSA+Pj4gMDtcbiAgfVxufVxuXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81MjEyOTUvc2VlZGluZy10aGUtcmFuZG9tLW51bWJlci1nZW5lcmF0b3ItaW4tamF2YXNjcmlwdFxuZXhwb3J0IGNsYXNzIE11bGJlcnJ5MzIge1xuICBjb25zdHJ1Y3RvcihzZWVkKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHNlZWRcbiAgfVxuICBuZXh0KCkge1xuICAgIGxldCB0ID0gdGhpcy5zdGF0ZSArPSAweDZEMkI3OUY1XG4gICAgdCA9IE1hdGguaW11bCh0IF4gdCA+Pj4gMTUsIHQgfCAxKVxuICAgIHQgXj0gdCArIE1hdGguaW11bCh0IF4gdCA+Pj4gNywgdCB8IDYxKVxuICAgIHJldHVybiAoKHQgXiB0ID4+PiAxNCkgPj4+IDApIC8gNDI5NDk2NzI5NVxuICB9XG59XG5cbi8vIFNlZWRhYmxlIHJhbmRvbSB3aXRoIHN0YXRlXG5leHBvcnQgY2xhc3MgUmFuZG9tIHtcbiAgY29uc3RydWN0b3IoaW5pdFNlZWQpIHtcbiAgICBpZiAoaW5pdFNlZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaW5pdFNlZWQgPSBwYXJzZUludChpbml0U2VlZCwgMzYpXG4gICAgfVxuICAgIGlmICghaW5pdFNlZWQpIHtcbiAgICAgIGluaXRTZWVkID0gKG5ldyBEYXRlKCkpLnRvSVNPU3RyaW5nKClcbiAgICAgIGluaXRTZWVkID0geG11cjMoaW5pdFNlZWQpKClcbiAgICB9XG4gICAgdGhpcy5nZW5lcmF0b3IgPSBuZXcgTXVsYmVycnkzMihpbml0U2VlZClcbiAgfVxuICBuZXh0KCkge1xuICAgIHJldHVybiB0aGlzLmdlbmVyYXRvci5uZXh0KClcbiAgfVxuICBnZXRTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZW5lcmF0b3Iuc3RhdGUudG9TdHJpbmcoMzYpXG4gIH1cbn1cbiIsImltcG9ydCB7Y2xhbXB9IGZyb20gXCIuL3V0aWxzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JpZCB7XG4gIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQpIHtcbiAgICB0aGlzLndpZHRoID0gd2lkdGhcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodFxuICAgIHRoaXMuY2VsbHMgPSBuZXcgQXJyYXkodGhpcy53aWR0aCAqIHRoaXMuaGVpZ2h0KS5maWxsKDApXG4gIH1cblxuICByZXNldCAoKSB7XG4gICAgdGhpcy5jZWxscyA9IG5ldyBBcnJheSh0aGlzLndpZHRoICogdGhpcy5oZWlnaHQpLmZpbGwoMClcbiAgfVxuXG4gIHdpdGhpbiAoeCwgeSkge1xuICAgIHJldHVybiB4ID49IDAgJiYgeCA8IHRoaXMud2lkdGggJiYgeSA+PSAwICYmIHkgPCB0aGlzLmhlaWdodFxuICB9XG5cbiAgc2V0ICh4LCB5LCB2YWx1ZSkge1xuICAgIHggPSBjbGFtcCh4LCAwLCB0aGlzLndpZHRoIC0gMSlcbiAgICB5ID0gY2xhbXAoeSwgMCwgdGhpcy5oZWlnaHQgLSAxKVxuICAgIHRoaXMuY2VsbHNbeSAqIHRoaXMud2lkdGggKyB4XSA9IHZhbHVlXG4gIH1cblxuICBnZXQgKHgsIHkpIHtcbiAgICB4ID0gY2xhbXAoeCwgMCwgdGhpcy53aWR0aCAtIDEpXG4gICAgeSA9IGNsYW1wKHksIDAsIHRoaXMuaGVpZ2h0IC0gMSlcbiAgICByZXR1cm4gdGhpcy5jZWxsc1t5ICogdGhpcy53aWR0aCArIHhdXG4gIH1cbn1cbiIsImltcG9ydCB7IG5vdCwgcm90bCB9IGZyb20gXCIuL3V0aWxzXCJcblxuLy8gZW51bSBmb3Igcm9vbSBmZWF0dXJlcyxcbi8vICpfRE9PUjogcm9vbSBoYXMgYSBkb29yIGF0IGRpcmVjdGlvblxuLy8gKl9XQUxMOiByb29tIGlzIG9wZW4gYXQgZGlyZWN0aW9uXG4vLyBET09SIGFuZCBXQUxMIGFyZSBpbnRlcmxlYXZlZCBzbyBhIHNoaWZ0IGJ5IDQgd2lsbCByZXN1bHQgaW4gYSBmZWF0dXJlIGluXG4vLyB0aGUgb3Bwb3NpdGUgZGlyZWN0aW9uLiBTaW1wbGlmaWVkOiBOb3J0aERvb3IgPDwgNCA9PSBTb3V0aERvb3JcbmV4cG9ydCBjb25zdCBGZWF0dXJlID0ge1xuICBOb3J0aERvb3I6IDIgKiogMCxcbiAgTm9ydGhXYWxsOiAyICoqIDEsXG4gIEVhc3REb29yOiAyICoqIDIsXG4gIEVhc3RXYWxsOiAyICoqIDMsXG4gIFNvdXRoRG9vcjogMiAqKiA0LFxuICBTb3V0aFdhbGw6IDIgKiogNSxcbiAgV2VzdERvb3I6IDIgKiogNixcbiAgV2VzdFdhbGw6IDIgKiogNyxcbiAgQUxMOiAyNTZcbn1cbkZlYXR1cmUuTm9ydGggPSBGZWF0dXJlLk5vcnRoRG9vciB8IEZlYXR1cmUuTm9ydGhXYWxsXG5GZWF0dXJlLkVhc3QgPSBGZWF0dXJlLkVhc3REb29yIHwgRmVhdHVyZS5FYXN0V2FsbFxuRmVhdHVyZS5Tb3V0aCA9IEZlYXR1cmUuU291dGhEb29yIHwgRmVhdHVyZS5Tb3V0aFdhbGxcbkZlYXR1cmUuV2VzdCA9IEZlYXR1cmUuV2VzdERvb3IgfCBGZWF0dXJlLldlc3RXYWxsXG5GZWF0dXJlLkRPT1JfTUFTSyA9IEZlYXR1cmUuTm9ydGhEb29yIHwgRmVhdHVyZS5FYXN0RG9vciB8IEZlYXR1cmUuU291dGhEb29yIHwgRmVhdHVyZS5XZXN0RG9vclxuRmVhdHVyZS5XQUxMX01BU0sgPSBGZWF0dXJlLk5vcnRoV2FsbCB8IEZlYXR1cmUuRWFzdFdhbGwgfCBGZWF0dXJlLlNvdXRoV2FsbCB8IEZlYXR1cmUuV2VzdFdhbGxcblxuLy8gdXNlZCB3aGVuIHRlc3RpbmcgZm9yIHJvb21zIGF0IGdyaWQgY29vcmRpbmF0ZXNcbmNvbnN0IE9GRlNFVCA9IFtcbiAgeyB4OiAwLCB5OiAtMSB9LCB7IHg6IDAsIHk6IC0xIH0sIHsgeDogMSwgeTogMCB9LCB7IHg6IDEsIHk6IDAgfSxcbiAgeyB4OiAwLCB5OiAxIH0sIHsgeDogMCwgeTogMSB9LCB7IHg6IC0xLCB5OiAwIH0sIHsgeDogLTEsIHk6IDAgfVxuXVxuXG5jb25zdCBvZmZzZXQgPSBmdW5jdGlvbiAoeCwgeSwgZGlyKSB7XG4gIHJldHVybiB7IHg6IHggKyBPRkZTRVRbZGlyXS54LCB5OiB5ICsgT0ZGU0VUW2Rpcl0ueSB9XG59XG5cbmV4cG9ydCBjb25zdCBzaGlmdEZlYXR1cmUgPSBmdW5jdGlvbiAoZmVhdHVyZXMpIHtcbiAgcmV0dXJuIHJvdGwoZmVhdHVyZXMsIDQsIDgpXG59XG5cbmNvbnN0IG1lcmdlRmVhdHVyZXMgPSBmdW5jdGlvbiAoYSwgYiwgZGlyKSB7XG4gIC8vIG1hc2sgaXMgZXhwZWN0ZWQgdG8gYmUgYSBzaW5nbGUgc2V0IGJpdCwgb25lIG9mIHRoZSAqX0RPT1IgYml0cy5cbiAgLy8gdGhpcyBpcyBhZGRpbmcgdGhlIGNvcnJlc3BvbmRpbmcgKl9XQUxMIGJpdFxuICBsZXQgbWFzayA9IGRpciB8IHJvdGwoZGlyLCAxLCA4KVxuICBiID0gc2hpZnRGZWF0dXJlKGIpICYgbWFza1xuICByZXR1cm4gKGEgJiBub3QobWFzaykgfCBiKVxufVxuXG5jb25zdCBtZXJnZUFkamFjZW50ID0gZnVuY3Rpb24gKGdyaWQsIHgsIHksIGZlYXR1cmVzKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSArPSAyKSB7XG4gICAgbGV0IGRpciA9IDEgPDwgaVxuICAgIGxldCBkaXIxID0gMSA8PCAoaSArIDEpXG4gICAgbGV0IG8gPSBvZmZzZXQoeCwgeSwgaSlcbiAgICAvLyBpZiB0aGUgb2Zmc2V0IGlzIG91dHNpZGUgb2YgdGhlIGdyaWQsIHJlbW92ZSBhbnkgY29ubmVjdGluZyBmZWF0dXJlc1xuICAgIC8vIGluIHRoYXQgZGlyZWN0aW9uXG4gICAgaWYgKCFncmlkLndpdGhpbihvLngsIG8ueSkpIHtcbiAgICAgIGZlYXR1cmVzICY9IG5vdChkaXIgfCBkaXIxKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGxldCBleGlzdGluZ0ZlYXR1cmVzID0gZ3JpZC5nZXQoby54LCBvLnkpXG4gICAgICBpZiAoZXhpc3RpbmdGZWF0dXJlcyAhPT0gMCkge1xuICAgICAgICBmZWF0dXJlcyA9IG1lcmdlRmVhdHVyZXMoZmVhdHVyZXMsIGV4aXN0aW5nRmVhdHVyZXMsIGRpcilcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZlYXR1cmVzO1xufVxuXG5jb25zdCBnZW5lcmF0ZUZlYXR1cmVzID0gZnVuY3Rpb24gKHJhbmRvbSwgcHJldmlvdXMpIHtcbiAgbGV0IHJhbmRvbURvb3JzID0gTWF0aC5mbG9vcihyYW5kb20ubmV4dCgpICogRmVhdHVyZS5BTEwpXG4gIGxldCByYW5kb21XYWxscyA9IE1hdGguZmxvb3IocmFuZG9tLm5leHQoKSAqIEZlYXR1cmUuQUxMKVxuICBsZXQgZG9vcnMgPSAocmFuZG9tRG9vcnMgJiBGZWF0dXJlLkRPT1JfTUFTSykgfCAocHJldmlvdXMgJiBGZWF0dXJlLkRPT1JfTUFTSylcbiAgbGV0IHdhbGxzID0gKHJhbmRvbVdhbGxzICYgRmVhdHVyZS5XQUxMX01BU0spIHwgKHByZXZpb3VzICYgRmVhdHVyZS5XQUxMX01BU0spXG4gIC8vIGNvbWJpbmUgZG9vcnMgYW5kIHdhbGxzXG4gIC8vIHNoaWZ0IGRvb3IgYml0cyBpbnRvIHdhbGwgYml0cyBhbmQgaW52ZXJ0IGZvciBhIG1hc2sgdG8gbm90XG4gIC8vIHBsYWNlIHdhbGxzIHdlcmUgdGhlcmUgYXJlIGRvb3JzXG4gIGxldCBkb29yX21hc2sgPSBub3Qocm90bChkb29ycywgMSwgOCkpXG4gIHJldHVybiB3YWxscyAmIGRvb3JfbWFzayB8IGRvb3JzXG59XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZSA9IGZ1bmN0aW9uIChncmlkLCByYW5kb20sIHgsIHksIHByZXZpb3VzLCBpdGVyKSB7XG4gIHByZXZpb3VzID0gc2hpZnRGZWF0dXJlKHByZXZpb3VzKVxuICBsZXQgZmVhdHVyZXMgPSBwcmV2aW91c1xuICBpZiAoaXRlciA+IDApIHtcbiAgICBmZWF0dXJlcyA9IGdlbmVyYXRlRmVhdHVyZXMocmFuZG9tLCBwcmV2aW91cylcbiAgfVxuICAvLyBmaXJzdCBwYXNzIG1lcmdlcyBzdXJyb3VuZGluZyBvcHBvc2luZyBmZWF0dXJlc1xuICBmZWF0dXJlcyA9IG1lcmdlQWRqYWNlbnQoZ3JpZCwgeCwgeSwgZmVhdHVyZXMpXG4gIGdyaWQuc2V0KHgsIHksIGZlYXR1cmVzKVxuICAvLyBzZWNvbmQgcGFzcyByZWN1cnNlcyBpZiBncmlkIHBvc2l0aW9uIGlzIGZyZWVcbiAgLy8gYW5kIGdlbmVyYXRlcyBtb3JlIHJhbmRvbSBmZWF0dXJlc1xuICBmb3IgKHZhciBpID0gMDsgaSA8IDg7IGkrKykge1xuICAgIGxldCBkaXIgPSAxIDw8IGlcbiAgICBsZXQgbyA9IG9mZnNldCh4LCB5LCBpKVxuICAgIGlmICghZ3JpZC53aXRoaW4oby54LCBvLnkpKSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cbiAgICBsZXQgZXhpc3RpbmdGZWF0dXJlcyA9IGdyaWQuZ2V0KG8ueCwgby55KVxuICAgIGxldCBoYXNGZWF0dXJlID0gKGZlYXR1cmVzICYgZGlyKSAhPT0gMFxuICAgIGxldCBpc05vdFByZXZpb3VzID0gZGlyICE9PSBwcmV2aW91c1xuICAgIGxldCBncmlkSXNGcmVlID0gZXhpc3RpbmdGZWF0dXJlcyA9PT0gMFxuICAgIGlmIChoYXNGZWF0dXJlICYmIGlzTm90UHJldmlvdXMgJiYgZ3JpZElzRnJlZSkge1xuICAgICAgZ2VuZXJhdGUoZ3JpZCwgcmFuZG9tLCBvLngsIG8ueSwgZGlyLCBpdGVyIC0gMSlcbiAgICB9XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFN3aXBlIHtcbiAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgIHRoaXMueERvd24gPSBudWxsXG4gICAgdGhpcy55RG93biA9IG51bGxcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50XG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAndG91Y2hzdGFydCcsIHRoaXMuaGFuZGxlVG91Y2hTdGFydC5iaW5kKHRoaXMpLCBmYWxzZSlcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICd0b3VjaG1vdmUnLCB0aGlzLmhhbmRsZVRvdWNoTW92ZS5iaW5kKHRoaXMpLCBmYWxzZSlcbiAgfVxuXG4gIGhhbmRsZVRvdWNoU3RhcnQoZXZlbnQpIHtcbiAgICB0aGlzLnhEb3duID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYXG4gICAgdGhpcy55RG93biA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WVxuICB9XG5cbiAgaGFuZGxlVG91Y2hNb3ZlKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLnhEb3duIHx8ICF0aGlzLnlEb3duIHx8ICF0aGlzLm9uU3dpcGUpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHZhciB4VXAgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFhcbiAgICB2YXIgeVVwID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZXG5cbiAgICB0aGlzLnhEaWZmID0gdGhpcy54RG93biAtIHhVcFxuICAgIHRoaXMueURpZmYgPSB0aGlzLnlEb3duIC0geVVwXG5cbiAgICBpZiAoTWF0aC5hYnModGhpcy54RGlmZikgPiBNYXRoLmFicyh0aGlzLnlEaWZmKSkgeyAvLyBNb3N0IHNpZ25pZmljYW50LlxuICAgICAgaWYgKHRoaXMueERpZmYgPiAwKSB7XG4gICAgICAgIHRoaXMub25Td2lwZShldmVudCwgXCJTd2lwZUxlZnRcIilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub25Td2lwZShldmVudCwgXCJTd2lwZVJpZ2h0XCIpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLnlEaWZmID4gMCkge1xuICAgICAgICB0aGlzLm9uU3dpcGUoZXZlbnQsIFwiU3dpcGVVcFwiKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vblN3aXBlKGV2ZW50LCBcIlN3aXBlRG93blwiKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMueERvd24gPSBudWxsXG4gICAgdGhpcy55RG93biA9IG51bGxcbiAgfVxufVxuIiwiaW1wb3J0IHsgcm91dGluZSwgUmFuZG9tIH0gZnJvbSBcIi4vdXRpbHNcIlxuaW1wb3J0IEdyaWQgZnJvbSBcIi4vZ3JpZFwiXG5pbXBvcnQgeyBGZWF0dXJlLCBnZW5lcmF0ZSwgc2hpZnRGZWF0dXJlIH0gZnJvbSBcIi4vbWF6ZWdlblwiXG5pbXBvcnQgU3dpcGUgZnJvbSBcIi4vc3dpcGVcIlxuY29uc3QgUGFyYW0gPSB7XG4gIC8vIHdpZHRoIGFuZCBoZWlnaHQgb2Ygcm9vbXMgaW4gcGl4ZWxzXG4gIFJPT01fU0laRTogNSxcbiAgLy8gbGFyZ2VyIHNjYWxlIGZvciBiaWdnZXIgcGl4ZWxzXG4gIFNDQUxFOiAzMixcbiAgSVRFUkFUSU9OUzogMTJcbn1cblxuY29uc3QgcmFuZG9tID0gbmV3IFJhbmRvbSh3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHIoMSkpXG5cbmNvbnN0IHN0cm9rZVBhdGggPSBmdW5jdGlvbiAoY3R4LCB4MSwgeTEsIHgyLCB5Mikge1xuICBjdHguYmVnaW5QYXRoKClcbiAgY3R4Lm1vdmVUbyh4MSwgeTEpXG4gIGN0eC5saW5lVG8oeDIsIHkyKVxuICBjdHguc3Ryb2tlKClcbn1cblxuY29uc3QgZHJhd1Jvb21GZWF0dXJlcyA9IGZ1bmN0aW9uIChjdHgsIGN4LCBjeSwgZmVhdHVyZXMpIHtcbiAgdmFyIGRvb3JTaXplID0gTWF0aC5yb3VuZChQYXJhbS5ST09NX1NJWkUgLyAzKVxuICBpZiAoKGZlYXR1cmVzICYgRmVhdHVyZS5Ob3J0aERvb3IpICE9PSAwKSB7XG4gICAgc3Ryb2tlUGF0aChjdHgsIGN4ICsgZG9vclNpemUsIGN5ICsgLjUsIGN4ICsgUGFyYW0uUk9PTV9TSVpFIC0gZG9vclNpemUsIGN5ICsgLjUpXG4gIH1cbiAgaWYgKChmZWF0dXJlcyAmIEZlYXR1cmUuTm9ydGhXYWxsKSAhPT0gMCkge1xuICAgIHN0cm9rZVBhdGgoY3R4LCBjeCArIDEsIGN5ICsgLjUsIGN4ICsgUGFyYW0uUk9PTV9TSVpFIC0gMSwgY3kgKyAuNSlcbiAgfVxuICBpZiAoKGZlYXR1cmVzICYgRmVhdHVyZS5FYXN0RG9vcikgIT09IDApIHtcbiAgICBzdHJva2VQYXRoKGN0eCwgY3ggKyBQYXJhbS5ST09NX1NJWkUgLSAuNSwgY3kgKyBkb29yU2l6ZSwgY3ggKyBQYXJhbS5ST09NX1NJWkUgLSAuNSwgY3kgKyBQYXJhbS5ST09NX1NJWkUgLSBkb29yU2l6ZSlcbiAgfVxuICBpZiAoKGZlYXR1cmVzICYgRmVhdHVyZS5FYXN0V2FsbCkgIT09IDApIHtcbiAgICBzdHJva2VQYXRoKGN0eCwgY3ggKyBQYXJhbS5ST09NX1NJWkUgLSAuNSwgY3kgKyAxLCBjeCArIFBhcmFtLlJPT01fU0laRSAtIC41LCBjeSArIFBhcmFtLlJPT01fU0laRSAtIDEpXG4gIH1cbiAgaWYgKChmZWF0dXJlcyAmIEZlYXR1cmUuU291dGhEb29yKSAhPT0gMCkge1xuICAgIHN0cm9rZVBhdGgoY3R4LCBjeCArIGRvb3JTaXplLCBjeSArIFBhcmFtLlJPT01fU0laRSAtIC41LCBjeCArIFBhcmFtLlJPT01fU0laRSAtIGRvb3JTaXplLCBjeSArIFBhcmFtLlJPT01fU0laRSAtIC41KVxuICB9XG4gIGlmICgoZmVhdHVyZXMgJiBGZWF0dXJlLlNvdXRoV2FsbCkgIT09IDApIHtcbiAgICBzdHJva2VQYXRoKGN0eCwgY3ggKyAxLCBjeSArIFBhcmFtLlJPT01fU0laRSAtIC41LCBjeCArIFBhcmFtLlJPT01fU0laRSAtIDEsIGN5ICsgUGFyYW0uUk9PTV9TSVpFIC0gLjUpXG4gIH1cbiAgaWYgKChmZWF0dXJlcyAmIEZlYXR1cmUuV2VzdERvb3IpICE9PSAwKSB7XG4gICAgc3Ryb2tlUGF0aChjdHgsIGN4ICsgLjUsIGN5ICsgZG9vclNpemUsIGN4ICsgLjUsIGN5ICsgUGFyYW0uUk9PTV9TSVpFIC0gZG9vclNpemUpXG4gIH1cbiAgaWYgKChmZWF0dXJlcyAmIEZlYXR1cmUuV2VzdFdhbGwpICE9PSAwKSB7XG4gICAgc3Ryb2tlUGF0aChjdHgsIGN4ICsgLjUsIGN5ICsgMSwgY3ggKyAuNSwgY3kgKyBQYXJhbS5ST09NX1NJWkUgLSAxKVxuICB9XG59XG5cbmNvbnN0IE1vdmVOb3J0aCA9IHtvZmZzZXQ6IHt4OiAwLCB5OiAtMX0sIG1hc2s6IEZlYXR1cmUuTm9ydGh9XG5jb25zdCBNb3ZlRWFzdCA9IHtvZmZzZXQ6IHt4OiAxLCB5OiAwfSwgbWFzazogRmVhdHVyZS5FYXN0fVxuY29uc3QgTW92ZVNvdXRoID0ge29mZnNldDoge3g6IDAsIHk6IDF9LCBtYXNrOiBGZWF0dXJlLlNvdXRofVxuY29uc3QgTW92ZVdlc3QgPSB7b2Zmc2V0OiB7eDogLTEsIHk6IDB9LCBtYXNrOiBGZWF0dXJlLldlc3R9XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWUge1xuICBjb25zdHJ1Y3RvcihjYW52YXMpIHtcbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhc1xuICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGhcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICB0aGlzLmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKVxuICAgIHRoaXMuZ3JpZCA9IG5ldyBHcmlkKFxuICAgICAgcGFyc2VJbnQoY2FudmFzLndpZHRoIC8gUGFyYW0uU0NBTEUgLyBQYXJhbS5ST09NX1NJWkUpLFxuICAgICAgcGFyc2VJbnQoY2FudmFzLmhlaWdodCAvIFBhcmFtLlNDQUxFIC8gUGFyYW0uUk9PTV9TSVpFKSlcbiAgICB0aGlzLnJlc2V0KClcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHRoaXMuaGFuZGxlSW5wdXQoZSwgZS5rZXkpKVxuICAgIGxldCBzd2lwZSA9IG5ldyBTd2lwZSh3aW5kb3cuZG9jdW1lbnQuYm9keSlcbiAgICBzd2lwZS5vblN3aXBlID0gKGUsIHN3aXBlRGlyKSA9PiB0aGlzLmhhbmRsZUlucHV0KGUsIHN3aXBlRGlyKVxuICB9XG4gIHJlc2V0KG5ld0hhc2gpIHtcbiAgICBpZiAobmV3SGFzaClcbiAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShudWxsLCBudWxsLCBcIiNcIiArIHJhbmRvbS5nZXRTdGF0ZSgpKVxuICAgIHRoaXMuZ3JpZC5yZXNldCgpXG4gICAgY29uc3QgY2VudGVyWCA9IHBhcnNlSW50KHRoaXMuZ3JpZC53aWR0aCAvIDIpXG4gICAgY29uc3QgY2VudGVyWSA9IHBhcnNlSW50KHRoaXMuZ3JpZC5oZWlnaHQgLyAyKVxuICAgIGdlbmVyYXRlKHRoaXMuZ3JpZCwgcmFuZG9tLCBjZW50ZXJYLCBjZW50ZXJZLCAwLCBQYXJhbS5JVEVSQVRJT05TKVxuICAgIHRoaXMucGxheWVyID0geyBwb3M6IHsgeDogY2VudGVyWCwgeTogY2VudGVyWSB9IH1cbiAgICB0aGlzLmdlbmVyYXRlR2VtcygpXG4gICAgdGhpcy5kcmF3KClcbiAgfVxuICBnZW5lcmF0ZUdlbXMoKSB7XG4gICAgdGhpcy5udW1HZW1zID0gMyArIE1hdGgucm91bmQocmFuZG9tLm5leHQoKSAqIDkpXG4gICAgdGhpcy5nZW1zID0gW11cbiAgICB3aGlsZSAodGhpcy5nZW1zLmxlbmd0aCA8IHRoaXMubnVtR2Vtcykge1xuICAgICAgbGV0IGdlbSA9IHtcbiAgICAgICAgeDogcGFyc2VJbnQocmFuZG9tLm5leHQoKSAqIHRoaXMuZ3JpZC53aWR0aCksXG4gICAgICAgIHk6IHBhcnNlSW50KHJhbmRvbS5uZXh0KCkgKiB0aGlzLmdyaWQuaGVpZ2h0KVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZ3JpZC5nZXQoZ2VtLngsIGdlbS55KSAhPT0gMCkge1xuICAgICAgICB0aGlzLmdlbXMucHVzaChnZW0pXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHBsYXllck1vdmVCeShkZWx0YVZlY3Rvcikge1xuICAgIGxldCBpbml0WCA9IHRoaXMucGxheWVyLnBvcy54XG4gICAgbGV0IGluaXRZID0gdGhpcy5wbGF5ZXIucG9zLnlcbiAgICByb3V0aW5lKDUwMCwgZnVuY3Rpb24gKGRlbHRhKSB7XG4gICAgICB0aGlzLnBsYXllci5wb3MueCA9IGluaXRYICsgZGVsdGFWZWN0b3IueCAqIGRlbHRhXG4gICAgICB0aGlzLnBsYXllci5wb3MueSA9IGluaXRZICsgZGVsdGFWZWN0b3IueSAqIGRlbHRhXG4gICAgICBpZiAoZGVsdGEgPT09IDEpIHtcbiAgICAgICAgdGhpcy5jaGVja0dlbXNDb2xsZWN0ZWQoKVxuICAgICAgfVxuICAgICAgdGhpcy5kcmF3KClcbiAgICB9LmJpbmQodGhpcykpXG4gIH1cbiAgcGxheWVyTW92ZShkaXIpIHtcbiAgICBsZXQgdGFyZ2V0ID0ge1xuICAgICAgeDogdGhpcy5wbGF5ZXIucG9zLnggKyBkaXIub2Zmc2V0LngsXG4gICAgICB5OiB0aGlzLnBsYXllci5wb3MueSArIGRpci5vZmZzZXQueVxuICAgIH1cbiAgICBsZXQgcm9vbUZyb20gPSB0aGlzLmdyaWQuZ2V0KHRoaXMucGxheWVyLnBvcy54LCB0aGlzLnBsYXllci5wb3MueSlcbiAgICBsZXQgcm9vbVRvID0gdGhpcy5ncmlkLmdldCh0YXJnZXQueCwgdGFyZ2V0LnkpXG4gICAgbGV0IGNhbk1vdmVUbyA9IChyb29tVG8gJiBzaGlmdEZlYXR1cmUoZGlyLm1hc2spKSAhPT0gMFxuICAgIGxldCBjYW5Nb3ZlRnJvbSA9IChyb29tRnJvbSAmIGRpci5tYXNrKSAhPT0gMFxuICAgIGlmIChjYW5Nb3ZlRnJvbSAmJiBjYW5Nb3ZlVG8pIHtcbiAgICAgIHRoaXMucGxheWVyTW92ZUJ5KGRpci5vZmZzZXQpXG4gICAgfVxuICB9XG4gIGNoZWNrR2Vtc0NvbGxlY3RlZCgpIHtcbiAgICB0aGlzLmdlbXMgPSB0aGlzLmdlbXMuZmlsdGVyKGZ1bmN0aW9uIChnZW0pIHtcbiAgICAgIHJldHVybiAhKGdlbS54ID09PSB0aGlzLnBsYXllci5wb3MueCAmJiBnZW0ueSA9PT0gdGhpcy5wbGF5ZXIucG9zLnkpXG4gICAgfS5iaW5kKHRoaXMpKVxuICAgIGlmICh0aGlzLmdlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLnJlc2V0KHRydWUpXG4gICAgfVxuICB9XG4gIGhhbmRsZUlucHV0KGUsIGlucHV0KSB7XG4gICAgc3dpdGNoIChpbnB1dCkge1xuICAgICAgY2FzZSBcIlN3aXBlVXBcIjpcbiAgICAgIGNhc2UgXCJBcnJvd1VwXCI6XG4gICAgICAgIHRoaXMucGxheWVyTW92ZShNb3ZlTm9ydGgpXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJTd2lwZURvd25cIjpcbiAgICAgIGNhc2UgXCJBcnJvd0Rvd25cIjpcbiAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlKE1vdmVTb3V0aClcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIlN3aXBlTGVmdFwiOlxuICAgICAgY2FzZSBcIkFycm93TGVmdFwiOlxuICAgICAgICB0aGlzLnBsYXllck1vdmUoTW92ZVdlc3QpXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJTd2lwZVJpZ2h0XCI6XG4gICAgICBjYXNlIFwiQXJyb3dSaWdodFwiOlxuICAgICAgICB0aGlzLnBsYXllck1vdmUoTW92ZUVhc3QpXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgZHJhdygpIHtcbiAgICB0aGlzLmRyYXdNYXplKHRoaXMuY3R4KVxuICAgIHRoaXMuZHJhd0dlbXModGhpcy5jdHgpXG4gICAgdGhpcy5kcmF3UGxheWVyKHRoaXMuY3R4KVxuICB9XG4gIGRyYXdNYXplKGN0eCkge1xuICAgIGN0eC5zYXZlKClcbiAgICBjdHguc2NhbGUoUGFyYW0uU0NBTEUsIFBhcmFtLlNDQUxFKVxuICAgIGN0eC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpXG4gICAgZm9yIChsZXQgZ3ggPSAwOyBneCA8IHRoaXMuZ3JpZC53aWR0aDsgZ3grKykge1xuICAgICAgZm9yIChsZXQgZ3kgPSAwOyBneSA8IHRoaXMuZ3JpZC5oZWlnaHQ7IGd5KyspIHtcbiAgICAgICAgdGhpcy5kcmF3Um9vbShjdHgsIGd4LCBneSlcbiAgICAgIH1cbiAgICB9XG4gICAgY3R4LnJlc3RvcmUoKVxuICB9XG4gIGRyYXdQbGF5ZXIoY3R4KSB7XG4gICAgY3R4LnNhdmUoKVxuICAgIGN0eC5maWxsU3R5bGUgPSBcInJnYmEoODAsIDIyMCwgMjU1LCAxKVwiXG4gICAgdmFyIG9mZnNldE11bHQgPSBQYXJhbS5ST09NX1NJWkUgKiBQYXJhbS5TQ0FMRVxuICAgIHZhciByb29tQ2VudGVyT2Zmc2V0ID0gb2Zmc2V0TXVsdCAqIC40XG4gICAgdmFyIGNhbnZhc1ggPSB0aGlzLnBsYXllci5wb3MueCAqIG9mZnNldE11bHRcbiAgICB2YXIgY2FudmFzWSA9IHRoaXMucGxheWVyLnBvcy55ICogb2Zmc2V0TXVsdFxuICAgIGN0eC5maWxsUmVjdChcbiAgICAgIGNhbnZhc1ggKyByb29tQ2VudGVyT2Zmc2V0LFxuICAgICAgY2FudmFzWSArIHJvb21DZW50ZXJPZmZzZXQsXG4gICAgICBQYXJhbS5TQ0FMRSwgUGFyYW0uU0NBTEUpXG4gICAgY3R4LnJlc3RvcmUoKVxuICB9XG4gIGRyYXdHZW1zKGN0eCkge1xuICAgIGN0eC5zYXZlKClcbiAgICBjdHguZmlsbFN0eWxlID0gXCJyZ2JhKDgwLCAyNTUsIDgwLCAxKVwiXG4gICAgdmFyIG9mZnNldE11bHQgPSBQYXJhbS5ST09NX1NJWkUgKiBQYXJhbS5TQ0FMRVxuICAgIHZhciByb29tQ2VudGVyT2Zmc2V0ID0gb2Zmc2V0TXVsdCAqIC40XG4gICAgZm9yICh2YXIgaSA9IDAsIG4gPSB0aGlzLmdlbXMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICB2YXIgY2FudmFzWCA9IHRoaXMuZ2Vtc1tpXS54ICogb2Zmc2V0TXVsdFxuICAgICAgdmFyIGNhbnZhc1kgPSB0aGlzLmdlbXNbaV0ueSAqIG9mZnNldE11bHRcbiAgICAgIGN0eC5maWxsUmVjdChcbiAgICAgICAgY2FudmFzWCArIHJvb21DZW50ZXJPZmZzZXQsXG4gICAgICAgIGNhbnZhc1kgKyByb29tQ2VudGVyT2Zmc2V0LFxuICAgICAgICBQYXJhbS5TQ0FMRSwgUGFyYW0uU0NBTEUpXG4gICAgfVxuICAgIGN0eC5yZXN0b3JlKClcbiAgfVxuICBkcmF3Um9vbShjdHgsIGd4LCBneSkge1xuICAgIHZhciBmZWF0dXJlcyA9IHRoaXMuZ3JpZC5nZXQoZ3gsIGd5KVxuICAgIGlmIChmZWF0dXJlcyA9PSAwKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgdmFyIGN4ID0gZ3ggKiBQYXJhbS5ST09NX1NJWkVcbiAgICB2YXIgY3kgPSBneSAqIFBhcmFtLlJPT01fU0laRVxuXG4gICAgY3R4LnNhdmUoKVxuICAgIGN0eC5maWxsU3R5bGUgPSBcInJnYmEoMTI4LDEyOCwxMjgsMSlcIlxuICAgIGN0eC5maWxsUmVjdChjeCwgY3ksIFBhcmFtLlJPT01fU0laRSwgUGFyYW0uUk9PTV9TSVpFKVxuICAgIGN0eC5maWxsU3R5bGUgPSBcInJnYmEoNjQsNjQsNjQsMSlcIlxuICAgIGN0eC5maWxsUmVjdChjeCArIDEsIGN5ICsgMSwgUGFyYW0uUk9PTV9TSVpFIC0gMiwgUGFyYW0uUk9PTV9TSVpFIC0gMilcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBcInJnYmEoNjQsIDY0LCA2NCwgMSlcIlxuICAgIGRyYXdSb29tRmVhdHVyZXMoY3R4LCBjeCwgY3ksIGZlYXR1cmVzKVxuICAgIGN0eC5yZXN0b3JlKClcblxuICAgIGN0eC5zYXZlKClcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBcInJnYmEoMCwgMCwgMCwgLjEpXCJcbiAgICBjdHguc2NhbGUoMSAvIFBhcmFtLlNDQUxFLCAxIC8gUGFyYW0uU0NBTEUpXG4gICAgY3R4LnN0cm9rZVJlY3QoXG4gICAgICBjeCAqIFBhcmFtLlNDQUxFICsgLjUsXG4gICAgICBjeSAqIFBhcmFtLlNDQUxFICsgLjUsXG4gICAgICBQYXJhbS5ST09NX1NJWkUgKiBQYXJhbS5TQ0FMRSAtIDEsXG4gICAgICBQYXJhbS5ST09NX1NJWkUgKiBQYXJhbS5TQ0FMRSAtIDEpXG4gICAgY3R4LnJlc3RvcmUoKVxuICB9XG59XG4iLCJpbXBvcnQgXCIuL21haW4uY3NzXCJcbmltcG9ydCBHYW1lIGZyb20gXCIuL2dhbWVcIlxuXG5jb25zdCBzdGFydFNjcmVlbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbmxldCBoaWRlU3RhcnRTY3JlZW5cbmhpZGVTdGFydFNjcmVlbiA9IChlKSA9PiB7XG4gIHN0YXJ0U2NyZWVuLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxuICBzdGFydFNjcmVlbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGlkZVN0YXJ0U2NyZWVuKVxufVxuc3RhcnRTY3JlZW4uY2xhc3NMaXN0LmFkZChcInN0YXJ0LXNjcmVlblwiKVxuc3RhcnRTY3JlZW4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhpZGVTdGFydFNjcmVlbilcbnN0YXJ0U2NyZWVuLmlubmVySFRNTCA9IGBcbjxkaXY+XG48ZGl2IGNsYXNzPVwidGl0bGVcIj5Db2xsZWN0IGdlbXMgaW4gTWF6ZTwvZGl2PlxuPGRpdj5QcmVzcyBhcnJvdyBrZXlzIHRvIG1vdmUuPC9kaXY+XG48ZGl2Pk9yIHN3aXBlIHRvIG1vdmUuPC9kaXY+XG48ZGl2PkNsaWNrIG9yIHRhcCB0byBzdGFydDwvZGl2PlxuPC9kaXY+XG5gXG5sZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKVxuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpXG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHN0YXJ0U2NyZWVuKVxud2luZG93LmdhbWUgPSBuZXcgR2FtZShjYW52YXMpXG4iXSwic291cmNlUm9vdCI6IiJ9